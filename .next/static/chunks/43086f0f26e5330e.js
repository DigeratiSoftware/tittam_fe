(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73504,e=>{"use strict";var a=e.i(45042),t=e.i(9630),l=e.i(2059),s=e.i(18846);let r=(0,l.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:l,asChild:i=!1,...o}){let n=i?t.Slot:"span";return(0,a.jsx)(n,{"data-slot":"badge",className:(0,s.cn)(r({variant:l}),e),...o})}e.s(["Badge",()=>i])},45634,e=>{"use strict";var a=e.i(45042),t=e.i(97817),l=e.i(69194),s=e.i(74536),r=e.i(47206),i=e.i(73261),o=e.i(36640),n=e.i(93474),d=e.i(48298),c=e.i(49572),m="Checkbox",[u,h]=(0,s.createContextScope)(m),[p,x]=u(m),b=t.forwardRef((e,s)=>{let{__scopeCheckbox:o,name:n,checked:d,defaultChecked:m,required:u,disabled:h,value:x="on",onCheckedChange:b,form:v,...g}=e,[N,w]=t.useState(null),A=(0,l.useComposedRefs)(s,e=>w(e)),T=t.useRef(!1),C=!N||v||!!N.closest("form"),[S=!1,F]=(0,i.useControllableState)({prop:d,defaultProp:m,onChange:b}),k=t.useRef(S);return t.useEffect(()=>{let e=N?.form;if(e){let a=()=>F(k.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[N,F]),(0,a.jsxs)(p,{scope:o,state:S,disabled:h,children:[(0,a.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":y(S)?"mixed":S,"aria-required":u,"data-state":j(S),"data-disabled":h?"":void 0,disabled:h,value:x,...g,ref:A,onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,r.composeEventHandlers)(e.onClick,e=>{F(e=>!!y(e)||!e),C&&(T.current=e.isPropagationStopped(),T.current||e.stopPropagation())})}),C&&(0,a.jsx)(f,{control:N,bubbles:!T.current,name:n,value:x,checked:S,required:u,disabled:h,form:v,style:{transform:"translateX(-100%)"},defaultChecked:!y(m)&&m})]})});b.displayName=m;var v="CheckboxIndicator",g=t.forwardRef((e,t)=>{let{__scopeCheckbox:l,forceMount:s,...r}=e,i=x(v,l);return(0,a.jsx)(d.Presence,{present:s||y(i.state)||!0===i.state,children:(0,a.jsx)(c.Primitive.span,{"data-state":j(i.state),"data-disabled":i.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});g.displayName=v;var f=e=>{let{control:l,checked:s,bubbles:r=!0,defaultChecked:i,...d}=e,c=t.useRef(null),m=(0,o.usePrevious)(s),u=(0,n.useSize)(l);t.useEffect(()=>{let e=c.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==s&&a){let t=new Event("click",{bubbles:r});e.indeterminate=y(s),a.call(e,!y(s)&&s),e.dispatchEvent(t)}},[m,s,r]);let h=t.useRef(!y(s)&&s);return(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,...d,tabIndex:-1,ref:c,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(e){return"indeterminate"===e}function j(e){return y(e)?"indeterminate":e?"checked":"unchecked"}var N=e.i(48583),w=e.i(18846);function A({className:e,...t}){return(0,a.jsx)(b,{"data-slot":"checkbox",className:(0,w.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(g,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(N.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>A],45634)},86541,e=>{"use strict";var a=e.i(45042),t=e.i(97817),l=e.i(49572),s=t.forwardRef((e,t)=>(0,a.jsx)(l.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));s.displayName="Label";var r=e.i(18846);function i({className:e,...t}){return(0,a.jsx)(s,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>i],86541)},1508,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},95876,e=>{"use strict";var a=e.i(45042),t=e.i(18846);function l({className:e,type:l,...s}){return(0,a.jsx)("input",{type:l,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>l])},31737,e=>{"use strict";var a=e.i(45042),t=e.i(47937),l=e.i(48592),s=e.i(18846);function r({...e}){return(0,a.jsx)(t.Root,{"data-slot":"dialog",...e})}function i({...e}){return(0,a.jsx)(t.Portal,{"data-slot":"dialog-portal",...e})}function o({className:e,...l}){return(0,a.jsx)(t.Overlay,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...l})}function n({className:e,children:r,showCloseButton:n=!0,...d}){return(0,a.jsxs)(i,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(t.Content,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[r,n&&(0,a.jsxs)(t.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(l.XIcon,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,s.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function m({className:e,...l}){return(0,a.jsx)(t.Title,{"data-slot":"dialog-title",className:(0,s.cn)("text-lg leading-none font-semibold",e),...l})}function u({className:e,...l}){return(0,a.jsx)(t.Description,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...l})}e.s(["Dialog",()=>r,"DialogContent",()=>n,"DialogDescription",()=>u,"DialogFooter",()=>c,"DialogHeader",()=>d,"DialogTitle",()=>m])},53183,e=>{"use strict";let a=(0,e.i(80329).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],53183)},38706,e=>{"use strict";let a=(0,e.i(80329).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],38706)},30014,e=>{"use strict";var a=e.i(45042),t=e.i(18846);function l({className:e,...l}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,t.cn)("w-full caption-bottom text-sm",e),...l})})}function s({className:e,...l}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,t.cn)("[&_tr]:border-b",e),...l})}function r({className:e,...l}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,t.cn)("[&_tr:last-child]:border-0",e),...l})}function i({className:e,...l}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,t.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...l})}function o({className:e,...l}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,t.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l})}function n({className:e,...l}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,t.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l})}e.s(["Table",()=>l,"TableBody",()=>r,"TableCell",()=>n,"TableHead",()=>o,"TableHeader",()=>s,"TableRow",()=>i])},13101,e=>{"use strict";let a=(0,e.i(80329).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>a],13101)},93456,e=>{"use strict";let a=(0,e.i(80329).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>a],93456)},490,e=>{"use strict";var a=e.i(39403);function t(e){return{id:e.componentId,componentId:e.componentId,englishName:e.englishName,tamilName:e.tamilName,componentType:e.componentTypeEnglish,componentTypeEnglish:e.componentTypeEnglish,remark:e.remark,createdDate:new Date(e.createdAt).toISOString().split("T")[0],createdBy:e.createdBy,fieldsCount:0}}let l=new class{async getAllComponents(){try{console.log("[v0] Fetching components from API...");let e=await a.apiClient.get("/api/v1/components");if(e.success&&e.data)return console.log("[v0] Components fetched successfully:",e.data.length),e.data.map(t);return console.log("[v0] API response unsuccessful, returning empty array"),[]}catch(e){return console.error("[v0] Error fetching components:",e),[]}}async createComponent(e){try{console.log("[v0] Creating component:",e);let l=await a.apiClient.post("/api/v1/components",e);if(l.success&&l.data)return console.log("[v0] Component created successfully:",l.data.componentId),t(l.data);throw Error("Failed to create component")}catch(e){throw console.error("[v0] Error creating component:",e),e}}async getComponentById(e){try{console.log("[v0] Fetching component by ID:",e);let l=await a.apiClient.get(`/api/v1/components/${e}`);if(l.success&&l.data)return console.log("[v0] Component fetched successfully:",l.data.componentId),t(l.data);return null}catch(e){return console.error("[v0] Error fetching component:",e),null}}async updateComponent(e,l){try{console.log("[v0] Updating component:",e,l);let s=await a.apiClient.put(`/api/v1/components/${e}`,l);if(s.success&&s.data)return console.log("[v0] Component updated successfully:",s.data.componentId),t(s.data);throw Error("Failed to update component")}catch(e){throw console.error("[v0] Error updating component:",e),e}}async deleteComponent(e){try{if(console.log("[v0] Deleting component:",e),(await a.apiClient.delete(`/api/v1/components/${e}`)).success)return void console.log("[v0] Component deleted successfully:",e);throw Error("Failed to delete component")}catch(e){throw console.error("[v0] Error deleting component:",e),e}}};e.s(["COMPONENT_TYPES",0,["Infrastructure","Individual"],"componentService",0,l])},20648,e=>{"use strict";var a=e.i(50038);e.s(["X",()=>a.default])},57407,e=>{"use strict";let a=(0,e.i(80329).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>a],57407)},79230,e=>{"use strict";var a=e.i(39403);function t(e){return{_id:e._id,id:e.schemeId,schemeId:e.schemeId,englishName:e.englishName,tamilName:e.tamilName,englishAbbreviation:e.englishAbbreviation,remark:e.remark,createdAt:e.createdAt,updatedAt:e.updatedAt,createdBy:e.createdBy?.name||e.createdBy||"Unknown",updatedBy:e.updatedBy?.name||e.updatedBy}}let l=new class{API_BASE="/api/v1/schemes";async getAllSchemes(){try{console.log("[v0] Fetching all schemes from API");let e=await a.apiClient.get(this.API_BASE);if(e.success&&e.data)return console.log("[v0] Successfully fetched schemes:",e.data),e.data.map(t);throw console.error("[v0] Failed to fetch schemes:",e.error),Error(e.error||"Failed to fetch schemes")}catch(e){throw console.error("[v0] Error in getAllSchemes:",e),e}}async createScheme(e){try{console.log("[v0] Creating scheme with data:",e);let l=await a.apiClient.post(this.API_BASE,e);if(l.success&&l.data)return console.log("[v0] Successfully created scheme:",l.data),t(l.data);throw console.error("[v0] Failed to create scheme:",l.error),Error(l.error||"Failed to create scheme")}catch(e){throw console.error("[v0] Error in createScheme:",e),e}}async getSchemeById(e){try{console.log("[v0] Fetching scheme by ID:",e);let l=await a.apiClient.get(`${this.API_BASE}/${e}`);if(l.success&&l.data)return console.log("[v0] Successfully fetched scheme:",l.data),t(l.data);return console.error("[v0] Failed to fetch scheme:",l.error),null}catch(e){return console.error("[v0] Error in getSchemeById:",e),null}}async updateScheme(e,l){try{console.log("[v0] Updating scheme:",e,"with data:",l);let s=await a.apiClient.put(`${this.API_BASE}/${e}`,l);if(s.success&&s.data)return console.log("[v0] Successfully updated scheme:",s.data),t(s.data);throw console.error("[v0] Failed to update scheme:",s.error),Error(s.error||"Failed to update scheme")}catch(e){throw console.error("[v0] Error in updateScheme:",e),e}}async deleteScheme(e){try{console.log("[v0] Deleting scheme:",e);let t=await a.apiClient.delete(`${this.API_BASE}/${e}`);if(t.success)console.log("[v0] Successfully deleted scheme:",e);else throw console.error("[v0] Failed to delete scheme:",t.error),Error(t.error||"Failed to delete scheme")}catch(e){throw console.error("[v0] Error in deleteScheme:",e),e}}};e.s(["schemeService",0,l])},6660,e=>{"use strict";let a=(0,e.i(80329).default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);e.s(["List",()=>a],6660)},39197,92360,e=>{"use strict";var a=e.i(80329);let t=(0,a.default)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);e.s(["Hash",()=>t],39197);let l=(0,a.default)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);e.s(["Type",()=>l],92360)},64831,e=>{"use strict";let a=(0,e.i(80329).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],64831)},75146,e=>{"use strict";var a=e.i(39403);let t=new class{mapApiResponseToTemplateField(e){return{id:e._id,group:e.group,name:e.name,dataType:e.dataType,isRequired:e.isRequired,options:e.options||[],validation:e.validation,isDefault:e.isDefault,order:e.order,componentId:e.componentId||void 0,category:e.category,createdBy:e.createdBy,isSubForm:e.isSubForm||!1,lov:e.lov}}async getFieldsByComponent(e){try{let t=await a.apiClient.get(`/api/v1/fields/component/${e}`);console.log(`[v0] API response for component ${e}:`,t);let l=[];return Array.isArray(t)?l=t:t&&Array.isArray(t.data)||t&&t.success&&Array.isArray(t.data)?l=t.data:t&&t.data&&t.data.success&&Array.isArray(t.data.data)&&(l=t.data.data),console.log("[v0] Extracted fields array:",l),l.map(e=>{let a=this.mapApiResponseToTemplateField(e);return"dropdown"===e.dataType&&e.options&&(console.log(`[v0] Field ${e.name} options from API:`,e.options),console.log(`[v0] Field ${e.name} mapped options:`,a.options)),a})}catch(e){return console.error("Failed to fetch fields by component:",e),[]}}async createField(e){try{return await a.apiClient.post("/api/v1/fields",e)}catch(e){throw console.error("Failed to create field:",e),e}}async updateField(e,t,l){try{return await a.apiClient.patch(`/api/v1/fields/${t}`,l)}catch(e){throw console.error("Failed to update field:",e),e}}async deleteField(e,t){try{return await a.apiClient.delete(`/api/v1/fields/${t}`),!0}catch(e){return console.error("Failed to delete field:",e),!1}}async getNumberFields(){try{let e=await a.apiClient.get("/api/v1/fields/number-fields");console.log("[v0] Number fields API response:",e);let t=[];return Array.isArray(e)?t=e:e&&Array.isArray(e.data)||e&&e.success&&Array.isArray(e.data)?t=e.data:e&&e.data&&e.data.success&&Array.isArray(e.data.data)&&(t=e.data.data),console.log("[v0] Extracted number fields array:",t),t.map(e=>({id:e.name,name:e.name,dataType:"number"}))}catch(e){return console.error("Failed to fetch number fields:",e),[]}}};e.s(["templateService",0,t])},7056,e=>{"use strict";var a=e.i(45042),t=e.i(97817),l=e.i(53790),s=e.i(95876),r=e.i(75987),i=e.i(73504),o=e.i(53183),n=e.i(16020),d=e.i(93456),c=e.i(39197),m=e.i(92360),u=e.i(6660);let h=(0,e.i(80329).default)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);var p=e.i(57407),x=e.i(64831),b=e.i(13101),v=e.i(75146),g=e.i(79230),f=e.i(490),y=e.i(31737),j=e.i(86541),N=e.i(45634),w=e.i(20648),A=e.i(38706);let T=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"date",label:"Date"},{value:"dropdown",label:"Dropdown"},{value:"boolean",label:"Yes/No"},{value:"file",label:"File Upload"},{value:"textarea",label:"Text Area"},{value:"geoLocation",label:"Geo Location"},{value:"calculation",label:"Calculation"}],C=[{value:"+",label:"Addition (+)"},{value:"-",label:"Subtraction (-)"},{value:"*",label:"Multiplication (*)"},{value:"/",label:"Division (/)"},{value:"%",label:"Modulus (%)"}];function S({open:e,onOpenChange:o,onSubmit:n}){let[d,c]=(0,t.useState)({name:"",dataType:"",isRequired:!1,options:[],validation:{type:"",min:void 0,max:void 0,range:"",field1:"",field2:"",operator:"",dateAllowed:""}}),[m,u]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),[x,b]=(0,t.useState)([]);(0,t.useEffect)(()=>{"calculation"===d.dataType&&g()},[d.dataType]);let g=async()=>{try{let e=await v.templateService.getNumberFields();b(e)}catch(e){console.error("Failed to load number fields:",e)}},f=async e=>{if(e.preventDefault(),d.name&&d.dataType){p(!0);try{let e={type:d.dataType};("number"===d.dataType||"text"===d.dataType||"textarea"===d.dataType)&&(void 0!==d.validation.min&&(e.min=d.validation.min),void 0!==d.validation.max&&(e.max=d.validation.max)),"calculation"===d.dataType&&(e.field1=d.validation.field1,e.field2=d.validation.field2,e.operator=d.validation.operator),"date"===d.dataType&&(e.dateAllowed=d.validation.dateAllowed||"both");let a={name:d.name,dataType:d.dataType,isRequired:d.isRequired,isDefault:!1,order:999,group:"Custom Fields",...d.options.length>0&&{options:d.options},validation:e};await n(a),c({name:"",dataType:"",isRequired:!1,options:[],validation:{type:"",min:void 0,max:void 0,range:"",field1:"",field2:"",operator:"",dateAllowed:""}}),u("")}catch(e){console.error("Failed to create field:",e)}finally{p(!1)}}},S=()=>{m.trim()&&!d.options.includes(m.trim())&&(c(e=>({...e,options:[...e.options,m.trim()]})),u(""))},F="dropdown"===d.dataType,k="number"===d.dataType||"text"===d.dataType||"textarea"===d.dataType,E="calculation"===d.dataType,D="date"===d.dataType;return(0,a.jsx)(y.Dialog,{open:e,onOpenChange:o,children:(0,a.jsxs)(y.DialogContent,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto border-0 shadow-2xl bg-white/95 backdrop-blur-sm",onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#013A65]/5 to-[#F3B335]/5 rounded-lg"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(y.DialogHeader,{className:"pb-6",children:[(0,a.jsx)(y.DialogTitle,{className:"text-2xl font-bold bg-gradient-to-r from-[#013A65] to-[#F3B335] bg-clip-text text-transparent",children:"Add New Field"}),(0,a.jsx)(y.DialogDescription,{className:"text-slate-600",children:"Create a new field for your template with validation rules"})]}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"name",className:"text-sm font-semibold text-slate-700",children:"Field Name *"}),(0,a.jsx)(s.Input,{id:"name",value:d.name,onChange:e=>c(a=>({...a,name:e.target.value})),placeholder:"Enter field name",className:"h-12 bg-white border-slate-300 focus:border-[#013A65] focus:ring-[#013A65]/20",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"dataType",className:"text-sm font-semibold text-slate-700",children:"Data Type *"}),(0,a.jsxs)(r.Select,{value:d.dataType,onValueChange:e=>c(a=>({...a,dataType:e,options:[]})),children:[(0,a.jsx)(r.SelectTrigger,{className:"h-12 w-full min-h-[48px] bg-white border-slate-300 focus:border-[#013A65] focus:ring-[#013A65]/20",children:(0,a.jsx)(r.SelectValue,{placeholder:"Select data type"})}),(0,a.jsx)(r.SelectContent,{className:"bg-white",children:T.map(e=>(0,a.jsx)(r.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.Checkbox,{id:"required",checked:d.isRequired,onCheckedChange:e=>c(a=>({...a,isRequired:e}))}),(0,a.jsx)(j.Label,{htmlFor:"required",className:"text-sm font-semibold text-slate-700",children:"Required field"})]}),F&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,a.jsx)(j.Label,{className:"text-sm font-semibold text-slate-700",children:"Dropdown Options"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(s.Input,{value:m,onChange:e=>u(e.target.value),placeholder:"Add option",className:"flex-1 h-10 bg-white border-slate-300 focus:border-[#013A65]",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),S())}),(0,a.jsx)(l.Button,{type:"button",onClick:S,className:"bg-[#013A65] hover:bg-[#013A65]/90 text-white h-10",children:"Add"})]}),d.options.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:d.options.map((e,t)=>(0,a.jsxs)(i.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,a.jsx)(w.X,{className:"h-3 w-3 cursor-pointer hover:text-red-600",onClick:()=>{c(e=>({...e,options:e.options.filter((e,a)=>a!==t)}))}})]},t))})]}),k&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,a.jsx)(j.Label,{className:"text-sm font-semibold text-slate-700",children:"Validation Rules"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"min",className:"text-xs text-slate-600",children:"number"===d.dataType?"Minimum Value":"Minimum Length"}),(0,a.jsx)(s.Input,{id:"min",type:"number",value:d.validation.min||"",onChange:e=>c(a=>({...a,validation:{...a.validation,min:e.target.value?Number(e.target.value):void 0}})),placeholder:"Min",className:"h-10 bg-white border-slate-300 focus:border-[#013A65]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"max",className:"text-xs text-slate-600",children:"number"===d.dataType?"Maximum Value":"Maximum Length"}),(0,a.jsx)(s.Input,{id:"max",type:"number",value:d.validation.max||"",onChange:e=>c(a=>({...a,validation:{...a.validation,max:e.target.value?Number(e.target.value):void 0}})),placeholder:"Max",className:"h-10 bg-white border-slate-300 focus:border-[#013A65]"})]})]})]}),E&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,a.jsx)(j.Label,{className:"text-sm font-semibold text-slate-700",children:"Calculation Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"field1",className:"text-xs text-slate-600",children:"Field 1"}),(0,a.jsxs)(r.Select,{value:d.validation.field1,onValueChange:e=>c(a=>({...a,validation:{...a.validation,field1:e}})),children:[(0,a.jsx)(r.SelectTrigger,{className:"h-10 bg-white border-slate-300 focus:border-[#013A65]",children:(0,a.jsx)(r.SelectValue,{placeholder:"Select field"})}),(0,a.jsx)(r.SelectContent,{className:"bg-white",children:x.map(e=>(0,a.jsx)(r.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"operator",className:"text-xs text-slate-600",children:"Operator"}),(0,a.jsxs)(r.Select,{value:d.validation.operator,onValueChange:e=>c(a=>({...a,validation:{...a.validation,operator:e}})),children:[(0,a.jsx)(r.SelectTrigger,{className:"h-10 bg-white border-slate-300 focus:border-[#013A65]",children:(0,a.jsx)(r.SelectValue,{placeholder:"Select operator"})}),(0,a.jsx)(r.SelectContent,{className:"bg-white",children:C.map(e=>(0,a.jsx)(r.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"field2",className:"text-xs text-slate-600",children:"Field 2"}),(0,a.jsxs)(r.Select,{value:d.validation.field2,onValueChange:e=>c(a=>({...a,validation:{...a.validation,field2:e}})),children:[(0,a.jsx)(r.SelectTrigger,{className:"h-10 bg-white border-slate-300 focus:border-[#013A65]",children:(0,a.jsx)(r.SelectValue,{placeholder:"Select field"})}),(0,a.jsx)(r.SelectContent,{className:"bg-white",children:x.map(e=>(0,a.jsx)(r.SelectItem,{value:e.id,children:e.name},e.id))})]})]})]})]}),D&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,a.jsx)(j.Label,{className:"text-sm font-semibold text-slate-700",children:"Date Validation"}),(0,a.jsxs)(r.Select,{value:d.validation.dateAllowed,onValueChange:e=>c(a=>({...a,validation:{...a.validation,dateAllowed:e}})),children:[(0,a.jsx)(r.SelectTrigger,{className:"h-10 bg-white border-slate-300 focus:border-[#013A65]",children:(0,a.jsx)(r.SelectValue,{placeholder:"Select date validation"})}),(0,a.jsxs)(r.SelectContent,{className:"bg-white",children:[(0,a.jsx)(r.SelectItem,{value:"future",children:"Future dates only"}),(0,a.jsx)(r.SelectItem,{value:"past",children:"Past dates only"}),(0,a.jsx)(r.SelectItem,{value:"both",children:"Both future and past"})]})]})]}),(0,a.jsxs)(y.DialogFooter,{className:"pt-6 border-t border-slate-200",children:[(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:h,className:"border-slate-300 hover:bg-slate-50",children:"Cancel"}),(0,a.jsx)(l.Button,{type:"submit",disabled:h||!d.name||!d.dataType,className:"bg-gradient-to-r from-[#013A65] to-[#F3B335] hover:from-[#013A65]/90 hover:to-[#F3B335]/90 text-white border-0 shadow-lg",children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Field"})]})]})]})]})})}let F=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"date",label:"Date"},{value:"dateRange",label:"Date Range"},{value:"dropdown",label:"Dropdown"},{value:"boolean",label:"Yes/No"},{value:"file",label:"File Upload"},{value:"textarea",label:"Text Area"},{value:"geoLocation",label:"Geo Location"}];function k({open:e,onOpenChange:o,field:n,onSubmit:d}){let[c,m]=(0,t.useState)({name:"",dataType:"",isRequired:!1,options:[],validation:{min:void 0,max:void 0}}),[u,h]=(0,t.useState)(""),[p,x]=(0,t.useState)(!1);(0,t.useEffect)(()=>{n&&m({name:n.name,dataType:n.dataType,isRequired:n.isRequired,options:n.options||[],validation:n.validation||{min:void 0,max:void 0}})},[n]);let b=async e=>{if(e.preventDefault(),c.name&&c.dataType){x(!0);try{let e={name:c.name,dataType:c.dataType,isRequired:c.isRequired,...c.options.length>0&&{options:c.options},...(void 0!==c.validation.min||void 0!==c.validation.max)&&{validation:{...void 0!==c.validation.min&&{min:c.validation.min},...void 0!==c.validation.max&&{max:c.validation.max}}}};await d(e)}catch(e){console.error("Failed to update field:",e)}finally{x(!1)}}},v=()=>{u.trim()&&!c.options.includes(u.trim())&&(m(e=>({...e,options:[...e.options,u.trim()]})),h(""))},g="dropdown"===c.dataType,f="number"===c.dataType||"text"===c.dataType||"textarea"===c.dataType;return(0,a.jsx)(y.Dialog,{open:e,onOpenChange:o,children:(0,a.jsxs)(y.DialogContent,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto border-0 shadow-2xl bg-white/95 backdrop-blur-sm",onPointerDownOutside:e=>e.preventDefault(),onEscapeKeyDown:e=>e.preventDefault(),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#013A65]/5 to-[#F3B335]/5 rounded-lg"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(y.DialogHeader,{className:"pb-6",children:[(0,a.jsx)(y.DialogTitle,{className:"text-2xl font-bold bg-gradient-to-r from-[#013A65] to-[#F3B335] bg-clip-text text-transparent",children:"Edit Field"}),(0,a.jsx)(y.DialogDescription,{className:"text-slate-600",children:"Update field properties and validation rules"})]}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"name",className:"text-sm font-semibold text-slate-700",children:"Field Name *"}),(0,a.jsx)(s.Input,{id:"name",value:c.name,onChange:e=>m(a=>({...a,name:e.target.value})),placeholder:"Enter field name",className:"h-12 bg-white border-slate-300 focus:border-[#013A65] focus:ring-[#013A65]/20",required:!0,disabled:n.isDefault})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"dataType",className:"text-sm font-semibold text-slate-700",children:"Data Type *"}),(0,a.jsxs)(r.Select,{value:c.dataType,onValueChange:e=>m(a=>({...a,dataType:e,options:[]})),disabled:n.isDefault,children:[(0,a.jsx)(r.SelectTrigger,{className:"h-12 w-full min-h-[48px] bg-white border-slate-300 focus:border-[#013A65] focus:ring-[#013A65]/20",children:(0,a.jsx)(r.SelectValue,{placeholder:"Select data type"})}),(0,a.jsx)(r.SelectContent,{className:"bg-white",children:F.map(e=>(0,a.jsx)(r.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.Checkbox,{id:"required",checked:c.isRequired,onCheckedChange:e=>m(a=>({...a,isRequired:e})),disabled:n.isDefault}),(0,a.jsx)(j.Label,{htmlFor:"required",className:"text-sm font-semibold text-slate-700",children:"Required field"})]}),g&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,a.jsx)(j.Label,{className:"text-sm font-semibold text-slate-700",children:"Dropdown Options"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(s.Input,{value:u,onChange:e=>h(e.target.value),placeholder:"Add option",className:"flex-1 h-10 bg-white border-slate-300 focus:border-[#013A65]",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),v())}),(0,a.jsx)(l.Button,{type:"button",onClick:v,className:"bg-[#013A65] hover:bg-[#013A65]/90 text-white h-10",children:"Add"})]}),c.options.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:c.options.map((e,t)=>(0,a.jsxs)(i.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,a.jsx)(w.X,{className:"h-3 w-3 cursor-pointer hover:text-red-600",onClick:()=>{m(e=>({...e,options:e.options.filter((e,a)=>a!==t)}))}})]},t))})]}),f&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,a.jsx)(j.Label,{className:"text-sm font-semibold text-slate-700",children:"Validation Rules"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"min",className:"text-xs text-slate-600",children:"number"===c.dataType?"Minimum Value":"Minimum Length"}),(0,a.jsx)(s.Input,{id:"min",type:"number",value:c.validation.min||"",onChange:e=>m(a=>({...a,validation:{...a.validation,min:e.target.value?Number(e.target.value):void 0}})),placeholder:"Min",className:"h-10 bg-white border-slate-300 focus:border-[#013A65]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.Label,{htmlFor:"max",className:"text-xs text-slate-600",children:"number"===c.dataType?"Maximum Value":"Maximum Length"}),(0,a.jsx)(s.Input,{id:"max",type:"number",value:c.validation.max||"",onChange:e=>m(a=>({...a,validation:{...a.validation,max:e.target.value?Number(e.target.value):void 0}})),placeholder:"Max",className:"h-10 bg-white border-slate-300 focus:border-[#013A65]"})]})]})]}),n.isDefault&&(0,a.jsx)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-amber-800",children:"This is a default field. Some properties cannot be modified."})}),(0,a.jsxs)(y.DialogFooter,{className:"pt-6 border-t border-slate-200",children:[(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:p,className:"border-slate-300 hover:bg-slate-50",children:"Cancel"}),(0,a.jsx)(l.Button,{type:"submit",disabled:p||!c.name||!c.dataType,className:"bg-gradient-to-r from-[#013A65] to-[#F3B335] hover:from-[#013A65]/90 hover:to-[#F3B335]/90 text-white border-0 shadow-lg",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Field"})]})]})]})]})})}var E=e.i(30014);function D(){let[e,y]=(0,t.useState)([]),[j,N]=(0,t.useState)([]),[w,A]=(0,t.useState)(""),[T,C]=(0,t.useState)(""),[F,D]=(0,t.useState)(null),[B,I]=(0,t.useState)([]),[L,R]=(0,t.useState)(""),[P,M]=(0,t.useState)(!1),[q,H]=(0,t.useState)(!1),[V,O]=(0,t.useState)(!1),[z,$]=(0,t.useState)(null);(0,t.useEffect)(()=>{_()},[]),(0,t.useEffect)(()=>{w?U():(N([]),C(""))},[w]),(0,t.useEffect)(()=>{w&&T?K():D(null)},[w,T]),(0,t.useEffect)(()=>{F?I(F.fields.filter(e=>e.name.toLowerCase().includes(L.toLowerCase())||e.dataType.toLowerCase().includes(L.toLowerCase())).sort((e,a)=>e.order-a.order)):I([])},[L,F]);let _=async()=>{try{let e=await g.schemeService.getAllSchemes();y(e)}catch(e){console.error("Failed to load schemes:",e)}},U=async()=>{try{let e=await f.componentService.getAllComponents();N(e)}catch(e){console.error("Failed to load components:",e)}},K=async()=>{M(!0);try{console.log("[v0] Loading template for component ID:",T);let e=await v.templateService.getFieldsByComponent(T);console.log("[v0] API response for component",T,":",e);let a={id:`template-${w}-${T}`,schemeId:w,componentId:T,subComponentId:"default",fields:e,createdAt:new Date().toISOString().split("T")[0],createdBy:"API",updatedAt:new Date().toISOString().split("T")[0],updatedBy:"API"};D(a),console.log("[v0] Template created with",e.length,"fields")}catch(e){console.error("Failed to load template:",e),D(null)}finally{M(!1)}},X=async e=>{if(F)try{let a={...e,componentId:T};console.log("[v0] Creating field with componentId:",T),await v.templateService.createField(a),await K(),H(!1)}catch(e){console.error("Failed to create field:",e)}},G=async(e,a)=>{if(F)try{await v.templateService.updateField(F.id,e,a),await K(),O(!1),$(null)}catch(e){console.error("Failed to update field:",e)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 rounded-lg py-3 px-6 text-white shadow-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Template Management"}),(0,a.jsx)("p",{className:"text-white/80 text-sm mt-1",children:"Manage work templates and field configurations"})]}),F&&(0,a.jsxs)(l.Button,{onClick:()=>H(!0),size:"sm",className:"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 hover:from-[#F3B335]/90 hover:to-[#F3B335]/80 text-[#013A65] border-0 shadow-lg hover:shadow-xl transition-all duration-300 h-9 px-4 text-sm font-medium",children:[(0,a.jsx)(o.Plus,{className:"h-4 w-4 mr-2"})," Add Field"]})]})}),(0,a.jsx)("div",{className:"bg-[#EDEEF0]/30 p-4 rounded-lg",children:(0,a.jsx)("div",{className:"flex items-end justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-end",children:[(0,a.jsxs)("div",{className:"mr-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#013A65] mb-2",children:"Select Scheme"}),(0,a.jsxs)(r.Select,{value:w,onValueChange:A,children:[(0,a.jsx)(r.SelectTrigger,{className:"h-9 w-72",children:(0,a.jsx)(r.SelectValue,{placeholder:"Choose a scheme"})}),(0,a.jsx)(r.SelectContent,{className:"border border-[#EDEEF0]",children:e.map(e=>(0,a.jsx)(r.SelectItem,{value:e.id,className:"hover:bg-[#F8F8F8]",children:e.englishAbbreviation},e.id))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#013A65] mb-2",children:"Select Component"}),(0,a.jsxs)(r.Select,{value:T,onValueChange:C,disabled:!w,children:[(0,a.jsx)(r.SelectTrigger,{className:"h-9 w-72",children:(0,a.jsx)(r.SelectValue,{placeholder:"Choose a component"})}),(0,a.jsx)(r.SelectContent,{className:"border border-[#EDEEF0]",children:j.map(e=>(0,a.jsxs)(r.SelectItem,{value:e.id,className:"hover:bg-[#F8F8F8]",children:[e.englishName," / ",e.tamilName]},e.id))})]})]})]})})}),F&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#013A65]/50 h-4 w-4"}),(0,a.jsx)(s.Input,{placeholder:"Search template fields...",value:L,onChange:e=>R(e.target.value),className:"pl-10 bg-white border-[#EDEEF0] focus:border-[#F3B335] focus:ring-[#F3B335]/20 h-10"})]}),P?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,a.jsxs)(E.Table,{children:[(0,a.jsx)(E.TableHeader,{children:(0,a.jsxs)(E.TableRow,{className:"bg-[#F3B335] hover:bg-[#F3B335]",children:[(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Group Name"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Field Name"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Data Type"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Required"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Default"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Options"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Validation"})]})}),(0,a.jsx)(E.TableBody,{children:Array.from({length:5}).map((e,t)=>(0,a.jsxs)(E.TableRow,{children:[(0,a.jsx)(E.TableCell,{children:(0,a.jsx)("div",{className:"h-4 bg-[#EDEEF0] rounded animate-pulse"})}),(0,a.jsx)(E.TableCell,{children:(0,a.jsx)("div",{className:"h-4 bg-[#EDEEF0] rounded animate-pulse"})}),(0,a.jsx)(E.TableCell,{children:(0,a.jsx)("div",{className:"h-4 bg-[#EDEEF0] rounded animate-pulse"})}),(0,a.jsx)(E.TableCell,{children:(0,a.jsx)("div",{className:"h-4 bg-[#EDEEF0] rounded animate-pulse"})}),(0,a.jsx)(E.TableCell,{children:(0,a.jsx)("div",{className:"h-4 bg-[#EDEEF0] rounded animate-pulse"})}),(0,a.jsx)(E.TableCell,{children:(0,a.jsx)("div",{className:"h-4 bg-[#EDEEF0] rounded animate-pulse"})}),(0,a.jsx)(E.TableCell,{children:(0,a.jsx)("div",{className:"h-4 bg-[#EDEEF0] rounded animate-pulse"})})]},t))})]})}):F?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,a.jsxs)(E.Table,{children:[(0,a.jsx)(E.TableHeader,{children:(0,a.jsxs)(E.TableRow,{className:"bg-[#F3B335] hover:bg-[#F3B335]",children:[(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Group Name"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Field Name"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Data Type"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Required"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Default"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Options"}),(0,a.jsx)(E.TableHead,{className:"text-[#013A65] font-semibold",children:"Validation"})]})}),(0,a.jsx)(E.TableBody,{children:0===B.length?(0,a.jsx)(E.TableRow,{children:(0,a.jsx)(E.TableCell,{colSpan:7,className:"text-center py-8",children:(0,a.jsx)("div",{className:"text-[#013A65]/60",children:L?"No fields found matching your search.":"No template fields found."})})}):B.map(e=>(0,a.jsxs)(E.TableRow,{className:"hover:bg-[#F8F8F8]/50",children:[(0,a.jsx)(E.TableCell,{children:(0,a.jsx)(i.Badge,{variant:"outline",className:"bg-[#013A65]/10 text-[#013A65] border-[#013A65]/20",children:e.group})}),(0,a.jsx)(E.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-1.5 bg-gradient-to-r from-[#F3B335]/20 to-[#013A65]/20 rounded-md flex-shrink-0",children:(e=>{switch(e){case"text":default:return(0,a.jsx)(m.Type,{className:"h-4 w-4"});case"number":return(0,a.jsx)(c.Hash,{className:"h-4 w-4"});case"date":case"dateRange":return(0,a.jsx)(d.Calendar,{className:"h-4 w-4"});case"dropdown":return(0,a.jsx)(u.List,{className:"h-4 w-4"});case"boolean":return(0,a.jsx)(h,{className:"h-4 w-4"});case"file":return(0,a.jsx)(p.Upload,{className:"h-4 w-4"});case"textarea":return(0,a.jsx)(n.FileText,{className:"h-4 w-4"});case"geoLocation":return(0,a.jsx)(x.MapPin,{className:"h-4 w-4"})}})(e.dataType)}),(0,a.jsx)("span",{className:"font-medium text-[#013A65]",children:e.name})]})}),(0,a.jsx)(E.TableCell,{children:(0,a.jsx)(i.Badge,{variant:"outline",className:"bg-[#F3B335]/20 text-[#013A65] border-[#F3B335]/30",children:e.dataType})}),(0,a.jsx)(E.TableCell,{children:e.isRequired?(0,a.jsx)(i.Badge,{variant:"destructive",className:"text-xs",children:"Required"}):(0,a.jsx)("span",{className:"text-[#013A65]/60",children:"No"})}),(0,a.jsx)(E.TableCell,{children:e.isDefault?(0,a.jsx)(i.Badge,{variant:"secondary",className:"text-xs bg-[#013A65]/20 text-[#013A65]",children:"Default"}):(0,a.jsx)("span",{className:"text-[#013A65]/60",children:"No"})}),(0,a.jsx)(E.TableCell,{children:e.options&&e.options.length>0?(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.options.slice(0,2).map((e,t)=>{let l="string"==typeof e?e:e.englishName||e.nameEnglish||e.label||e.value||String(e);return(0,a.jsx)(i.Badge,{variant:"outline",className:"text-xs bg-[#F3B335]/10 text-[#013A65] border-[#F3B335]/20",children:l},t)}),e.options.length>2&&(0,a.jsxs)(i.Badge,{variant:"outline",className:"text-xs bg-[#F3B335]/10 text-[#013A65] border-[#F3B335]/20",children:["+",e.options.length-2]})]}):(0,a.jsx)("span",{className:"text-[#013A65]/60",children:"None"})}),(0,a.jsx)(E.TableCell,{children:e.validation?(0,a.jsxs)("div",{className:"text-xs text-[#013A65]/70",children:[void 0!==e.validation.min&&(0,a.jsxs)("span",{children:["Min: ",e.validation.min]}),void 0!==e.validation.min&&void 0!==e.validation.max&&(0,a.jsx)("span",{children:" | "}),void 0!==e.validation.max&&(0,a.jsxs)("span",{children:["Max: ",e.validation.max]})]}):(0,a.jsx)("span",{className:"text-[#013A65]/60",children:"None"})})]},e.id))})]})}):w&&T?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"text-[#013A65]/70",children:"No template found. Creating default template..."})}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[(0,a.jsx)("div",{className:"mx-auto w-12 h-12 bg-gradient-to-br from-[#F3B335]/20 to-[#013A65]/20 rounded-xl flex items-center justify-center mb-4",children:(0,a.jsx)(n.FileText,{className:"h-6 w-6 text-[#013A65]"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2 text-[#013A65]",children:"No templates found"}),(0,a.jsx)("p",{className:"text-sm text-[#013A65]/70 mb-4 max-w-md mx-auto",children:"Select scheme and component to view and manage template fields."})]}),(0,a.jsx)(S,{open:q,onOpenChange:H,onSubmit:X}),z&&(0,a.jsx)(k,{open:V,onOpenChange:O,field:z,onSubmit:e=>G(z.id,e)})]})}e.s(["TemplateManagement",()=>D],7056)}]);