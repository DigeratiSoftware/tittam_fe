(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},30014,e=>{"use strict";var t=e.i(45042),r=e.i(18846);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...a})})}function n({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...a})}function s({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...a})}function o({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function i({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function d({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>s,"TableCell",()=>d,"TableHead",()=>i,"TableHeader",()=>n,"TableRow",()=>o])},81251,e=>{"use strict";var t=e.i(45042),r=e.i(97817),a=e.i(47206),n=e.i(74536),s=e.i(54054),o=e.i(69194),i=e.i(2045),d=e.i(49572),l=e.i(4096),c=e.i(73261),u=e.i(32930),m="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[f,b,x]=(0,s.createCollection)(p),[v,y]=(0,n.createContextScope)(p,[x]),[g,w]=v(p),S=r.forwardRef((e,r)=>(0,t.jsx)(f.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(f.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(T,{...e,ref:r})})}));S.displayName=p;var T=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,orientation:i,loop:p=!1,dir:f,currentTabStopId:x,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:y,onEntryFocus:w,preventScrollOnEntryFocus:S=!1,...T}=e,j=r.useRef(null),N=(0,o.useComposedRefs)(n,j),k=(0,u.useDirection)(f),[R=null,D]=(0,c.useControllableState)({prop:x,defaultProp:v,onChange:y}),[C,E]=r.useState(!1),A=(0,l.useCallbackRef)(w),I=b(s),_=r.useRef(!1),[P,B]=r.useState(0);return r.useEffect(()=>{let e=j.current;if(e)return e.addEventListener(m,A),()=>e.removeEventListener(m,A)},[A]),(0,t.jsx)(g,{scope:s,orientation:i,dir:k,loop:p,currentTabStopId:R,onItemFocus:r.useCallback(e=>D(e),[D]),onItemShiftTab:r.useCallback(()=>E(!0),[]),onFocusableItemAdd:r.useCallback(()=>B(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>B(e=>e-1),[]),children:(0,t.jsx)(d.Primitive.div,{tabIndex:C||0===P?-1:0,"data-orientation":i,...T,ref:N,style:{outline:"none",...e.style},onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,()=>{_.current=!0}),onFocus:(0,a.composeEventHandlers)(e.onFocus,e=>{let t=!_.current;if(e.target===e.currentTarget&&t&&!C){let t=new CustomEvent(m,h);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=I().filter(e=>e.focusable);F([e.find(e=>e.active),e.find(e=>e.id===R),...e].filter(Boolean).map(e=>e.ref.current),S)}}_.current=!1}),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>E(!1))})})}),j="RovingFocusGroupItem",N=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,focusable:o=!0,active:l=!1,tabStopId:c,...u}=e,m=(0,i.useId)(),h=c||m,p=w(j,s),x=p.currentTabStopId===h,v=b(s),{onFocusableItemAdd:y,onFocusableItemRemove:g}=p;return r.useEffect(()=>{if(o)return y(),()=>g()},[o,y,g]),(0,t.jsx)(f.ItemSlot,{scope:s,id:h,focusable:o,active:l,children:(0,t.jsx)(d.Primitive.span,{tabIndex:x?0:-1,"data-orientation":p.orientation,...u,ref:n,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{o?p.onItemFocus(h):e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let n=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return k[n]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=v().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&n.reverse();let s=n.indexOf(e.currentTarget);n=p.loop?(r=n,a=s+1,r.map((e,t)=>r[(a+t)%r.length])):n.slice(s+1)}setTimeout(()=>F(n))}})})})});N.displayName=j;var k={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var R=e.i(48298),D="Tabs",[C,E]=(0,n.createContextScope)(D,[y]),A=y(),[I,_]=C(D),P=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,onValueChange:s,defaultValue:o,orientation:l="horizontal",dir:m,activationMode:h="automatic",...p}=e,f=(0,u.useDirection)(m),[b,x]=(0,c.useControllableState)({prop:n,onChange:s,defaultProp:o});return(0,t.jsx)(I,{scope:a,baseId:(0,i.useId)(),value:b,onValueChange:x,orientation:l,dir:f,activationMode:h,children:(0,t.jsx)(d.Primitive.div,{dir:f,"data-orientation":l,...p,ref:r})})});P.displayName=D;var B="TabsList",q=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:n=!0,...s}=e,o=_(B,a),i=A(a);return(0,t.jsx)(S,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:(0,t.jsx)(d.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:r})})});q.displayName=B;var H="TabsTrigger",M=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:s,disabled:o=!1,...i}=e,l=_(H,n),c=A(n),u=z(l.baseId,s),m=K(l.baseId,s),h=s===l.value;return(0,t.jsx)(N,{asChild:!0,...c,focusable:!o,active:h,children:(0,t.jsx)(d.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...i,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(s)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(s)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==l.activationMode;h||o||!e||l.onValueChange(s)})})})});M.displayName=H;var W="TabsContent",L=r.forwardRef((e,a)=>{let{__scopeTabs:n,value:s,forceMount:o,children:i,...l}=e,c=_(W,n),u=z(c.baseId,s),m=K(c.baseId,s),h=s===c.value,p=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(R.Presence,{present:o||h,children:({present:r})=>(0,t.jsx)(d.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:m,tabIndex:0,...l,ref:a,style:{...e.style,animationDuration:p.current?"0s":void 0},children:r&&i})})});function z(e,t){return`${e}-trigger-${t}`}function K(e,t){return`${e}-content-${t}`}L.displayName=W;var O=e.i(18846);function V({className:e,...r}){return(0,t.jsx)(P,{"data-slot":"tabs",className:(0,O.cn)("flex flex-col gap-2",e),...r})}function U({className:e,...r}){return(0,t.jsx)(q,{"data-slot":"tabs-list",className:(0,O.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...r})}function $({className:e,...r}){return(0,t.jsx)(M,{"data-slot":"tabs-trigger",className:(0,O.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function G({className:e,...r}){return(0,t.jsx)(L,{"data-slot":"tabs-content",className:(0,O.cn)("flex-1 outline-none",e),...r})}e.s(["Tabs",()=>V,"TabsContent",()=>G,"TabsList",()=>U,"TabsTrigger",()=>$],81251)},76196,e=>{"use strict";let t=[{id:"work_1",name:"Work Name",dataType:"text",source:"work",required:!0,order:1},{id:"work_2",name:"Work Code",dataType:"text",source:"work",required:!0,order:2},{id:"work_3",name:"Estimate Amount",dataType:"number",source:"work",required:!0,order:3},{id:"work_4",name:"Contractor Name",dataType:"text",source:"work",required:!1,order:4},{id:"work_5",name:"Start Date",dataType:"date",source:"work",required:!1,order:5},{id:"work_6",name:"Completion Date",dataType:"date",source:"work",required:!1,order:6},{id:"work_7",name:"Status",dataType:"dropdown",source:"work",options:["Not Started","In Progress","Completed"],required:!0,order:7}],r=[{id:"info_1",name:"Zone",dataType:"text",source:"infohub",required:!0,order:1},{id:"info_2",name:"District",dataType:"text",source:"infohub",required:!0,order:2},{id:"info_3",name:"Town Panchayat",dataType:"text",source:"infohub",required:!0,order:3},{id:"info_4",name:"Total Population",dataType:"number",source:"infohub",required:!1,order:4},{id:"info_5",name:"Total Area (Sq mt)",dataType:"number",source:"infohub",required:!1,order:5},{id:"info_6",name:"No of Wards",dataType:"number",source:"infohub",required:!1,order:6},{id:"info_7",name:"Assembly",dataType:"text",source:"infohub",required:!1,order:7}],a=[{id:"1",name:"Road Construction Progress",description:"Track progress of road construction works",type:"scheme",scheme:"Road Development",component:"Rural Roads",year:"2024",schemeName:"Road Development",componentName:"Rural Roads",fields:[t[0],t[2],t[6],r[0],r[1]],isShared:!0,isFrozen:!1,createdBy:"admin",createdAt:"2024-01-15",sharedWith:["user1","user2","user3"],order:1,sectionName:"Infrastructure Projects"},{id:"2",name:"Water Supply Survey",description:"General survey for water supply projects",type:"general",fields:[{id:"custom_1",name:"Survey Location",dataType:"text",source:"custom",required:!0,order:1},{id:"custom_2",name:"Water Source Available",dataType:"boolean",source:"custom",required:!0,order:2},{id:"custom_3",name:"Distance from Main Line (m)",dataType:"number",source:"custom",required:!1,order:3}],isShared:!0,isFrozen:!0,createdBy:"admin",createdAt:"2024-01-10",sharedWith:["user1","user2"],order:2,sectionName:"Survey Forms"}],n=[{id:"1",name:"Road Project Template",description:"Standard template for road construction projects",type:"scheme",sheets:[{name:"Project Overview",fields:[t[0],t[1],t[2]],scheme:"Road Development",component:"Rural Roads",year:"2024"},{name:"Location Details",fields:[r[0],r[1],r[2]],scheme:"Road Development",component:"Rural Roads",year:"2024"}],createdBy:"admin",createdAt:"2024-01-01"}],s=[{id:"1",sheetId:"1",data:{work_1:"NH Road Construction",work_2:"Completed",info_1:"North Chennai",info_2:"Tiruvallur"},submittedBy:"user1",submittedAt:"2024-01-20",status:"submitted"}],o=new class{async getSmartSheets(){return[...a].sort((e,t)=>e.order-t.order)}async getSharedSheets(e){return a.filter(t=>t.isShared&&(t.sharedWith.includes(e)||t.createdBy===e))}async getWorkFields(e,r,a){return[...t]}async getInfoHubFields(){return[...r]}async createSmartSheet(e){let t={...e,id:Date.now().toString(),createdAt:new Date().toISOString().split("T")[0],order:a.length+1};return a.push(t),t}async updateSmartSheet(e,t){let r=a.findIndex(t=>t.id===e);if(-1===r)throw Error("Sheet not found");return a[r]={...a[r],...t},a[r]}async deleteSmartSheet(e){a=a.filter(t=>t.id!==e)}async reorderSheets(e){a=e.map((e,t)=>{let r=a.find(t=>t.id===e);return r?{...r,order:t+1}:null}).filter(Boolean)}async shareSheet(e,t){return this.updateSmartSheet(e,{isShared:!0,sharedWith:t})}async freezeSheet(e){return this.updateSmartSheet(e,{isFrozen:!0})}async unfreezeSheet(e){return this.updateSmartSheet(e,{isFrozen:!1})}async submitSheetData(e){let t={...e,id:Date.now().toString(),submittedAt:new Date().toISOString()};return s.push(t),t}async getSheetDataEntries(e){return s.filter(t=>t.sheetId===e)}async getUpdateTracking(e){let t=a.find(t=>t.id===e);if(!t)throw Error("Sheet not found");let r=s.filter(t=>t.sheetId===e&&"submitted"===t.status),n=new Set(r.map(e=>e.submittedBy)),o=Array.from(n).map(e=>({userId:e,userName:`User ${e}`,updatedAt:r.find(t=>t.submittedBy===e)?.submittedAt||""})),i=t.sharedWith.filter(e=>!n.has(e)).map(e=>({userId:e,userName:`User ${e}`}));return{sheetId:t.id,sheetName:t.name,totalShared:t.sharedWith.length,updated:o,notUpdated:i}}async getSchemes(){return["Road Development","Water Supply","Sanitation","Housing"]}async getComponents(e){return({"Road Development":["Rural Roads","Urban Roads","Highways"],"Water Supply":["Pipeline","Storage Tank","Treatment Plant"],Sanitation:["Drainage","Sewage Treatment","Solid Waste"],Housing:["Individual Housing","Apartment Complex","Slum Rehabilitation"]})[e]||[]}async getYears(){let e=new Date().getFullYear();return Array.from({length:5},(t,r)=>(e-r).toString())}async getSections(){return Array.from(new Set(a.filter(e=>e.sectionName).map(e=>e.sectionName)))}async getSheetsBySection(e){return a.filter(t=>t.sectionName===e).sort((e,t)=>e.order-t.order)}async getTemplates(){return[...n]}async createTemplate(e){let t={...e,id:Date.now().toString(),createdAt:new Date().toISOString().split("T")[0]};return n.push(t),t}async loadTemplate(e){let t=n.find(t=>t.id===e);if(!t)throw Error("Template not found");return t}async deleteTemplate(e){n=n.filter(t=>t.id!==e)}};e.s(["smartSheetService",0,o])},264,e=>{"use strict";let t=(0,e.i(80329).default)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);e.s(["FileSpreadsheet",()=>t],264)},42148,e=>{"use strict";var t=e.i(45042),r=e.i(97817),a=e.i(71429),n=e.i(53790),s=e.i(75987),o=e.i(81251),i=e.i(30014),d=e.i(76196),l=e.i(264);function c(){let[e,c]=(0,r.useState)([]),[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)([]),[f,b]=(0,r.useState)("");(0,r.useEffect)(()=>{x()},[]),(0,r.useEffect)(()=>{u&&v()},[u]);let x=async()=>{let e=await d.smartSheetService.getSections();c(e),e.length>0&&m(e[0])},v=async()=>{let e=await d.smartSheetService.getSheetsBySection(u);p(e),e.length>0&&b(e[0].id)};return h.find(e=>e.id===f),(0,t.jsx)(a.DashboardLayout,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 rounded-lg shadow-lg py-3 px-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-white",children:"View Sheets"}),(0,t.jsx)("p",{className:"text-white/80 text-sm mt-1",children:"View and manage shared smart sheets"})]}),(0,t.jsx)("div",{className:"w-64",children:(0,t.jsxs)(s.Select,{value:u,onValueChange:m,children:[(0,t.jsx)(s.SelectTrigger,{className:"bg-white",children:(0,t.jsx)(s.SelectValue,{placeholder:"Select section"})}),(0,t.jsx)(s.SelectContent,{children:e.map(e=>(0,t.jsx)(s.SelectItem,{value:e,children:e},e))})]})})]})}),h.length>0?(0,t.jsx)("div",{className:"bg-white rounded-lg border border-[#EDEEF0] shadow-sm",children:(0,t.jsxs)(o.Tabs,{value:f,onValueChange:b,children:[(0,t.jsx)("div",{className:"border-b border-[#EDEEF0] bg-[#F8F8F8] px-4",children:(0,t.jsx)(o.TabsList,{className:"bg-transparent",children:h.map(e=>(0,t.jsxs)(o.TabsTrigger,{value:e.id,className:"data-[state=active]:bg-white data-[state=active]:border-b-2 data-[state=active]:border-[#F3B335]",children:[(0,t.jsx)(l.FileSpreadsheet,{className:"h-4 w-4 mr-2"}),e.name]},e.id))})}),h.map(e=>(0,t.jsxs)(o.TabsContent,{value:e.id,className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-[#013A65]",children:e.name}),e.scheme&&(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.scheme," - ",e.component," (",e.year,")"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(i.Table,{children:[(0,t.jsx)(i.TableHeader,{children:(0,t.jsxs)(i.TableRow,{className:"bg-[#F3B335] hover:bg-[#F3B335]",children:[(0,t.jsx)(i.TableHead,{className:"text-[#013A65] font-semibold",children:"S.No"}),e.fields.map(e=>(0,t.jsxs)(i.TableHead,{className:"text-[#013A65] font-semibold",children:[e.name,e.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]},e.id))]})}),(0,t.jsx)(i.TableBody,{children:[1,2,3,4,5].map(r=>(0,t.jsxs)(i.TableRow,{className:"hover:bg-[#F8F8F8]/50",children:[(0,t.jsx)(i.TableCell,{children:r}),e.fields.map(e=>(0,t.jsx)(i.TableCell,{children:(0,t.jsx)("input",{type:"number"===e.dataType?"number":"date"===e.dataType?"date":"text",className:"w-full px-2 py-1 border border-[#EDEEF0] rounded focus:outline-none focus:border-[#F3B335]",placeholder:`Enter ${e.name.toLowerCase()}`})},e.id))]},r))})]})}),(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsx)(n.Button,{className:"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 text-[#013A65]",children:"Save Sheet"})})]},e.id))]})}):(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-[#EDEEF0] shadow-sm p-12 text-center",children:[(0,t.jsx)(l.FileSpreadsheet,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No sheets found in this section"})]})]})})}e.s(["default",()=>c])}]);