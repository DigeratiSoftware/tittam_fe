(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38706,e=>{"use strict";let t=(0,e.i(80329).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],38706)},41408,e=>{"use strict";var t=e.i(45042),a=e.i(61808),s=e.i(7479),r=e.i(97817),i=e.i(38706);function l({children:e}){let{isAuthenticated:l,isLoading:o}=(0,a.useAuth)(),n=(0,s.useRouter)();return((0,r.useEffect)(()=>{o||l||n.push("/")},[l,o,n]),o)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):l?(0,t.jsx)(t.Fragment,{children:e}):null}e.s(["ProtectedRoute",()=>l,"default",()=>l])},98786,e=>{"use strict";var t=e.i(45042),a=e.i(18846);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>r,"CardTitle",()=>i])},86541,e=>{"use strict";var t=e.i(45042),a=e.i(97817),s=e.i(49572),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var i=e.i(18846);function l({className:e,...a}){return(0,t.jsx)(r,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>l],86541)},1508,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},95876,e=>{"use strict";var t=e.i(45042),a=e.i(18846);function s({className:e,type:s,...r}){return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>s])},31737,e=>{"use strict";var t=e.i(45042),a=e.i(47937),s=e.i(48592),r=e.i(18846);function i({...e}){return(0,t.jsx)(a.Root,{"data-slot":"dialog",...e})}function l({...e}){return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function o({className:e,...s}){return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function n({className:e,children:i,showCloseButton:n=!0,...d}){return(0,t.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,t.jsx)(o,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[i,n&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function c({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function m({className:e,...s}){return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",e),...s})}function u({className:e,...s}){return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}e.s(["Dialog",()=>i,"DialogContent",()=>n,"DialogDescription",()=>u,"DialogFooter",()=>c,"DialogHeader",()=>d,"DialogTitle",()=>m])},53183,e=>{"use strict";let t=(0,e.i(80329).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],53183)},59377,e=>{"use strict";let t=(0,e.i(80329).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],59377)},43870,e=>{"use strict";let t=(0,e.i(80329).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],43870)},30014,e=>{"use strict";var t=e.i(45042),a=e.i(18846);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...s})})}function r({className:e,...s}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...s})}function i({className:e,...s}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...s})}function l({className:e,...s}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function o({className:e,...s}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function n({className:e,...s}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}e.s(["Table",()=>s,"TableBody",()=>i,"TableCell",()=>n,"TableHead",()=>o,"TableHeader",()=>r,"TableRow",()=>l])},13101,e=>{"use strict";let t=(0,e.i(80329).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],13101)},55010,e=>{"use strict";let t=(0,e.i(80329).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],55010)},1308,e=>{"use strict";let t=(0,e.i(80329).default)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);e.s(["PlayCircle",()=>t],1308)},26339,e=>{"use strict";let t=(0,e.i(80329).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],26339)},48777,e=>{"use strict";let t=(0,e.i(80329).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],48777)},17089,e=>{"use strict";let t=new class{STORAGE_KEY="fields_data";getStoredFields(){let e=localStorage.getItem(this.STORAGE_KEY);if(!e){let e=[{id:"1",componentId:"1",englishName:"Full Name",englishDescription:"Complete name of the applicant as per official documents",tamilName:"முழு பெயர்",tamilDescription:"அதிகாரப்பூர்வ ஆவணங்களின்படி விண்ணப்பதாரரின் முழு பெயர்",dataType:"string",validation:"min:3, max:100, required",isRequired:!0,createdDate:"2024-01-16",createdBy:"Super Admin"},{id:"2",componentId:"1",englishName:"Aadhaar Number",englishDescription:"12-digit unique identification number issued by UIDAI",tamilName:"ஆதார் எண்",tamilDescription:"UIDAI வழங்கிய 12 இலக்க தனிப்பட்ட அடையாள எண்",dataType:"string",validation:"length:12, numeric, required",isRequired:!0,createdDate:"2024-01-16",createdBy:"Super Admin"},{id:"3",componentId:"1",englishName:"Mobile Number",englishDescription:"Active mobile number for communication",tamilName:"மொபைல் எண்",tamilDescription:"தொடர்புக்கான செயலில் உள்ள மொபைல் எண்",dataType:"phone",validation:"length:10, required",isRequired:!0,createdDate:"2024-01-16",createdBy:"Super Admin"},{id:"4",componentId:"2",englishName:"Family Income",englishDescription:"Annual family income in rupees",tamilName:"குடும்ப வருமானம்",tamilDescription:"ரூபாயில் ஆண்டு குடும்ப வருமானம்",dataType:"number",validation:"min:0, max:1000000",isRequired:!0,createdDate:"2024-01-17",createdBy:"Super Admin"},{id:"5",componentId:"3",englishName:"Date of Birth",englishDescription:"Date of birth of the worker",tamilName:"பிறந்த தேதி",tamilDescription:"தொழிலாளியின் பிறந்த தேதி",dataType:"date",validation:"required, age:18-65",isRequired:!0,createdDate:"2024-01-18",createdBy:"Super Admin"}];return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)),e}try{return JSON.parse(e)}catch{return[]}}saveFields(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}async getAllFields(){return await new Promise(e=>setTimeout(e,300)),this.getStoredFields()}async getFieldsByComponent(e){return await new Promise(e=>setTimeout(e,500)),this.getStoredFields().filter(t=>t.componentId===e)}async createField(t){await new Promise(e=>setTimeout(e,1e3));let a=this.getStoredFields(),s={id:Date.now().toString(),...t,createdDate:new Date().toISOString().split("T")[0]};a.push(s),this.saveFields(a);let{componentService:r}=await e.A(41084),i=a.filter(e=>e.componentId===t.componentId);return await r.updateFieldsCount(t.componentId,i.length),s}async getFieldById(e){return this.getStoredFields().find(t=>t.id===e)||null}async updateField(e,t){let a=this.getStoredFields(),s=a.findIndex(t=>t.id===e);if(-1===s)throw Error("Field not found");return a[s]={...a[s],...t},this.saveFields(a),a[s]}async deleteField(t){await new Promise(e=>setTimeout(e,500));let a=this.getStoredFields(),s=a.find(e=>e.id===t),r=a.filter(e=>e.id!==t);if(this.saveFields(r),s){let{componentService:t}=await e.A(41084),a=r.filter(e=>e.componentId===s.componentId);await t.updateFieldsCount(s.componentId,a.length)}}};e.s(["fieldService",0,t])},46169,e=>{"use strict";let t=new class{STORAGE_KEY="works";getStoredWorks(){let e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):[]}saveWorks(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}async createWork(e){await new Promise(e=>setTimeout(e,500));let t={id:Date.now().toString(),status:"pending",...e},a=this.getStoredWorks();return a.push(t),this.saveWorks(a),t}async getWorks(){return await new Promise(e=>setTimeout(e,300)),this.getStoredWorks()}async getWorkById(e){return await new Promise(e=>setTimeout(e,200)),this.getStoredWorks().find(t=>t.id===e)||null}async getWorksByScheme(e){return await new Promise(e=>setTimeout(e,300)),this.getStoredWorks().filter(t=>t.schemeId===e)}async getWorksByComponent(e){return await new Promise(e=>setTimeout(e,300)),this.getStoredWorks().filter(t=>t.componentId===e)}async updateWork(e,t){await new Promise(e=>setTimeout(e,500));let a=this.getStoredWorks(),s=a.findIndex(t=>t.id===e);if(-1===s)throw Error("Work not found");return a[s]={...a[s],...t,updatedAt:new Date().toISOString()},this.saveWorks(a),a[s]}async deleteWork(e){await new Promise(e=>setTimeout(e,300));let t=this.getStoredWorks().filter(t=>t.id!==e);this.saveWorks(t)}async deleteWorksByScheme(e){await new Promise(e=>setTimeout(e,400));let t=this.getStoredWorks().filter(t=>t.schemeId!==e);this.saveWorks(t)}async deleteWorksByComponent(e){await new Promise(e=>setTimeout(e,400));let t=this.getStoredWorks().filter(t=>t.componentId!==e);this.saveWorks(t)}async searchWorks(e){await new Promise(e=>setTimeout(e,300));let t=this.getStoredWorks(),a=e.toLowerCase();return t.filter(e=>e.schemeName.toLowerCase().includes(a)||e.componentName.toLowerCase().includes(a)||e.createdBy.toLowerCase().includes(a)||Object.values(e.fieldData).some(e=>String(e).toLowerCase().includes(a)))}async getWorkStats(){await new Promise(e=>setTimeout(e,200));let e=this.getStoredWorks(),t={total:e.length,pending:0,inProgress:0,completed:0,byScheme:{},byComponent:{},byCreator:{}};return e.forEach(e=>{switch(e.status){case"pending":t.pending++;break;case"in_progress":t.inProgress++;break;case"completed":t.completed++}t.byScheme[e.schemeName]=(t.byScheme[e.schemeName]||0)+1,t.byComponent[e.componentName]=(t.byComponent[e.componentName]||0)+1,t.byCreator[e.createdBy]=(t.byCreator[e.createdBy]||0)+1}),t}async updateWorkStatus(e,t){return this.updateWork(e,{status:t})}};e.s(["workService",0,t])},89894,e=>{"use strict";var t=e.i(45042),a=e.i(71429),s=e.i(41408),r=e.i(97817),i=e.i(53790),l=e.i(98786),o=e.i(30014),n=e.i(31737),d=e.i(95876),c=e.i(86541),m=e.i(75987),u=e.i(53183),h=e.i(10259),x=e.i(55010),p=e.i(43870),g=e.i(59377),f=e.i(13101),b=e.i(26339),w=e.i(1308),N=e.i(48777),y=e.i(38706),j=e.i(46169),v=e.i(17089),k=e.i(61808),S=e.i(87204);function C(){let{user:e}=(0,k.useAuth)(),[a,s]=(0,r.useState)([]),[C,D]=(0,r.useState)([]),[A,E]=(0,r.useState)(""),[F,T]=(0,r.useState)("all"),[I,P]=(0,r.useState)("all"),[B,W]=(0,r.useState)(!0),[R,O]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!1),[H,_]=(0,r.useState)(null),[z,Z]=(0,r.useState)([]),[q,V]=(0,r.useState)({});(0,r.useEffect)(()=>{K()},[]),(0,r.useEffect)(()=>{let e=a;A&&(e=e.filter(e=>e.schemeName.toLowerCase().includes(A.toLowerCase())||e.componentName.toLowerCase().includes(A.toLowerCase())||e.createdBy.toLowerCase().includes(A.toLowerCase())||Object.values(e.fieldData).some(e=>String(e).toLowerCase().includes(A.toLowerCase())))),"all"!==F&&(e=e.filter(e=>e.status===F)),"all"!==I&&(e=e.filter(e=>e.schemeId===I)),D(e)},[A,F,I,a]);let K=async()=>{try{W(!0);let e=await j.workService.getWorks();s(e),D(e)}catch(e){console.error("Failed to load works:",e)}finally{W(!1)}},G=async e=>{try{_(e);let t=(await v.fieldService.getAllFields()).filter(t=>t.componentId===e.componentId);Z(t),O(!0)}catch(e){console.error("Failed to load work details:",e),alert("Failed to load work details. Please try again.")}},Y=async e=>{if(confirm("Are you sure you want to delete this work entry?"))try{await j.workService.deleteWork(e),await K()}catch(e){console.error("Failed to delete work:",e),alert("Failed to delete work. Please try again.")}},J=async(e,t)=>{try{await j.workService.updateWorkStatus(e,t),await K()}catch(e){console.error("Failed to update work status:",e),alert("Failed to update work status. Please try again.")}},U=async e=>{try{_(e);let t=(await v.fieldService.getAllFields()).filter(t=>t.componentId===e.componentId);Z(t),V(e.fieldData),M(!0)}catch(e){console.error("Failed to load work for editing:",e),alert("Failed to load work details. Please try again.")}},$=async()=>{if(H)try{await j.workService.updateWork(H.id,{fieldData:q,updatedAt:new Date().toISOString()}),M(!1),await K(),alert("Work updated successfully!")}catch(e){console.error("Failed to update work:",e),alert("Failed to update work. Please try again.")}},X=Array.from(new Set(a.map(e=>e.schemeId))).map(e=>{let t=a.find(t=>t.schemeId===e);return{id:e,name:t?.schemeName||e}});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 rounded-lg py-3 px-6 text-white shadow-lg",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Work Management"}),(0,t.jsx)("p",{className:"text-white/80 text-sm mt-1",children:"View existing work entries and create new ones by selecting schemes and components"})]}),(0,t.jsx)(S.default,{href:"/dashboard/work/create",children:(0,t.jsxs)(i.Button,{size:"sm",className:"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 hover:from-[#F3B335]/90 hover:to-[#F3B335]/80 text-[#013A65] border-0 shadow-lg hover:shadow-xl transition-all duration-300 h-9 px-4 text-sm font-medium",children:[(0,t.jsx)(u.Plus,{className:"h-4 w-4 mr-1.5"}),"Create Work"]})})]})}),(0,t.jsxs)("div",{className:"flex flex-col h-full bg-white rounded-lg border border-[#EDEEF0] shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"flex-shrink-0 p-4 border-b border-[#EDEEF0] bg-gradient-to-r from-[#F8F8F8] to-[#EDEEF0]",children:(0,t.jsx)("div",{className:"flex items-center justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(f.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#013A65]/60 h-4 w-4"}),(0,t.jsx)(d.Input,{placeholder:"Search works...",value:A,onChange:e=>E(e.target.value),className:"pl-10 h-9 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white"})]}),(0,t.jsxs)(m.Select,{value:F,onValueChange:T,children:[(0,t.jsx)(m.SelectTrigger,{className:"w-40 h-9 bg-white",children:(0,t.jsx)(m.SelectValue,{placeholder:"All Status"})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"all",children:"All Status"}),(0,t.jsx)(m.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(m.SelectItem,{value:"in_progress",children:"In Progress"}),(0,t.jsx)(m.SelectItem,{value:"completed",children:"Completed"})]})]}),(0,t.jsxs)(m.Select,{value:I,onValueChange:P,children:[(0,t.jsx)(m.SelectTrigger,{className:"w-48 h-9 bg-white",children:(0,t.jsx)(m.SelectValue,{placeholder:"All Schemes"})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"all",children:"All Schemes"}),X.map(e=>(0,t.jsx)(m.SelectItem,{value:e.id,children:e.name},e.id))]})]})]})})}),(0,t.jsx)("div",{className:"flex-1 overflow-auto",children:B?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[#013A65]/70",children:[(0,t.jsx)(y.Loader2,{className:"h-5 w-5 animate-spin"}),(0,t.jsx)("span",{children:"Loading works..."})]})}):0===C.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-[#013A65]/10 to-[#F3B335]/10 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(h.Briefcase,{className:"h-8 w-8 text-[#013A65]/60"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-[#013A65] mb-2",children:"No work entries found"}),(0,t.jsx)("p",{className:"text-[#013A65]/70 mb-4",children:A||"all"!==F||"all"!==I?"No work entries match your search criteria.":"Get started by creating your first work entry."}),!A&&"all"===F&&"all"===I&&(0,t.jsx)(S.default,{href:"/dashboard/work/create",children:(0,t.jsxs)(i.Button,{className:"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 hover:from-[#F3B335]/90 hover:to-[#F3B335] text-[#013A65] font-medium",children:[(0,t.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"Create Work"]})})]}):(0,t.jsxs)(o.Table,{children:[(0,t.jsx)(o.TableHeader,{children:(0,t.jsxs)(o.TableRow,{className:"bg-[#F3B335] hover:bg-[#F3B335]",children:[(0,t.jsx)(o.TableHead,{className:"text-[#013A65] font-semibold",children:"Scheme Name"}),(0,t.jsx)(o.TableHead,{className:"text-[#013A65] font-semibold",children:"Component Name"}),(0,t.jsx)(o.TableHead,{className:"text-[#013A65] font-semibold",children:"Work Name"}),(0,t.jsx)(o.TableHead,{className:"text-[#013A65] font-semibold",children:"Status"}),(0,t.jsx)(o.TableHead,{className:"text-[#013A65] font-semibold",children:"Created By"}),(0,t.jsx)(o.TableHead,{className:"text-[#013A65] font-semibold",children:"Created Date"}),(0,t.jsx)(o.TableHead,{className:"text-[#013A65] font-semibold w-32",children:"Actions"})]})}),(0,t.jsx)(o.TableBody,{children:C.map(e=>{let a=(e=>{switch(e){case"pending":return{variant:"secondary",icon:b.Clock,color:"text-yellow-600"};case"in_progress":return{variant:"default",icon:w.PlayCircle,color:"text-blue-600"};case"completed":return{variant:"default",icon:N.CheckCircle,color:"text-green-600"};default:return{variant:"secondary",icon:b.Clock,color:"text-gray-600"}}})(e.status||"pending"),s=a.icon;return(0,t.jsxs)(o.TableRow,{className:"hover:bg-[#F8F8F8]/50",children:[(0,t.jsx)(o.TableCell,{className:"font-medium text-[#013A65] max-w-xs truncate",title:e.schemeName,children:e.schemeName}),(0,t.jsx)(o.TableCell,{className:"text-[#013A65]/80 max-w-xs truncate",title:e.componentName,children:e.componentName}),(0,t.jsx)(o.TableCell,{className:"text-[#013A65]/80 max-w-xs truncate",children:e.fieldData?.workName||`Work-${e.id.slice(0,8)}`}),(0,t.jsx)(o.TableCell,{children:(0,t.jsxs)(m.Select,{value:e.status||"pending",onValueChange:t=>J(e.id,t),children:[(0,t.jsx)(m.SelectTrigger,{className:"w-32 h-8 bg-white",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s,{className:`h-3 w-3 ${a.color}`}),(0,t.jsx)(m.SelectValue,{})]})}),(0,t.jsxs)(m.SelectContent,{className:"bg-white",children:[(0,t.jsx)(m.SelectItem,{value:"pending",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Clock,{className:"h-3 w-3 text-yellow-600"}),"Pending"]})}),(0,t.jsx)(m.SelectItem,{value:"in_progress",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.PlayCircle,{className:"h-3 w-3 text-blue-600"}),"In Progress"]})}),(0,t.jsx)(m.SelectItem,{value:"completed",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.CheckCircle,{className:"h-3 w-3 text-green-600"}),"Completed"]})})]})]})}),(0,t.jsx)(o.TableCell,{children:(0,t.jsx)("span",{className:"bg-gradient-to-r from-[#F3B335]/20 to-[#F3B335]/30 text-[#013A65] px-2 py-1 rounded text-xs font-medium",children:e.createdBy})}),(0,t.jsx)(o.TableCell,{className:"text-[#013A65]/70",children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)(o.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.Button,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-[#EDEEF0] hover:bg-[#F3B335]/10 hover:border-[#F3B335]/30 bg-transparent",onClick:()=>G(e),title:"View Details",children:(0,t.jsx)(x.Eye,{className:"h-3 w-3"})}),(0,t.jsx)(i.Button,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-[#EDEEF0] hover:bg-[#F3B335]/10 hover:border-[#F3B335]/30 bg-transparent",onClick:()=>U(e),title:"Edit Work",children:(0,t.jsx)(p.Edit,{className:"h-3 w-3"})}),(0,t.jsx)(i.Button,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-[#EDEEF0] hover:bg-red-50 hover:border-red-200 text-red-500 bg-transparent",onClick:()=>Y(e.id),title:"Delete Work",children:(0,t.jsx)(g.Trash2,{className:"h-3 w-3"})})]})})]},e.id)})})]})})]}),(0,t.jsx)(n.Dialog,{open:R,onOpenChange:O,children:(0,t.jsxs)(n.DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto border-0 shadow-2xl bg-[#F8F8F8] backdrop-blur-sm",children:[(0,t.jsxs)(n.DialogHeader,{children:[(0,t.jsxs)(n.DialogTitle,{className:"flex items-center gap-2 text-[#013A65]",children:[(0,t.jsx)(x.Eye,{className:"h-5 w-5 text-[#013A65]"}),"Work Details"]}),(0,t.jsxs)(n.DialogDescription,{className:"text-[#013A65]/70",children:["Complete details for ",H?.schemeName," - ",H?.componentName]})]}),H&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Card,{className:"border-[#EDEEF0] bg-white",children:[(0,t.jsx)(l.CardHeader,{className:"bg-gradient-to-r from-[#F8F8F8] to-[#EDEEF0] border-b border-[#EDEEF0]",children:(0,t.jsx)(l.CardTitle,{className:"text-base font-semibold text-[#013A65]",children:"Work Summary"})}),(0,t.jsx)(l.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Scheme Name"}),(0,t.jsx)("p",{className:"text-sm text-[#013A65] font-medium",children:H.schemeName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Component Name"}),(0,t.jsx)("p",{className:"text-sm text-[#013A65] font-medium",children:H.componentName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Created By"}),(0,t.jsx)("span",{className:"bg-gradient-to-r from-[#F3B335]/20 to-[#F3B335]/30 text-[#013A65] px-2 py-1 rounded text-xs font-medium",children:H.createdBy})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Created Date"}),(0,t.jsx)("p",{className:"text-sm text-[#013A65]",children:new Date(H.createdAt).toLocaleString()})]})]})})]}),(0,t.jsxs)(l.Card,{className:"border-[#EDEEF0] bg-white",children:[(0,t.jsx)(l.CardHeader,{className:"bg-gradient-to-r from-[#F8F8F8] to-[#EDEEF0] border-b border-[#EDEEF0]",children:(0,t.jsx)(l.CardTitle,{className:"text-base font-semibold text-[#013A65]",children:"Field Data"})}),(0,t.jsx)(l.CardContent,{className:"p-4",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:z.map(e=>{let a=H.fieldData?.[e.id]||"Not provided";return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{className:"text-sm font-medium text-[#013A65]/70",children:[e.englishName,(0,t.jsxs)("span",{className:"text-xs text-[#013A65]/50 ml-1",children:["(",e.tamilName,")"]})]}),(0,t.jsx)("div",{className:"p-2 bg-[#F8F8F8] rounded border border-[#EDEEF0]",children:(0,t.jsx)("p",{className:"text-sm text-[#013A65]",children:"attachment"===e.dataType&&"Not provided"!==a?`${a.length} file(s) uploaded`:a})}),e.englishDescription&&(0,t.jsx)("p",{className:"text-xs text-[#013A65]/50",children:e.englishDescription})]},e.id)})})})]})]})]})}),(0,t.jsx)(n.Dialog,{open:L,onOpenChange:M,children:(0,t.jsxs)(n.DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto border-0 shadow-2xl bg-[#F8F8F8] backdrop-blur-sm",children:[(0,t.jsxs)(n.DialogHeader,{children:[(0,t.jsxs)(n.DialogTitle,{className:"flex items-center gap-2 text-[#013A65]",children:[(0,t.jsx)(p.Edit,{className:"h-5 w-5 text-[#013A65]"}),"Edit Work"]}),(0,t.jsxs)(n.DialogDescription,{className:"text-[#013A65]/70",children:["Edit details for ",H?.schemeName," - ",H?.componentName]})]}),H&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:z.map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-[#013A65]",children:[e.englishName,e.isRequired&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),"text"===e.dataType&&(0,t.jsx)(d.Input,{value:q[e.id]||"",onChange:t=>V(a=>({...a,[e.id]:t.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white"}),"number"===e.dataType&&(0,t.jsx)(d.Input,{type:"number",value:q[e.id]||"",onChange:t=>V(a=>({...a,[e.id]:t.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white"}),"date"===e.dataType&&(0,t.jsx)(d.Input,{type:"date",value:q[e.id]||"",onChange:t=>V(a=>({...a,[e.id]:t.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white"})]},e.id))}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>M(!1),className:"border-[#EDEEF0] hover:bg-[#F8F8F8]",children:"Cancel"}),(0,t.jsx)(i.Button,{onClick:$,className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 hover:from-[#013A65]/90 hover:to-[#013A65] text-white",children:"Save Changes"})]})]})]})})]})}let D=[{id:"work-001",schemeId:"SCHEME001",schemeName:"Rural Water Supply Scheme",componentId:"COMP001",componentName:"Water Tank Construction",fieldData:{workName:"Village Water Tank - Phase 1",estimateInRupees:5e5,fundReleased:3e5,expenditure:15e4,contractorName:"ABC Construction",startDate:"2024-01-15",expectedCompletionDate:"2024-06-15",zone:"ZONE001",district:"DIST001",townPanchayat:"TP001",ward:"WARD001"},status:"in_progress",createdBy:"admin@example.com",createdAt:"2024-01-10T10:00:00Z",updatedAt:"2024-01-20T15:30:00Z"},{id:"work-002",schemeId:"SCHEME002",schemeName:"Road Development Project",componentId:"COMP002",componentName:"Concrete Road Construction",fieldData:{workName:"Main Street Concrete Road",estimateInRupees:75e4,fundReleased:75e4,expenditure:6e5,contractorName:"XYZ Infrastructure",startDate:"2024-02-01",expectedCompletionDate:"2024-08-01",zone:"ZONE002",district:"DIST002",townPanchayat:"TP002",ward:"WARD002"},status:"completed",createdBy:"engineer@example.com",createdAt:"2024-01-25T09:15:00Z",updatedAt:"2024-08-05T16:45:00Z"},{id:"work-003",schemeId:"SCHEME001",schemeName:"Rural Water Supply Scheme",componentId:"COMP003",componentName:"Pipeline Installation",fieldData:{workName:"Distribution Pipeline Network",estimateInRupees:3e5,fundReleased:2e5,expenditure:5e4,contractorName:"Pipeline Solutions Ltd",startDate:"2024-03-01",expectedCompletionDate:"2024-09-01",zone:"ZONE001",district:"DIST001",townPanchayat:"TP003",ward:"WARD003"},status:"pending",createdBy:"supervisor@example.com",createdAt:"2024-02-28T14:20:00Z"},{id:"work-004",schemeId:"SCHEME003",schemeName:"School Infrastructure Development",componentId:"COMP004",componentName:"Classroom Construction",fieldData:{workName:"Primary School New Classrooms",estimateInRupees:4e5,fundReleased:4e5,expenditure:38e4,contractorName:"Education Builders",startDate:"2024-01-05",expectedCompletionDate:"2024-05-05",zone:"ZONE003",district:"DIST003",townPanchayat:"TP004",ward:"WARD004"},status:"completed",createdBy:"admin@example.com",createdAt:"2024-01-01T08:00:00Z",updatedAt:"2024-05-10T12:00:00Z"},{id:"work-005",schemeId:"SCHEME002",schemeName:"Road Development Project",componentId:"COMP005",componentName:"Bridge Construction",fieldData:{workName:"River Crossing Bridge",estimateInRupees:12e5,fundReleased:8e5,expenditure:2e5,contractorName:"Bridge Masters Inc",startDate:"2024-04-01",expectedCompletionDate:"2024-12-01",zone:"ZONE002",district:"DIST002",townPanchayat:"TP005",ward:"WARD005"},status:"in_progress",createdBy:"engineer@example.com",createdAt:"2024-03-25T11:30:00Z",updatedAt:"2024-04-15T09:45:00Z"}];function A(){return(0,r.useEffect)(()=>{localStorage.getItem("works")||(localStorage.setItem("works",JSON.stringify(D)),console.log("[v0] Initialized mock work data"))},[]),(0,t.jsx)(s.ProtectedRoute,{children:(0,t.jsx)(a.DashboardLayout,{children:(0,t.jsx)(C,{})})})}e.s(["default",()=>A],89894)},41084,e=>{e.v(t=>Promise.all(["static/chunks/be3c2edd389a65d5.js"].map(t=>e.l(t))).then(()=>t(490)))}]);