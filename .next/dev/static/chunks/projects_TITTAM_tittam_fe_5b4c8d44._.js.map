{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/auth/protected-route.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useAuth } from \"@/hooks/use-auth\"\nimport { useRouter } from \"next/navigation\"\nimport { useEffect } from \"react\"\nimport { Loader2 } from \"lucide-react\"\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode\n}\n\nexport { ProtectedRoute }\nexport default function ProtectedRoute({ children }: ProtectedRouteProps) {\n  const { isAuthenticated, isLoading } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      router.push(\"/\")\n    }\n  }, [isAuthenticated, isLoading, router])\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Loader2 className=\"h-8 w-8 animate-spin mx-auto mb-4\" />\n          <p className=\"text-muted-foreground\">Loading...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (!isAuthenticated) {\n    return null\n  }\n\n  return <>{children}</>\n}\n"],"names":[],"mappings":";;;;;;;AAIA;AACA;AACA;AACA;;;AAPA;;;;;;AAce,SAAS,eAAe,EAAE,QAAQ,EAAuB;;IACtE,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,sKAAO;IAC9C,MAAM,SAAS,IAAA,qLAAS;IAExB,IAAA,6MAAS;oCAAC;YACR,IAAI,CAAC,aAAa,CAAC,iBAAiB;gBAClC,OAAO,IAAI,CAAC;YACd;QACF;mCAAG;QAAC;QAAiB;QAAW;KAAO;IAEvC,IAAI,WAAW;QACb,qBACE,gOAAC;YAAI,WAAU;sBACb,cAAA,gOAAC;gBAAI,WAAU;;kCACb,gOAAC,kQAAO;wBAAC,WAAU;;;;;;kCACnB,gOAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAI7C;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ;GA1BwB;;QACiB,sKAAO;QAC/B,qLAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,4MAAO,EAAC,IAAA,mLAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          'bg-primary text-primary-foreground shadow-xs hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,6MAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,8MAAI,GAAG;IAE9B,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/ui/sheet.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SheetPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = 'right',\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: 'top' | 'right' | 'bottom' | 'left'\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500',\n          side === 'right' &&\n            'data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm',\n          side === 'left' &&\n            'data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm',\n          side === 'top' &&\n            'data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b',\n          side === 'bottom' &&\n            'data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n          <XIcon className=\"size-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn('flex flex-col gap-1.5 p-4', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn('mt-auto flex flex-col gap-2 p-4', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn('text-foreground font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,gOAAC,gNAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;KAFS;AAIT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,gOAAC,mNAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,WAAW,EAClB,GAAG,OAC+C;IAClD,qBAAO,gOAAC,iNAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,gOAAC,kNAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,gOAAC,mNAAsB;QACrB,aAAU;QACV,WAAW,IAAA,wJAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,gOAAC;;0BACC,gOAAC;;;;;0BACD,gOAAC,mNAAsB;gBACrB,aAAU;gBACV,WAAW,IAAA,wJAAE,EACX,8MACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;kCACD,gOAAC,iNAAoB;wBAAC,WAAU;;0CAC9B,gOAAC,+OAAK;gCAAC,WAAU;;;;;;0CACjB,gOAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;MAnCS;AAqCT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,gOAAC,iNAAoB;QACnB,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,gOAAC,uNAA0B;QACzB,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/layout/dashboard-layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { useAuth } from \"@/hooks/use-auth\"\nimport { useRouter } from \"next/navigation\"\nimport { Button } from \"@/components/ui/button\"\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\"\nimport {\n  LayoutDashboard,\n  LogOut,\n  Menu,\n  Database,\n  FileText,\n  Users,\n  Briefcase,\n  BarChart3,\n  ChevronDown,\n  Bell,\n  FolderOpen,\n} from \"lucide-react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { cn } from \"@/lib/utils\"\nimport Image from \"next/image\"\n\ninterface DashboardLayoutProps {\n  children: React.ReactNode\n}\n\nconst sidebarItems = [\n  {\n    title: \"Dashboard\",\n    href: \"/dashboard\",\n    icon: LayoutDashboard,\n    roles: [\"super_admin\", \"admin\", \"user\"],\n  },\n  {\n    title: \"Schemes\",\n    href: \"/dashboard/schemes\",\n    icon: Database,\n    roles: [\"super_admin\"],\n  },\n  {\n    title: \"Components\",\n    href: \"/dashboard/components\",\n    icon: Database,\n    roles: [\"super_admin\"],\n  },\n  {\n    title: \"Templates\",\n    href: \"/dashboard/templates\",\n    icon: FileText,\n    roles: [\"super_admin\"],\n  },\n  {\n    title: \"Masters\",\n    href: \"/dashboard/masters\",\n    icon: Database,\n    roles: [\"super_admin\"],\n  },\n  {\n    title: \"Users\",\n    href: \"/dashboard/users\",\n    icon: Users,\n    roles: [\"super_admin\"],\n  },\n  {\n    title: \"Work Management\",\n    href: \"/dashboard/work\",\n    icon: Briefcase,\n    roles: [\"admin\"],\n  },\n  {\n    title: \"Reports\",\n    icon: BarChart3,\n    roles: [\"super_admin\", \"admin\"],\n    subItems: [\n      {\n        title: \"Dashboard Reports\",\n        href: \"/dashboard/reports/dashboard\",\n      },\n      {\n        title: \"Scheme Reports\",\n        href: \"/dashboard/reports/scheme\",\n      },\n      {\n        title: \"Meeting Reports\",\n        href: \"/dashboard/reports/meeting\",\n      },\n    ],\n  },\n  {\n    title: \"Meeting Management\",\n    href: \"/dashboard/meetings\",\n    icon: Users,\n    roles: [\"super_admin\", \"admin\"],\n  },\n  {\n    title: \"Data Box\",\n    href: \"/dashboard/drive\",\n    icon: FolderOpen,\n    roles: [\"super_admin\", \"admin\", \"manager\", \"user\"],\n  },\n  {\n    title: \"Smart View\",\n    href: \"/dashboard/smart-view\",\n    icon: BarChart3,\n    roles: [\"super_admin\", \"admin\"],\n  },\n  {\n    title: \"Smart Sheets\",\n    icon: FileText,\n    roles: [\"super_admin\", \"admin\"],\n    subItems: [\n      {\n        title: \"Create Sheet\",\n        href: \"/dashboard/smart-sheets/create\",\n      },\n      {\n        title: \"View Sheets\",\n        href: \"/dashboard/smart-sheets/view\",\n      },\n    ],\n  },\n  {\n    title: \"Info Hub\",\n    href: \"/dashboard/info-hub\",\n    icon: Database,\n    roles: [\"super_admin\", \"admin\"],\n  },\n  {\n    title: \"Contractors\",\n    href: \"/dashboard/contractors\",\n    icon: Users,\n    roles: [\"admin\"],\n  },\n  {\n    title: \"Notifications\",\n    href: \"/dashboard/notifications\",\n    icon: Bell,\n    roles: [\"admin\"],\n  },\n  {\n    title: \"Support Tickets\",\n    href: \"/dashboard/support\",\n    icon: FileText,\n    roles: [\"super_admin\", \"admin\", \"user\"],\n  },\n]\n\nexport { DashboardLayout }\n\nexport default function DashboardLayout({ children }: DashboardLayoutProps) {\n  const { user, logout } = useAuth()\n  const router = useRouter()\n  const pathname = usePathname()\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)\n  const [isDesktopSidebarCollapsed, setIsDesktopSidebarCollapsed] = useState(false)\n  const [expandedMenus, setExpandedMenus] = useState<string[]>([])\n\n  const handleLogout = () => {\n    logout()\n    router.push(\"/\")\n  }\n\n  const filteredItems = sidebarItems.filter((item) => item.roles.includes(user?.role || \"\"))\n\n  const toggleMenu = (title: string) => {\n    setExpandedMenus((prev) => (prev.includes(title) ? prev.filter((item) => item !== title) : [...prev, title]))\n  }\n\n  const renderMenuItem = (item: any, collapsed: boolean) => {\n    const Icon = item.icon\n    const isActive = item.href ? pathname === item.href : item.subItems?.some((sub: any) => pathname === sub.href)\n    const isExpanded = expandedMenus.includes(item.title)\n\n    if (item.subItems) {\n      return (\n        <div key={item.title}>\n          <button\n            onClick={() => !collapsed && toggleMenu(item.title)}\n            className={cn(\n              \"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:shadow-md\",\n              collapsed ? \"justify-center\" : \"justify-between\",\n              isActive\n                ? \"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 text-[#013A65] shadow-lg\"\n                : \"text-white hover:text-white hover:bg-white/10 hover:shadow-sm border border-transparent hover:border-[#F3B335]/30\",\n            )}\n            title={collapsed ? item.title : undefined}\n          >\n            <div className=\"flex items-center gap-3\">\n              <Icon className=\"h-4 w-4 flex-shrink-0\" />\n              {!collapsed && item.title}\n            </div>\n            {!collapsed && (\n              <ChevronDown\n                className={cn(\"h-4 w-4 transition-transform duration-200\", isExpanded ? \"transform rotate-180\" : \"\")}\n              />\n            )}\n          </button>\n          {!collapsed && isExpanded && (\n            <div className=\"ml-4 mt-1 space-y-1\">\n              {item.subItems.map((subItem: any) => {\n                const isSubActive = pathname === subItem.href\n                return (\n                  <Link\n                    key={subItem.href}\n                    href={subItem.href}\n                    className={cn(\n                      \"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200\",\n                      isSubActive\n                        ? \"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 text-[#013A65] shadow-md\"\n                        : \"text-white/80 hover:text-white hover:bg-white/10 hover:shadow-sm\",\n                    )}\n                    onClick={() => setIsMobileMenuOpen(false)}\n                  >\n                    {subItem.title}\n                  </Link>\n                )\n              })}\n            </div>\n          )}\n        </div>\n      )\n    }\n\n    return (\n      <Link\n        key={item.href}\n        href={item.href!}\n        className={cn(\n          \"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 hover:shadow-md\",\n          collapsed ? \"justify-center\" : \"\",\n          isActive\n            ? \"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 text-[#013A65] shadow-lg transform scale-[1.02]\"\n            : \"text-white hover:text-white hover:bg-white/10 hover:shadow-sm border border-transparent hover:border-[#F3B335]/30\",\n        )}\n        onClick={() => setIsMobileMenuOpen(false)}\n        title={collapsed ? item.title : undefined}\n      >\n        <Icon className=\"h-4 w-4 flex-shrink-0\" />\n        {!collapsed && item.title}\n      </Link>\n    )\n  }\n\n  const SidebarContent = ({ collapsed = false }: { collapsed?: boolean }) => (\n    <div\n      className={cn(\n        \"flex flex-col h-full bg-gradient-to-b from-[#013A65] via-[#012A4D] to-[#013A65] border-r border-[#F3B335]/20 shadow-lg transition-all duration-300\",\n        collapsed ? \"w-16\" : \"w-56\",\n      )}\n    >\n      <div className=\"flex-shrink-0 flex justify-center items-center py-3 border-b border-[#F3B335]/20\">\n        <div className=\"flex items-center gap-2\">\n          <Image\n            src=\"/images/logo.png\"\n            alt=\"TWP Logo\"\n            width={collapsed ? 32 : 40}\n            height={collapsed ? 32 : 40}\n            className=\"object-contain flex-shrink-0\"\n            priority\n          />\n          {!collapsed && <span className=\"text-white text-lg font-black tracking-wide\">THITTAM</span>}\n        </div>\n      </div>\n\n      <nav\n        className=\"flex-1 p-3 space-y-1 bg-gradient-to-b from-[#012A4D] to-[#013A65] overflow-y-auto\"\n        style={{\n          scrollbarWidth: \"none\",\n          msOverflowStyle: \"none\",\n        }}\n      >\n        <style jsx>{`\n          nav::-webkit-scrollbar {\n            display: none;\n          }\n        `}</style>\n        {filteredItems.map((item) => renderMenuItem(item, collapsed))}\n      </nav>\n\n      <div className=\"flex-shrink-0 p-3 border-t border-[#F3B335]/20 bg-gradient-to-r from-[#012A4D] to-[#013A65]\">\n        {!collapsed ? (\n          <>\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"w-7 h-7 bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 rounded-full flex items-center justify-center shadow-md\">\n                <span className=\"text-sm font-medium text-[#013A65]\">{user?.name?.charAt(0) || \"A\"}</span>\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium truncate text-white\">{user?.name}</p>\n                <p className=\"text-xs text-white/70\">{user?.role}</p>\n              </div>\n            </div>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"w-full h-8 text-sm bg-white/10 text-white hover:bg-red-600 hover:text-white hover:border-red-500 border-white/20 transition-colors shadow-sm\"\n              onClick={handleLogout}\n            >\n              <LogOut className=\"h-4 w-4 mr-1.5\" />\n              Logout\n            </Button>\n          </>\n        ) : (\n          <div className=\"flex flex-col items-center gap-2\">\n            <div className=\"w-8 h-8 bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 rounded-full flex items-center justify-center shadow-md\">\n              <span className=\"text-sm font-medium text-[#013A65]\">{user?.name?.charAt(0) || \"A\"}</span>\n            </div>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"w-8 h-8 p-0 bg-white/10 text-white hover:bg-red-600 hover:text-white hover:border-red-500 border-white/20 transition-colors shadow-sm\"\n              onClick={handleLogout}\n              title=\"Logout\"\n            >\n              <LogOut className=\"h-3 w-3\" />\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n\n  return (\n    <div className=\"flex h-full bg-gradient-to-br from-[#013A65] via-[#012A4D] to-[#013A65] overflow-hidden\">\n      <div className=\"hidden md:flex md:flex-col md:flex-shrink-0 relative\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"absolute top-4 -right-3 z-10 h-6 w-6 p-0 bg-white shadow-lg border-[#F3B335]/20 hover:bg-[#F3B335]/10\"\n          onClick={() => setIsDesktopSidebarCollapsed(!isDesktopSidebarCollapsed)}\n        >\n          <Menu className=\"h-3 w-3\" />\n        </Button>\n        <SidebarContent collapsed={isDesktopSidebarCollapsed} />\n      </div>\n\n      <Sheet open={isMobileMenuOpen} onOpenChange={setIsMobileMenuOpen}>\n        <SheetTrigger asChild>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"md:hidden fixed top-4 left-4 z-50 h-8 w-8 bg-white/95 backdrop-blur-sm shadow-lg border-[#F3B335]/20\"\n          >\n            <Menu className=\"h-3.5 w-3.5\" />\n          </Button>\n        </SheetTrigger>\n        <SheetContent side=\"left\" className=\"p-0 w-56\">\n          <SidebarContent />\n        </SheetContent>\n      </Sheet>\n\n      <div className=\"flex-1 overflow-auto bg-[#F8F8F8]\">\n        <div className=\"p-6\">{children}</div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 997, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/services/drive-service.ts"],"sourcesContent":["export interface DriveFolder {\n  id: string\n  title: string\n  description?: string\n  createdBy: string\n  createdAt: string\n  folders: DriveNestedFolder[]\n  shareConfig?: {\n    allowedFileTypes: string[]\n    minFileSize: number\n    maxFileSize: number\n    accessType: \"all\" | \"roles\" | \"users\"\n    allowedRoles?: string[]\n    allowedUserIds?: string[]\n  }\n}\n\nexport interface DriveNestedFolder {\n  id: string\n  name: string\n  folderId: string\n  parentFolderId?: string\n  createdBy: string\n  createdAt: string\n  folders?: DriveNestedFolder[]\n  shareConfig?: {\n    allowedFileTypes: string[]\n    minFileSize: number\n    maxFileSize: number\n    accessType: \"all\" | \"roles\" | \"users\"\n    allowedRoles?: string[]\n    allowedUserIds?: string[]\n  }\n}\n\nexport interface DriveFile {\n  id: string\n  folderId: string\n  nestedFolderId?: string\n  fileName: string\n  fileType: string\n  fileSize: number\n  uploadedBy: string\n  uploadedByName: string\n  uploadedAt: string\n  url: string\n  zone: string\n  district: string\n  townPanchayat: string\n}\n\nexport interface UserFileSummary {\n  userId: string\n  userName: string\n  zone: string\n  district: string\n  townPanchayat: string\n  requestedCount: number\n  uploadedCount: number\n  pendingCount: number\n  files: DriveFile[]\n  folderId: string\n  folderTitle: string\n}\n\n// Mock data\nlet mockFolders: DriveFolder[] = [\n  {\n    id: \"1\",\n    title: \"Project Documents\",\n    description: \"All project-related documents\",\n    createdBy: \"admin\",\n    createdAt: \"2024-01-15T10:00:00Z\",\n    folders: [],\n  },\n  {\n    id: \"2\",\n    title: \"Media Assets\",\n    description: \"Images, videos, and design files\",\n    createdBy: \"admin\",\n    createdAt: \"2024-01-20T09:00:00Z\",\n    folders: [],\n  },\n]\n\nlet mockFiles: DriveFile[] = [\n  {\n    id: \"f1\",\n    folderId: \"1\",\n    nestedFolderId: \"nf1\",\n    fileName: \"Service_Agreement_2024.pdf\",\n    fileType: \"pdf\",\n    fileSize: 2457600,\n    uploadedBy: \"admin\",\n    uploadedByName: \"Admin User\",\n    uploadedAt: \"2024-01-16T14:30:00Z\",\n    url: \"/placeholder.pdf\",\n    zone: \"North Zone\",\n    district: \"Chennai\",\n    townPanchayat: \"Ambattur\",\n  },\n  {\n    id: \"f2\",\n    folderId: \"1\",\n    nestedFolderId: \"nf2\",\n    fileName: \"Q1_Report_2024.pdf\",\n    fileType: \"pdf\",\n    fileSize: 1843200,\n    uploadedBy: \"user1\",\n    uploadedByName: \"John Doe\",\n    uploadedAt: \"2024-02-01T09:15:00Z\",\n    url: \"/placeholder.pdf\",\n    zone: \"West Zone\",\n    district: \"Coimbatore\",\n    townPanchayat: \"Singanallur\",\n  },\n]\n\nlet mockNestedFolders: DriveNestedFolder[] = [\n  {\n    id: \"nf1\",\n    name: \"Reports\",\n    folderId: \"1\",\n    createdBy: \"admin\",\n    createdAt: \"2024-01-15T10:00:00Z\",\n    shareConfig: {\n      allowedFileTypes: [\"pdf\", \"docx\"],\n      minFileSize: 1,\n      maxFileSize: 10,\n      accessType: \"roles\",\n      allowedRoles: [\"admin\", \"manager\"],\n    },\n  },\n  {\n    id: \"nf2\",\n    name: \"Q1\",\n    folderId: \"1\",\n    parentFolderId: \"nf1\",\n    createdBy: \"admin\",\n    createdAt: \"2024-01-15T10:30:00Z\",\n  },\n]\n\nexport const driveService = {\n  // Folder operations\n  async getFolders(): Promise<DriveFolder[]> {\n    // Build nested structure for folders\n    const foldersWithNesting = mockFolders.map((folder) => {\n      const nestedFolders = buildNestedFolderStructure(mockNestedFolders.filter((nf) => nf.folderId === folder.id))\n      return {\n        ...folder,\n        folders: nestedFolders,\n      }\n    })\n\n    return foldersWithNesting\n  },\n\n  async createFolder(folder: Omit<DriveFolder, \"id\" | \"createdAt\" | \"folders\">): Promise<DriveFolder> {\n    const newFolder: DriveFolder = {\n      ...folder,\n      id: `folder_${Date.now()}`,\n      createdAt: new Date().toISOString(),\n      folders: [],\n    }\n    mockFolders.push(newFolder)\n    return newFolder\n  },\n\n  async updateFolder(id: string, updates: Partial<DriveFolder>): Promise<DriveFolder> {\n    const index = mockFolders.findIndex((f) => f.id === id)\n    if (index !== -1) {\n      mockFolders[index] = { ...mockFolders[index], ...updates }\n      return mockFolders[index]\n    }\n    throw new Error(\"Folder not found\")\n  },\n\n  async deleteFolder(id: string): Promise<void> {\n    mockFolders = mockFolders.filter((f) => f.id !== id)\n    mockFiles = mockFiles.filter((f) => f.folderId !== id)\n  },\n\n  // File operations\n  async getFiles(nestedFolderId?: string, userId?: string, userRole?: string): Promise<DriveFile[]> {\n    let files = mockFiles\n\n    if (nestedFolderId) {\n      files = files.filter((f) => f.nestedFolderId === nestedFolderId)\n    }\n\n    if (userId && userRole !== \"admin\" && userRole !== \"manager\") {\n      files = files.filter((f) => f.uploadedBy === userId)\n    }\n\n    return files\n  },\n\n  async getAllFilesWithFilters(filters: {\n    folderId?: string\n    nestedFolderId?: string\n    zone?: string\n    district?: string\n    townPanchayat?: string\n  }): Promise<DriveFile[]> {\n    let files = mockFiles\n\n    if (filters.folderId) {\n      files = files.filter((f) => f.folderId === filters.folderId)\n    }\n    if (filters.nestedFolderId) {\n      files = files.filter((f) => f.nestedFolderId === filters.nestedFolderId)\n    }\n    if (filters.zone) {\n      files = files.filter((f) => f.zone === filters.zone)\n    }\n    if (filters.district) {\n      files = files.filter((f) => f.district === filters.district)\n    }\n    if (filters.townPanchayat) {\n      files = files.filter((f) => f.townPanchayat === filters.townPanchayat)\n    }\n\n    return files\n  },\n\n  async uploadFile(file: Omit<DriveFile, \"id\" | \"uploadedAt\">): Promise<DriveFile> {\n    const newFile: DriveFile = {\n      ...file,\n      id: `file_${Date.now()}`,\n      uploadedAt: new Date().toISOString(),\n    }\n    mockFiles.push(newFile)\n    return newFile\n  },\n\n  async deleteFile(id: string): Promise<void> {\n    mockFiles = mockFiles.filter((f) => f.id !== id)\n  },\n\n  async getUserFileCount(nestedFolderId: string, userId: string): Promise<number> {\n    return mockFiles.filter((f) => f.nestedFolderId === nestedFolderId && f.uploadedBy === userId).length\n  },\n\n  async canUserUpload(\n    nestedFolderId: string,\n    userId: string,\n    userRole: string,\n    file: Omit<DriveFile, \"id\" | \"uploadedAt\">,\n  ): Promise<{ canUpload: boolean; reason?: string }> {\n    const shareConfig = this.getEffectiveShareConfig(nestedFolderId, mockNestedFolders, mockFolders)\n\n    if (!shareConfig) {\n      return { canUpload: false, reason: \"Folder not found or not shared\" }\n    }\n\n    if (shareConfig.accessType === \"roles\") {\n      if (!shareConfig.allowedRoles?.includes(userRole)) {\n        return { canUpload: false, reason: \"No access to this folder\" }\n      }\n    } else if (shareConfig.accessType === \"users\") {\n      if (!shareConfig.allowedUserIds?.includes(userId)) {\n        return { canUpload: false, reason: \"No access to this folder\" }\n      }\n    }\n\n    const fileSizeInMB = file.fileSize / (1024 * 1024)\n    if (fileSizeInMB < shareConfig.minFileSize || fileSizeInMB > shareConfig.maxFileSize) {\n      return {\n        canUpload: false,\n        reason: `File size must be between ${shareConfig.minFileSize}MB and ${shareConfig.maxFileSize}MB`,\n      }\n    }\n\n    return { canUpload: true }\n  },\n\n  async getUserFileSummaries(nestedFolderId?: string, userId?: string, userRole?: string): Promise<UserFileSummary[]> {\n    let files = mockFiles\n\n    if (nestedFolderId) {\n      files = files.filter((f) => f.nestedFolderId === nestedFolderId)\n    }\n\n    if (userId && userRole !== \"admin\" && userRole !== \"manager\") {\n      files = files.filter((f) => f.uploadedBy === userId)\n    }\n\n    const userFilesMap = new Map<string, DriveFile[]>()\n    files.forEach((file) => {\n      const existing = userFilesMap.get(file.uploadedBy) || []\n      userFilesMap.set(file.uploadedBy, [...existing, file])\n    })\n\n    const summaries: UserFileSummary[] = []\n\n    for (const [uploaderId, userFiles] of userFilesMap.entries()) {\n      const firstFile = userFiles[0]\n      const folder = mockNestedFolders.find((f) => f.id === firstFile.nestedFolderId)\n      const requestedCount = folder?.shareConfig?.maxFileSize || 0\n      const uploadedCount = userFiles.length\n\n      summaries.push({\n        userId: uploaderId,\n        userName: firstFile.uploadedByName,\n        zone: firstFile.zone,\n        district: firstFile.district,\n        townPanchayat: firstFile.townPanchayat,\n        requestedCount,\n        uploadedCount,\n        pendingCount: Math.max(0, requestedCount - uploadedCount),\n        files: userFiles,\n        folderId: firstFile.nestedFolderId || \"\",\n        folderTitle: folder?.name || \"\",\n      })\n    }\n\n    return summaries\n  },\n\n  // Bulk download methods\n  async bulkDownloadFiles(fileIds: string[]): Promise<{ success: boolean; message: string }> {\n    const files = mockFiles.filter((f) => fileIds.includes(f.id))\n    console.log(`[v0] Downloading ${files.length} files as ZIP`)\n\n    // Simulate ZIP download\n    const fileName = `smart_drive_files_${new Date().toISOString().split(\"T\")[0]}.zip`\n\n    return {\n      success: true,\n      message: `Downloaded ${files.length} file(s) as ${fileName}`,\n    }\n  },\n\n  async downloadAllFiles(): Promise<{ success: boolean; message: string }> {\n    console.log(\"[v0] Downloading all files as ZIP\")\n    return {\n      success: true,\n      message: `Downloaded ${mockFiles.length} files as all_files.zip`,\n    }\n  },\n\n  async downloadByFolder(folderId: string): Promise<{ success: boolean; message: string }> {\n    const files = mockFiles.filter((f) => f.folderId === folderId)\n    const folder = mockFolders.find((f) => f.id === folderId)\n    console.log(`[v0] Downloading ${files.length} files from folder ${folder?.title}`)\n    return {\n      success: true,\n      message: `Downloaded ${files.length} files from ${folder?.title} as ${folder?.title.replace(/\\s+/g, \"_\")}.zip`,\n    }\n  },\n\n  async downloadByZone(zone: string): Promise<{ success: boolean; message: string }> {\n    const files = mockFiles.filter((f) => f.zone === zone)\n    console.log(`[v0] Downloading ${files.length} files from zone ${zone}`)\n    return {\n      success: true,\n      message: `Downloaded ${files.length} files from ${zone} as ${zone.replace(/\\s+/g, \"_\")}.zip`,\n    }\n  },\n\n  async downloadByDistrict(district: string): Promise<{ success: boolean; message: string }> {\n    const files = mockFiles.filter((f) => f.district === district)\n    console.log(`[v0] Downloading ${files.length} files from district ${district}`)\n    return {\n      success: true,\n      message: `Downloaded ${files.length} files from ${district} as ${district.replace(/\\s+/g, \"_\")}.zip`,\n    }\n  },\n\n  async downloadByTownPanchayat(townPanchayat: string): Promise<{ success: boolean; message: string }> {\n    const files = mockFiles.filter((f) => f.townPanchayat === townPanchayat)\n    console.log(`[v0] Downloading ${files.length} files from town panchayat ${townPanchayat}`)\n    return {\n      success: true,\n      message: `Downloaded ${files.length} files from ${townPanchayat} as ${townPanchayat.replace(/\\s+/g, \"_\")}.zip`,\n    }\n  },\n\n  // Nested folder operations\n  async createNestedFolder(\n    folder: Omit<DriveNestedFolder, \"id\" | \"createdAt\" | \"folders\">,\n  ): Promise<DriveNestedFolder> {\n    const newFolder: DriveNestedFolder = {\n      ...folder,\n      id: `nfolder_${Date.now()}`,\n      createdAt: new Date().toISOString(),\n      folders: [],\n    }\n    mockNestedFolders.push(newFolder)\n    return newFolder\n  },\n\n  async updateNestedFolder(id: string, updates: Partial<DriveNestedFolder>): Promise<DriveNestedFolder> {\n    const index = mockNestedFolders.findIndex((f) => f.id === id)\n    if (index !== -1) {\n      mockNestedFolders[index] = { ...mockNestedFolders[index], ...updates }\n      return mockNestedFolders[index]\n    }\n    throw new Error(\"Nested folder not found\")\n  },\n\n  async deleteNestedFolder(id: string): Promise<void> {\n    mockNestedFolders = mockNestedFolders.filter((f) => f.id !== id)\n    mockFiles = mockFiles.filter((f) => f.nestedFolderId !== id)\n  },\n\n  // Helper function to get effective share config with inheritance\n  getEffectiveShareConfig(\n    folderId: string,\n    allFolders: DriveNestedFolder[],\n    databoxes?: DriveFolder[],\n  ): DriveNestedFolder[\"shareConfig\"] | null {\n    const folder = allFolders.find((f) => f.id === folderId)\n    if (!folder) return null\n\n    // If folder has its own share config, return it\n    if (folder.shareConfig) {\n      return folder.shareConfig\n    }\n\n    // Check parent folder for inherited config\n    if (folder.parentFolderId) {\n      return this.getEffectiveShareConfig(folder.parentFolderId, allFolders, databoxes)\n    }\n\n    // Check if the databox (parent DriveFolder) is shared\n    if (databoxes) {\n      const databox = databoxes.find((db) => db.id === folder.folderId)\n      if (databox?.shareConfig) {\n        return databox.shareConfig\n      }\n    }\n\n    return null\n  },\n\n  // Method to check if folder is shared (directly or inherited)\n  isFolderShared(\n    folderId: string,\n    allFolders: DriveNestedFolder[],\n    databoxes?: DriveFolder[],\n  ): { isShared: boolean; isInherited: boolean; inheritedFrom?: \"databox\" | \"parent\" } {\n    const folder = allFolders.find((f) => f.id === folderId)\n    if (!folder) return { isShared: false, isInherited: false }\n\n    // Check if folder has direct share config\n    if (folder.shareConfig) {\n      return { isShared: true, isInherited: false }\n    }\n\n    // Check if parent folder has share config (inherited from parent)\n    if (folder.parentFolderId) {\n      const parentShareStatus = this.isFolderShared(folder.parentFolderId, allFolders, databoxes)\n      if (parentShareStatus.isShared) {\n        return { isShared: true, isInherited: true, inheritedFrom: \"parent\" }\n      }\n    }\n\n    // Check if databox is shared (inherited from databox)\n    if (databoxes) {\n      const databox = databoxes.find((db) => db.id === folder.folderId)\n      if (databox?.shareConfig) {\n        return { isShared: true, isInherited: true, inheritedFrom: \"databox\" }\n      }\n    }\n\n    return { isShared: false, isInherited: false }\n  },\n}\n\nfunction buildNestedFolderStructure(folders: DriveNestedFolder[]): DriveNestedFolder[] {\n  const rootFolders = folders.filter((f) => !f.parentFolderId)\n\n  const addChildren = (folder: DriveNestedFolder): DriveNestedFolder => {\n    const childFolders = folders.filter((f) => f.parentFolderId === folder.id)\n    return {\n      ...folder,\n      folders: childFolders.map(addChildren),\n    }\n  }\n\n  return rootFolders.map(addChildren)\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1515, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,gOAAC,gNAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,gOAAC,mNAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,gOAAC,kNAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,gOAAC,iNAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,gOAAC,mNAAuB;QACtB,aAAU;QACV,WAAW,IAAA,wJAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,gOAAC;QAAa,aAAU;;0BACtB,gOAAC;;;;;0BACD,gOAAC,mNAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,wJAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,gOAAC,iNAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,gOAAC,+OAAK;;;;;0CACN,gOAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,gOAAC;QACC,aAAU;QACV,WAAW,IAAA,wJAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,gOAAC,iNAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,gOAAC,uNAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,wJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 1721, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,gOAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,wJAAE,EACX,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 1752, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,gOAAC,+MAAmB;QAClB,aAAU;QACV,WAAW,IAAA,wJAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 1785, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/drive/upload-file-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { driveService, type DriveSubfolder } from \"@/services/drive-service\"\nimport { useAuth } from \"@/hooks/use-auth\"\nimport { Upload, FileText, X } from \"lucide-react\"\n\ninterface UploadFileDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onSuccess: () => void\n  subfolder: DriveSubfolder | null\n}\n\nexport function UploadFileDialog({ open, onOpenChange, onSuccess, subfolder }: UploadFileDialogProps) {\n  const { user } = useAuth()\n  const [selectedFiles, setSelectedFiles] = useState<File[]>([])\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(\"\")\n  const [uploadProgress, setUploadProgress] = useState<{ [key: string]: boolean }>({})\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(e.target.files || [])\n    if (files.length === 0) return\n\n    // Validate each file\n    const validFiles: File[] = []\n    let errorMsg = \"\"\n\n    for (const file of files) {\n      const extension = file.name.split(\".\").pop()?.toLowerCase() || \"\"\n      const sizeInMB = file.size / (1024 * 1024)\n\n      if (subfolder && !subfolder.allowedFileTypes.includes(extension)) {\n        errorMsg = `File ${file.name} has invalid type. Allowed: ${subfolder.allowedFileTypes.join(\", \")}`\n        break\n      }\n\n      if (subfolder && sizeInMB > subfolder.maxFileSize) {\n        errorMsg = `File ${file.name} exceeds max size of ${subfolder.maxFileSize} MB`\n        break\n      }\n\n      validFiles.push(file)\n    }\n\n    if (errorMsg) {\n      setError(errorMsg)\n      return\n    }\n\n    setSelectedFiles((prev) => [...prev, ...validFiles])\n    setError(\"\")\n  }\n\n  const handleRemoveFile = (index: number) => {\n    setSelectedFiles((prev) => prev.filter((_, i) => i !== index))\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (selectedFiles.length === 0 || !subfolder || !user) return\n\n    setError(\"\")\n    setLoading(true)\n    setUploadProgress({})\n\n    try {\n      const { canUpload, reason } = await driveService.canUserUpload(subfolder.id, user.id, user.role)\n      if (!canUpload) {\n        setError(reason || \"Cannot upload files\")\n        setLoading(false)\n        return\n      }\n\n      // Upload each file\n      for (const file of selectedFiles) {\n        const extension = file.name.split(\".\").pop()?.toLowerCase() || \"\"\n        const sizeInMB = file.size / (1024 * 1024)\n\n        setUploadProgress((prev) => ({ ...prev, [file.name]: true }))\n\n        await driveService.uploadFile({\n          subfolderId: subfolder.id,\n          folderId: subfolder.folderId,\n          fileName: file.name,\n          fileType: extension,\n          fileSize: file.size,\n          uploadedBy: user.id,\n          uploadedByName: user.name,\n          url: \"/placeholder.svg?height=400&width=600\",\n          zone: \"\",\n          district: \"\",\n          townPanchayat: \"\",\n        })\n      }\n\n      onSuccess()\n      onOpenChange(false)\n      setSelectedFiles([])\n      setUploadProgress({})\n    } catch (error) {\n      console.error(\"Failed to upload files:\", error)\n      setError(\"Failed to upload files. Please try again.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[550px] max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"text-xl font-semibold text-[#013A65]\">Upload Files</DialogTitle>\n          <p className=\"text-sm text-muted-foreground\">Upload to {subfolder?.title}</p>\n        </DialogHeader>\n\n        {subfolder && (\n          <div className=\"text-xs text-muted-foreground bg-muted/30 px-3 py-2 rounded border\">\n            <span className=\"font-medium text-[#013A65]\">Requirements:</span>{\" \"}\n            {subfolder.allowedFileTypes.join(\", \").toUpperCase()} • Max {subfolder.maxFileSize}MB • Up to{\" \"}\n            {subfolder.maxFilesPerUser} files\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {error && (\n            <div className=\"p-2.5 bg-destructive/10 border border-destructive/20 text-destructive rounded text-sm\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"fileInput\" className=\"text-sm font-medium text-[#013A65]\">\n              Select Files <span className=\"text-destructive\">*</span>\n            </Label>\n            <Input\n              id=\"fileInput\"\n              type=\"file\"\n              onChange={handleFileChange}\n              accept={subfolder?.allowedFileTypes.map((type) => `.${type}`).join(\",\")}\n              multiple\n              className=\"cursor-pointer h-10 text-sm file:mr-3 file:py-1.5 file:px-3 file:rounded file:border-0 file:text-sm file:font-medium file:bg-[#F3B335] file:text-[#013A65] hover:file:bg-[#F3B335]/90\"\n            />\n          </div>\n\n          {selectedFiles.length > 0 && (\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm font-medium text-[#013A65]\">Selected Files ({selectedFiles.length})</Label>\n              <div className=\"space-y-1.5 max-h-[250px] overflow-y-auto border rounded p-2 bg-muted/20\">\n                {selectedFiles.map((file, index) => {\n                  const extension = file.name.split(\".\").pop()?.toLowerCase() || \"\"\n                  const isUploading = uploadProgress[file.name]\n\n                  return (\n                    <div\n                      key={`${file.name}-${index}`}\n                      className=\"flex items-center gap-2 p-2 bg-white border rounded hover:border-[#F3B335]/50 transition-colors\"\n                    >\n                      <FileText className=\"h-4 w-4 text-[#013A65] flex-shrink-0\" />\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium text-[#013A65] truncate\">{file.name}</p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {(file.size / (1024 * 1024)).toFixed(2)} MB • {extension.toUpperCase()}\n                        </p>\n                      </div>\n                      {isUploading ? (\n                        <span className=\"text-xs text-[#F3B335] font-medium\">Uploading...</span>\n                      ) : (\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => handleRemoveFile(index)}\n                          disabled={loading}\n                          className=\"h-7 w-7 p-0 hover:bg-destructive/10 hover:text-destructive\"\n                        >\n                          <X className=\"h-3.5 w-3.5\" />\n                        </Button>\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n          )}\n\n          <div className=\"flex justify-end gap-2 pt-3 border-t\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => {\n                onOpenChange(false)\n                setSelectedFiles([])\n                setError(\"\")\n              }}\n              disabled={loading}\n              className=\"min-w-[90px] h-9\"\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              disabled={loading || selectedFiles.length === 0}\n              className=\"min-w-[110px] h-9 bg-gradient-to-r from-[#013A65] to-[#013A65]/90 hover:from-[#013A65]/90 hover:to-[#013A65]/80 text-white\"\n            >\n              {loading ? (\n                `Uploading ${Object.keys(uploadProgress).length}/${selectedFiles.length}...`\n              ) : (\n                <>\n                  <Upload className=\"h-4 w-4 mr-2\" />\n                  Upload {selectedFiles.length}\n                </>\n              )}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2189, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/components/drive/user-files-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Button } from \"@/components/ui/button\"\nimport { Download, File, X } from \"lucide-react\"\nimport type { DriveFile } from \"@/services/drive-service\"\n\ninterface UserFilesModalProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  userName: string\n  files: DriveFile[]\n}\n\nexport function UserFilesModal({ open, onOpenChange, userName, files }: UserFilesModalProps) {\n  const safeFiles = files || []\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes < 1024) return bytes + \" B\"\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(2) + \" KB\"\n    return (bytes / (1024 * 1024)).toFixed(2) + \" MB\"\n  }\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    })\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col\">\n        <DialogHeader>\n          <DialogTitle className=\"text-xl font-bold text-[#013A65]\">Files Uploaded by {userName}</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-y-auto\">\n          {safeFiles.length === 0 ? (\n            <div className=\"text-center py-12 text-muted-foreground\">\n              <File className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n              <p>No files uploaded yet</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {safeFiles.map((file) => (\n                <div\n                  key={file.id}\n                  className=\"bg-white border-l-4 border-[#F3B335] rounded-lg p-4 hover:shadow-md transition-shadow\"\n                >\n                  <div className=\"flex items-start justify-between gap-4\">\n                    <div className=\"flex items-start gap-3 flex-1 min-w-0\">\n                      <File className=\"h-5 w-5 text-[#013A65] flex-shrink-0 mt-1\" />\n                      <div className=\"flex-1 min-w-0\">\n                        <h4 className=\"font-medium text-[#013A65] mb-1 break-words\">{file.fileName}</h4>\n                        <div className=\"flex flex-wrap gap-x-4 gap-y-1 text-sm text-muted-foreground\">\n                          <span className=\"flex items-center gap-1\">\n                            <span className=\"px-2 py-0.5 bg-[#F3B335]/20 text-[#013A65] rounded text-xs font-medium\">\n                              {file.fileType.toUpperCase()}\n                            </span>\n                          </span>\n                          <span>{formatFileSize(file.fileSize)}</span>\n                          <span>{formatDate(file.uploadedAt)}</span>\n                        </div>\n                        <div className=\"mt-2 text-xs text-muted-foreground\">\n                          <p>\n                            {file.zone} • {file.district} • {file.townPanchayat}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => window.open(file.url, \"_blank\")}\n                      className=\"text-[#013A65] border-[#013A65]/20 hover:bg-[#013A65]/10 flex-shrink-0\"\n                    >\n                      <Download className=\"h-4 w-4 mr-1\" />\n                      Download\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex justify-end pt-4 border-t\">\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            <X className=\"h-4 w-4 mr-2\" />\n            Close\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAJA;;;;;AAcO,SAAS,eAAe,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAuB;IACzF,MAAM,YAAY,SAAS,EAAE;IAE7B,MAAM,iBAAiB,CAAC;QACtB,IAAI,QAAQ,MAAM,OAAO,QAAQ;QACjC,IAAI,QAAQ,OAAO,MAAM,OAAO,CAAC,QAAQ,IAAI,EAAE,OAAO,CAAC,KAAK;QAC5D,OAAO,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,EAAE,OAAO,CAAC,KAAK;IAC9C;IAEA,MAAM,aAAa,CAAC;QAClB,OAAO,IAAI,KAAK,YAAY,kBAAkB,CAAC,SAAS;YACtD,MAAM;YACN,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;QACV;IACF;IAEA,qBACE,gOAAC,2KAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,gOAAC,kLAAa;YAAC,WAAU;;8BACvB,gOAAC,iLAAY;8BACX,cAAA,gOAAC,gLAAW;wBAAC,WAAU;;4BAAmC;4BAAmB;;;;;;;;;;;;8BAG/E,gOAAC;oBAAI,WAAU;8BACZ,UAAU,MAAM,KAAK,kBACpB,gOAAC;wBAAI,WAAU;;0CACb,gOAAC,gPAAI;gCAAC,WAAU;;;;;;0CAChB,gOAAC;0CAAE;;;;;;;;;;;6CAGL,gOAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC,qBACd,gOAAC;gCAEC,WAAU;0CAEV,cAAA,gOAAC;oCAAI,WAAU;;sDACb,gOAAC;4CAAI,WAAU;;8DACb,gOAAC,gPAAI;oDAAC,WAAU;;;;;;8DAChB,gOAAC;oDAAI,WAAU;;sEACb,gOAAC;4DAAG,WAAU;sEAA+C,KAAK,QAAQ;;;;;;sEAC1E,gOAAC;4DAAI,WAAU;;8EACb,gOAAC;oEAAK,WAAU;8EACd,cAAA,gOAAC;wEAAK,WAAU;kFACb,KAAK,QAAQ,CAAC,WAAW;;;;;;;;;;;8EAG9B,gOAAC;8EAAM,eAAe,KAAK,QAAQ;;;;;;8EACnC,gOAAC;8EAAM,WAAW,KAAK,UAAU;;;;;;;;;;;;sEAEnC,gOAAC;4DAAI,WAAU;sEACb,cAAA,gOAAC;;oEACE,KAAK,IAAI;oEAAC;oEAAI,KAAK,QAAQ;oEAAC;oEAAI,KAAK,aAAa;;;;;;;;;;;;;;;;;;;;;;;;sDAK3D,gOAAC,2KAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,OAAO,IAAI,CAAC,KAAK,GAAG,EAAE;4CACrC,WAAU;;8DAEV,gOAAC,4PAAQ;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;+BA9BpC,KAAK,EAAE;;;;;;;;;;;;;;;8BAwCtB,gOAAC;oBAAI,WAAU;8BACb,cAAA,gOAAC,2KAAM;wBAAC,SAAQ;wBAAU,SAAS,IAAM,aAAa;;0CACpD,gOAAC,uOAAC;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;;;;;;;;;;;AAO1C;KArFgB","debugId":null}},
    {"offset": {"line": 2453, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/hooks/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2620, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rajes/Documents/projects/TITTAM/tittam_fe/app/dashboard/drive/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { ProtectedRoute } from \"@/components/auth/protected-route\"\nimport { DashboardLayout } from \"@/components/layout/dashboard-layout\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport {\n  Upload,\n  Grid3x3,\n  List,\n  Settings,\n  Eye,\n  FolderOpen,\n  Folder,\n  ChevronDown,\n  ChevronRight,\n  Download,\n  FileSpreadsheet,\n  FileText,\n  Filter,\n} from \"lucide-react\"\nimport { driveService, type DriveFolder, type UserFileSummary } from \"@/services/drive-service\"\nimport { useAuth } from \"@/hooks/use-auth\"\nimport { cn } from \"@/lib/utils\"\nimport Link from \"next/link\"\nimport { UploadFileDialog } from \"@/components/drive/upload-file-dialog\"\nimport { UserFilesModal } from \"@/components/drive/user-files-modal\"\nimport { useToast } from \"@/hooks/use-toast\"\n\nexport default function SmartDrivePage() {\n  const { user } = useAuth()\n  const { toast } = useToast()\n  const [folders, setFolders] = useState<DriveFolder[]>([])\n  const [userSummaries, setUserSummaries] = useState<UserFileSummary[]>([])\n  const [loading, setLoading] = useState(true)\n  const [loadingData, setLoadingData] = useState(false)\n  const [downloadingBulk, setDownloadingBulk] = useState(false)\n  const [viewMode, setViewMode] = useState<\"grid\" | \"table\">(\"table\")\n  const [selectedFolder, setSelectedFolder] = useState<string | null>(null)\n  const [selectedNestedFolder, setSelectedNestedFolder] = useState<string | null>(null)\n  const [uploadDialogOpen, setUploadDialogOpen] = useState(false)\n  const [selectedUserFiles, setSelectedUserFiles] = useState<UserFileSummary | null>(null)\n  const [userFilesModalOpen, setUserFilesModalOpen] = useState(false)\n  const [expandedFolders, setExpandedFolders] = useState<Set<string>>(new Set())\n\n  const [statusFilter, setStatusFilter] = useState<\"all\" | \"completed\" | \"pending\">(\"all\")\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [zoneFilter, setZoneFilter] = useState(\"\")\n  const [districtFilter, setDistrictFilter] = useState(\"\")\n  const [townPanchayatFilter, setTownPanchayatFilter] = useState(\"\")\n\n  const [showLocationFilters, setShowLocationFilters] = useState(false)\n\n  useEffect(() => {\n    loadFolders()\n  }, [])\n\n  const loadFolders = async () => {\n    setLoading(true)\n    try {\n      const foldersData = await driveService.getFolders()\n      setFolders(foldersData)\n      const allFolderIds = new Set<string>()\n      foldersData.forEach((folder) => {\n        allFolderIds.add(folder.id)\n        collectAllFolderIds(folder.folders || [], allFolderIds)\n      })\n      setExpandedFolders(allFolderIds)\n    } catch (error) {\n      console.error(\"Failed to load folders:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const collectAllFolderIds = (nestedFolders: any[], idSet: Set<string>) => {\n    nestedFolders.forEach((folder) => {\n      idSet.add(folder.id)\n      if (folder.folders && folder.folders.length > 0) {\n        collectAllFolderIds(folder.folders, idSet)\n      }\n    })\n  }\n\n  const loadDataForFolder = async (folderId: string) => {\n    setLoadingData(true)\n    try {\n      const summariesData = await driveService.getUserFileSummaries(folderId, user?.id, user?.role)\n      setUserSummaries(summariesData)\n    } catch (error) {\n      console.error(\"Failed to load data:\", error)\n      toast({\n        title: \"Error loading data\",\n        description: \"Failed to load folder data. Please try again.\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setLoadingData(false)\n    }\n  }\n\n  const handleViewUserFiles = (summary: UserFileSummary) => {\n    setSelectedUserFiles(summary)\n    setUserFilesModalOpen(true)\n  }\n\n  const toggleFolder = (folderId: string) => {\n    setExpandedFolders((prev) => {\n      const newSet = new Set(prev)\n      if (newSet.has(folderId)) {\n        newSet.delete(folderId)\n      } else {\n        newSet.add(folderId)\n      }\n      return newSet\n    })\n  }\n\n  const isLeafFolder = (folder: any): boolean => {\n    return !folder.folders || folder.folders.length === 0\n  }\n\n  const canUserAccessFolder = (folder: any, allFolders: any[]) => {\n    const shareConfig = driveService.getEffectiveShareConfig(folder.id, allFolders)\n\n    if (!shareConfig) return false\n    if (shareConfig.accessType === \"all\") return true\n    if (shareConfig.accessType === \"roles\" && shareConfig.allowedRoles?.includes(user?.role)) return true\n    if (shareConfig.accessType === \"users\" && shareConfig.allowedUserIds?.includes(user?.id)) return true\n    return false\n  }\n\n  const getAccessibleNestedFolders = (nestedFolders: any[], allFolders: any[]): any[] => {\n    const accessible: any[] = []\n    for (const folder of nestedFolders) {\n      if (canUserAccessFolder(folder, allFolders)) {\n        accessible.push(folder)\n      }\n      if (folder.folders && folder.folders.length > 0) {\n        const childAccessible = getAccessibleNestedFolders(folder.folders, allFolders)\n        accessible.push(...childAccessible)\n      }\n    }\n    return accessible\n  }\n\n  const getAllNestedFolders = (folders: any[]): any[] => {\n    const result: any[] = []\n    const traverse = (folderList: any[]) => {\n      for (const folder of folderList) {\n        result.push(folder)\n        if (folder.folders && folder.folders.length > 0) {\n          traverse(folder.folders)\n        }\n      }\n    }\n    traverse(folders)\n    return result\n  }\n\n  const accessibleFolders = folders\n    .map((folder) => {\n      const allFolders = getAllNestedFolders(folder.folders || [])\n      return {\n        ...folder,\n        folders: folder.folders || [],\n        allFolders, // Store flattened list for inheritance checking\n      }\n    })\n    .filter((folder) => {\n      const accessibleNested = getAccessibleNestedFolders(folder.folders, folder.allFolders)\n      return accessibleNested.length > 0\n    })\n\n  const filteredSummaries = userSummaries.filter((summary) => {\n    if (statusFilter === \"completed\" && summary.pendingCount > 0) return false\n    if (statusFilter === \"pending\" && summary.pendingCount === 0) return false\n\n    if (searchQuery && !summary.userName.toLowerCase().includes(searchQuery.toLowerCase())) return false\n\n    if (zoneFilter && summary.zone !== zoneFilter) return false\n    if (districtFilter && summary.district !== districtFilter) return false\n    if (townPanchayatFilter && summary.townPanchayat !== townPanchayatFilter) return false\n\n    return true\n  })\n\n  const uniqueZones = Array.from(new Set(userSummaries.map((s) => s.zone)))\n  const uniqueDistricts = Array.from(\n    new Set(userSummaries.filter((s) => !zoneFilter || s.zone === zoneFilter).map((s) => s.district)),\n  )\n  const uniqueTownPanchayats = Array.from(\n    new Set(userSummaries.filter((s) => !districtFilter || s.district === districtFilter).map((s) => s.townPanchayat)),\n  )\n\n  const canViewAllFiles = user?.role === \"admin\" || user?.role === \"manager\"\n\n  const handleBulkDownload = async () => {\n    if (filteredSummaries.length === 0) {\n      toast({\n        title: \"No files to download\",\n        description: \"There are no files matching your current filters.\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setDownloadingBulk(true)\n    try {\n      const fileIds: string[] = []\n      for (const summary of filteredSummaries) {\n        if (summary.files) {\n          fileIds.push(...summary.files.map((f) => f.id))\n        }\n      }\n\n      if (fileIds.length === 0) {\n        toast({\n          title: \"No files to download\",\n          description: \"The selected users have not uploaded any files yet.\",\n          variant: \"destructive\",\n        })\n        return\n      }\n\n      await driveService.bulkDownloadFiles(fileIds)\n\n      toast({\n        title: \"Download started\",\n        description: `Downloading ${fileIds.length} file(s) from selected folder`,\n      })\n    } catch (error) {\n      console.error(\"Bulk download failed:\", error)\n      toast({\n        title: \"Download failed\",\n        description: \"Failed to download files. Please try again.\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setDownloadingBulk(false)\n    }\n  }\n\n  const handleExportExcel = () => {\n    if (filteredSummaries.length === 0) {\n      toast({\n        title: \"No data to export\",\n        description: \"There are no records matching your current filters.\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    const headers = [\"User Name\", \"Zone\", \"District\", \"Town Panchayat\", \"Requested\", \"Uploaded\", \"Pending\"]\n    const csvRows = [headers.join(\",\")]\n\n    filteredSummaries.forEach((summary) => {\n      const row = [\n        `\"${summary.userName}\"`,\n        `\"${summary.zone}\"`,\n        `\"${summary.district}\"`,\n        `\"${summary.townPanchayat}\"`,\n        summary.requestedCount,\n        summary.uploadedCount,\n        summary.pendingCount,\n      ]\n      csvRows.push(row.join(\",\"))\n    })\n\n    const csvContent = csvRows.join(\"\\n\")\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" })\n    const link = document.createElement(\"a\")\n    const url = URL.createObjectURL(blob)\n    link.setAttribute(\"href\", url)\n    link.setAttribute(\"download\", `smart-drive-report-${new Date().toISOString().split(\"T\")[0]}.csv`)\n    link.style.visibility = \"hidden\"\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n\n    toast({\n      title: \"Excel export successful\",\n      description: `Exported ${filteredSummaries.length} records to CSV file.`,\n    })\n  }\n\n  const handleExportPDF = () => {\n    if (filteredSummaries.length === 0) {\n      toast({\n        title: \"No data to export\",\n        description: \"There are no records matching your current filters.\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    toast({\n      title: \"PDF export started\",\n      description: `Generating PDF with ${filteredSummaries.length} records...`,\n    })\n\n    setTimeout(() => {\n      toast({\n        title: \"PDF export successful\",\n        description: `Exported ${filteredSummaries.length} records to PDF file.`,\n      })\n    }, 1000)\n  }\n\n  const renderNestedFolders = (nestedFolders: any[], allFolders: any[], depth = 0) => {\n    return nestedFolders.map((folder) => {\n      if (!canUserAccessFolder(folder, allFolders)) return null\n\n      const hasChildren = folder.folders && folder.folders.length > 0\n      const isExpanded = expandedFolders.has(folder.id)\n      const isLeaf = isLeafFolder(folder)\n      const isSelected = selectedNestedFolder === folder.id\n\n      const shareStatus = driveService.isFolderShared(folder.id, allFolders)\n\n      return (\n        <div key={folder.id}>\n          <button\n            onClick={() => {\n              if (hasChildren) {\n                toggleFolder(folder.id)\n              }\n              setSelectedFolder(folder.id)\n              setSelectedNestedFolder(folder.id)\n              loadDataForFolder(folder.id)\n            }}\n            className={cn(\n              \"w-full text-left px-3 py-2.5 rounded-lg text-sm transition-all flex items-center gap-2.5 group\",\n              isSelected\n                ? \"bg-[#013A65] text-white font-medium shadow-md\"\n                : \"text-[#013A65]/80 hover:bg-[#F3B335]/10 hover:text-[#013A65]\",\n            )}\n            style={{ paddingLeft: `${depth * 16 + 12}px` }}\n          >\n            {hasChildren ? (\n              isExpanded ? (\n                <ChevronDown className=\"h-4 w-4 flex-shrink-0\" />\n              ) : (\n                <ChevronRight className=\"h-4 w-4 flex-shrink-0\" />\n              )\n            ) : (\n              <div className=\"w-4\" />\n            )}\n            {isLeaf ? (\n              <FolderOpen className={cn(\"h-4 w-4 flex-shrink-0\", isSelected ? \"text-[#F3B335]\" : \"text-[#013A65]\")} />\n            ) : (\n              <Folder className={cn(\"h-4 w-4 flex-shrink-0\", isSelected ? \"text-[#F3B335]\" : \"text-[#013A65]\")} />\n            )}\n            <span className=\"truncate flex-1\">{folder.name}</span>\n            {shareStatus.isShared && (\n              <span\n                className={cn(\n                  \"text-[10px] font-medium px-2 py-0.5 rounded-full\",\n                  shareStatus.isInherited ? \"bg-blue-100 text-blue-700\" : \"bg-green-100 text-green-700\",\n                  isSelected && \"bg-white/20 text-white\",\n                )}\n              >\n                {shareStatus.isInherited ? \"Inherited\" : \"Shared\"}\n              </span>\n            )}\n          </button>\n          {hasChildren && isExpanded && (\n            <div className=\"mt-0.5\">{renderNestedFolders(folder.folders, allFolders, depth + 1)}</div>\n          )}\n        </div>\n      )\n    })\n  }\n\n  const selectedFolderIsLeaf = () => {\n    if (!selectedNestedFolder) return false\n\n    for (const folder of accessibleFolders) {\n      const allFolders = getAllNestedFolders(folder.folders || [])\n      const selectedFolder = allFolders.find((f) => f.id === selectedNestedFolder)\n      if (selectedFolder) {\n        return isLeafFolder(selectedFolder)\n      }\n    }\n    return false\n  }\n\n  return (\n    <ProtectedRoute>\n      <DashboardLayout>\n        <div className=\"space-y-6\">\n          <div className=\"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 rounded-lg py-3 px-6 text-white shadow-lg\">\n            <div className=\"flex justify-between items-center\">\n              <div>\n                <h1 className=\"text-xl font-semibold\">Smart Drive</h1>\n                <p className=\"text-white/80 text-sm mt-1\">Upload and manage files by databox and shares</p>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Button\n                  variant={viewMode === \"grid\" ? \"default\" : \"outline\"}\n                  size=\"sm\"\n                  onClick={() => setViewMode(\"grid\")}\n                  className={cn(\n                    \"h-9 border-white/20\",\n                    viewMode === \"grid\"\n                      ? \"bg-[#F3B335] text-[#013A65] hover:bg-[#F3B335]/90\"\n                      : \"bg-green-600 text-white hover:bg-green-700\",\n                  )}\n                >\n                  <Grid3x3 className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant={viewMode === \"table\" ? \"default\" : \"outline\"}\n                  size=\"sm\"\n                  onClick={() => setViewMode(\"table\")}\n                  className={cn(\n                    \"h-9 border-white/20\",\n                    viewMode === \"table\"\n                      ? \"bg-[#F3B335] text-[#013A65] hover:bg-[#F3B335]/90\"\n                      : \"bg-green-600 text-white hover:bg-green-700\",\n                  )}\n                >\n                  <List className=\"h-4 w-4\" />\n                </Button>\n                {canViewAllFiles && (\n                  <Link href=\"/dashboard/drive/manage\">\n                    <Button\n                      size=\"sm\"\n                      className=\"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 hover:from-[#F3B335]/90 hover:to-[#F3B335]/80 text-[#013A65] border-0 shadow-lg hover:shadow-xl transition-all duration-300 h-9 px-4 text-sm font-medium\"\n                    >\n                      <Settings className=\"h-4 w-4 mr-1.5\" />\n                      Manage Databox\n                    </Button>\n                  </Link>\n                )}\n                {selectedNestedFolder && selectedFolderIsLeaf() && (\n                  <Button\n                    onClick={() => setUploadDialogOpen(true)}\n                    size=\"sm\"\n                    className=\"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 hover:from-[#F3B335]/90 hover:to-[#F3B335]/80 text-[#013A65] border-0 shadow-lg hover:shadow-xl transition-all duration-300 h-9 px-4 text-sm font-medium\"\n                  >\n                    <Upload className=\"h-4 w-4 mr-1.5\" />\n                    Upload Files\n                  </Button>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <input\n              type=\"text\"\n              placeholder=\"Search by user name...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"h-11 px-4 border border-[#013A65]/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#013A65]/20 focus:border-[#013A65] text-sm min-w-[280px] flex-1\"\n            />\n            <Button\n              variant={statusFilter === \"all\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setStatusFilter(\"all\")}\n              className={cn(\n                \"h-11 px-6\",\n                statusFilter === \"all\"\n                  ? \"bg-[#013A65] text-white hover:bg-[#013A65]/90\"\n                  : \"border-[#013A65]/20 text-[#013A65] hover:bg-[#013A65]/10\",\n              )}\n            >\n              All\n            </Button>\n            <Button\n              variant={statusFilter === \"completed\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setStatusFilter(\"completed\")}\n              className={cn(\n                \"h-11 px-6\",\n                statusFilter === \"completed\"\n                  ? \"bg-green-600 text-white hover:bg-green-700\"\n                  : \"border-[#013A65]/20 text-green-600 hover:bg-green-50\",\n              )}\n            >\n              Completed\n            </Button>\n            <Button\n              variant={statusFilter === \"pending\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setStatusFilter(\"pending\")}\n              className={cn(\n                \"h-11 px-6\",\n                statusFilter === \"pending\"\n                  ? \"bg-orange-600 text-white hover:bg-orange-700\"\n                  : \"border-[#013A65]/20 text-orange-600 hover:bg-orange-50\",\n              )}\n            >\n              Pending\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => setShowLocationFilters(!showLocationFilters)}\n              className={cn(\n                \"h-11 px-4 ml-auto\",\n                showLocationFilters\n                  ? \"bg-[#013A65] text-white hover:bg-[#013A65]/90\"\n                  : \"border-[#013A65]/20 text-[#013A65] hover:bg-[#013A65]/10\",\n              )}\n            >\n              <Filter className=\"h-4 w-4\" />\n            </Button>\n          </div>\n\n          {showLocationFilters && (\n            <div className=\"flex flex-wrap items-center gap-3\">\n              <select\n                value={zoneFilter}\n                onChange={(e) => {\n                  setZoneFilter(e.target.value)\n                  setDistrictFilter(\"\")\n                  setTownPanchayatFilter(\"\")\n                }}\n                className=\"h-11 px-4 border border-[#013A65]/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#013A65]/20 focus:border-[#013A65] text-sm min-w-[280px]\"\n              >\n                <option value=\"\">All Zones</option>\n                {uniqueZones.map((zone) => (\n                  <option key={zone} value={zone}>\n                    {zone}\n                  </option>\n                ))}\n              </select>\n\n              <select\n                value={districtFilter}\n                onChange={(e) => {\n                  setDistrictFilter(e.target.value)\n                  setTownPanchayatFilter(\"\")\n                }}\n                disabled={!zoneFilter}\n                className=\"h-11 px-4 border border-[#013A65]/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#013A65]/20 focus:border-[#013A65] text-sm min-w-[280px] disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <option value=\"\">All Districts</option>\n                {uniqueDistricts.map((district) => (\n                  <option key={district} value={district}>\n                    {district}\n                  </option>\n                ))}\n              </select>\n\n              <select\n                value={townPanchayatFilter}\n                onChange={(e) => setTownPanchayatFilter(e.target.value)}\n                disabled={!districtFilter}\n                className=\"h-11 px-4 border border-[#013A65]/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#013A65]/20 focus:border-[#013A65] text-sm min-w-[280px] disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <option value=\"\">All Town Panchayats</option>\n                {uniqueTownPanchayats.map((tp) => (\n                  <option key={tp} value={tp}>\n                    {tp}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          <Card className=\"border-border bg-card\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex gap-6\">\n                <div className=\"w-72 border-l-4 border-[#F3B335] border-t border-r border-b border-border rounded-lg p-4 bg-gradient-to-b from-white to-gray-50/50 max-h-[calc(100vh-300px)] overflow-y-auto\">\n                  <h3 className=\"font-semibold text-[#013A65] mb-4 text-base flex items-center gap-2\">\n                    <Folder className=\"h-5 w-5 text-[#F3B335]\" />\n                    Databox Tree\n                  </h3>\n                  {loading ? (\n                    <div className=\"text-center py-8 text-muted-foreground text-sm\">Loading folders...</div>\n                  ) : accessibleFolders.length === 0 ? (\n                    <div className=\"text-center py-8 text-muted-foreground text-sm\">\n                      <FolderOpen className=\"h-10 w-10 mx-auto mb-3 opacity-30\" />\n                      <p>No accessible folders</p>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-1\">\n                      {accessibleFolders.map((folder) => (\n                        <div key={folder.id}>\n                          <button\n                            onClick={() => toggleFolder(folder.id)}\n                            className={cn(\n                              \"w-full text-left px-3 py-2.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2.5\",\n                              \"text-[#013A65] hover:bg-[#F3B335]/10 hover:text-[#013A65] border border-transparent hover:border-[#F3B335]/20\",\n                            )}\n                          >\n                            {expandedFolders.has(folder.id) ? (\n                              <ChevronDown className=\"h-4 w-4 flex-shrink-0\" />\n                            ) : (\n                              <ChevronRight className=\"h-4 w-4 flex-shrink-0\" />\n                            )}\n                            <Folder className=\"h-4 w-4 flex-shrink-0 text-[#F3B335]\" />\n                            <span className=\"truncate flex-1\">{folder.title}</span>\n                          </button>\n                          {expandedFolders.has(folder.id) && folder.folders && folder.folders.length > 0 && (\n                            <div className=\"mt-0.5 space-y-0.5 ml-1\">\n                              {renderNestedFolders(folder.folders, folder.allFolders, 0)}\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                {/* Right Panel - User Summaries Display */}\n                <div className=\"flex-1\">\n                  {loadingData ? (\n                    <div className=\"text-center py-12 text-muted-foreground\">\n                      <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#013A65] mx-auto mb-4\"></div>\n                      <p>Loading folder data...</p>\n                    </div>\n                  ) : !selectedNestedFolder ? (\n                    <div className=\"text-center py-12 text-muted-foreground\">\n                      <FolderOpen className=\"h-16 w-16 mx-auto mb-4 opacity-30 text-[#013A65]\" />\n                      <p className=\"text-lg font-medium text-[#013A65] mb-2\">Select a Folder</p>\n                      <p className=\"text-sm\">Choose a folder from the tree to view uploaded files</p>\n                    </div>\n                  ) : filteredSummaries.length === 0 ? (\n                    <div className=\"text-center py-12 text-muted-foreground\">\n                      <FolderOpen className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                      <p>No files uploaded yet in this folder.</p>\n                    </div>\n                  ) : viewMode === \"grid\" ? (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                      {filteredSummaries.map((summary) => (\n                        <div\n                          key={summary.userId}\n                          className=\"border-l-4 border-[#F3B335] border-t border-r border-b border-border rounded-lg p-4 hover:shadow-md transition-all bg-white\"\n                        >\n                          <h4 className=\"font-semibold text-[#013A65] mb-3\">{summary.userName}</h4>\n                          <div className=\"space-y-2 text-sm mb-4\">\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-muted-foreground\">Zone:</span>\n                              <span className=\"font-medium text-[#013A65]\">{summary.zone}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-muted-foreground\">District:</span>\n                              <span className=\"font-medium text-[#013A65]\">{summary.district}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                              <span className=\"text-muted-foreground\">Town Panchayat:</span>\n                              <span className=\"font-medium text-[#013A65]\">{summary.townPanchayat}</span>\n                            </div>\n                            <div className=\"border-t pt-2 mt-2\">\n                              <div className=\"flex justify-between\">\n                                <span className=\"text-muted-foreground\">Requested:</span>\n                                <span className=\"font-medium\">{summary.requestedCount}</span>\n                              </div>\n                              <div className=\"flex justify-between\">\n                                <span className=\"text-muted-foreground\">Uploaded:</span>\n                                <span className=\"font-medium text-green-600\">{summary.uploadedCount}</span>\n                              </div>\n                              <div className=\"flex justify-between\">\n                                <span className=\"text-muted-foreground\">Pending:</span>\n                                <span className=\"font-medium text-orange-600\">{summary.pendingCount}</span>\n                              </div>\n                            </div>\n                          </div>\n                          <Button\n                            onClick={() => handleViewUserFiles(summary)}\n                            className=\"w-full bg-[#013A65] hover:bg-[#013A65]/90 text-white\"\n                            size=\"sm\"\n                          >\n                            <Eye className=\"h-4 w-4 mr-2\" />\n                            View Files\n                          </Button>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"space-y-3\">\n                      <div className=\"flex justify-end gap-2\">\n                        {canViewAllFiles && (\n                          <Button\n                            onClick={handleBulkDownload}\n                            disabled={downloadingBulk || filteredSummaries.length === 0}\n                            size=\"sm\"\n                            className=\"bg-gradient-to-r from-green-600 to-green-600/90 hover:from-green-600/90 hover:to-green-600/80 text-white\"\n                          >\n                            <Download className=\"h-4 w-4 mr-2\" />\n                            {downloadingBulk ? \"Downloading...\" : \"Bulk File Downloads\"}\n                          </Button>\n                        )}\n                        <Button\n                          onClick={handleExportExcel}\n                          disabled={filteredSummaries.length === 0}\n                          size=\"sm\"\n                          className=\"bg-green-600 hover:bg-green-700 text-white\"\n                        >\n                          <FileSpreadsheet className=\"h-4 w-4 mr-2\" />\n                          Export Excel\n                        </Button>\n                        <Button\n                          onClick={handleExportPDF}\n                          disabled={filteredSummaries.length === 0}\n                          size=\"sm\"\n                          className=\"bg-red-600 hover:bg-red-700 text-white\"\n                        >\n                          <FileText className=\"h-4 w-4 mr-2\" />\n                          Export PDF\n                        </Button>\n                      </div>\n\n                      <div className=\"border-l-4 border-[#F3B335] border-t border-r border-b border-border rounded-lg overflow-hidden bg-white\">\n                        <div className=\"overflow-x-auto\">\n                          <table className=\"w-full\">\n                            <thead className=\"bg-[#F3B335]\">\n                              <tr>\n                                <th className=\"text-left px-4 py-3 text-sm font-semibold min-w-[150px] text-[#013A65]\">\n                                  User Name\n                                </th>\n                                <th className=\"text-left px-4 py-3 text-sm font-semibold min-w-[120px] text-[#013A65]\">\n                                  Zone\n                                </th>\n                                <th className=\"text-left px-4 py-3 text-sm font-semibold min-w-[120px] text-[#013A65]\">\n                                  District\n                                </th>\n                                <th className=\"text-left px-4 py-3 text-sm font-semibold min-w-[150px] text-[#013A65]\">\n                                  Town Panchayat\n                                </th>\n                                <th className=\"text-center px-4 py-3 text-sm font-semibold w-24 text-[#013A65]\">\n                                  Requested\n                                </th>\n                                <th className=\"text-center px-4 py-3 text-sm font-semibold w-24 text-[#013A65]\">\n                                  Uploaded\n                                </th>\n                                <th className=\"text-center px-4 py-3 text-sm font-semibold w-24 text-[#013A65]\">\n                                  Pending\n                                </th>\n                                <th className=\"text-center px-4 py-3 text-sm font-semibold w-28 text-[#013A65]\">\n                                  Actions\n                                </th>\n                              </tr>\n                            </thead>\n                            <tbody>\n                              {filteredSummaries.map((summary, index) => (\n                                <tr\n                                  key={summary.userId}\n                                  className={cn(\n                                    \"border-b border-gray-100 hover:bg-[#F3B335]/5 transition-colors\",\n                                    index % 2 === 0 ? \"bg-white\" : \"bg-gray-50/50\",\n                                  )}\n                                >\n                                  <td className=\"px-4 py-3 text-sm text-[#013A65] font-medium\">\n                                    <div className=\"truncate max-w-[200px]\" title={summary.userName}>\n                                      {summary.userName}\n                                    </div>\n                                  </td>\n                                  <td className=\"px-4 py-3 text-sm text-muted-foreground\">\n                                    <div className=\"truncate max-w-[120px]\" title={summary.zone}>\n                                      {summary.zone}\n                                    </div>\n                                  </td>\n                                  <td className=\"px-4 py-3 text-sm text-muted-foreground\">\n                                    <div className=\"truncate max-w-[120px]\" title={summary.district}>\n                                      {summary.district}\n                                    </div>\n                                  </td>\n                                  <td className=\"px-4 py-3 text-sm text-muted-foreground\">\n                                    <div className=\"truncate max-w-[150px]\" title={summary.townPanchayat}>\n                                      {summary.townPanchayat}\n                                    </div>\n                                  </td>\n                                  <td className=\"px-4 py-3 text-sm text-center font-medium\">\n                                    {summary.requestedCount}\n                                  </td>\n                                  <td className=\"px-4 py-3 text-sm text-center font-medium text-green-600\">\n                                    {summary.uploadedCount}\n                                  </td>\n                                  <td className=\"px-4 py-3 text-sm text-center font-medium text-orange-600\">\n                                    {summary.pendingCount}\n                                  </td>\n                                  <td className=\"px-4 py-3 text-center\">\n                                    <Button\n                                      variant=\"ghost\"\n                                      size=\"sm\"\n                                      onClick={() => handleViewUserFiles(summary)}\n                                      className=\"text-[#013A65] hover:bg-[#013A65]/10\"\n                                    >\n                                      <Eye className=\"h-4 w-4 mr-1\" />\n                                      View\n                                    </Button>\n                                  </td>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </table>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <UploadFileDialog\n          open={uploadDialogOpen}\n          onOpenChange={setUploadDialogOpen}\n          folders={folders}\n          onUploadComplete={() => {\n            if (selectedNestedFolder) {\n              loadDataForFolder(selectedNestedFolder)\n            }\n          }}\n        />\n\n        <UserFilesModal\n          open={userFilesModalOpen}\n          onOpenChange={setUserFilesModalOpen}\n          userSummary={selectedUserFiles}\n          onFileDeleted={() => {\n            if (selectedNestedFolder) {\n              loadDataForFolder(selectedNestedFolder)\n            }\n          }}\n        />\n      </DashboardLayout>\n    </ProtectedRoute>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}