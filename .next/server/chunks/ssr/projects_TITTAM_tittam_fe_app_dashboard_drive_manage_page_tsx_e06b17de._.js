module.exports=[91542,a=>{"use strict";var b=a.i(23413),c=a.i(32496),d=a.i(11800),e=a.i(39766),f=a.i(6765),g=a.i(76314);let h=(0,a.i(21039).default)("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var i=a.i(6538),j=a.i(9316),k=a.i(32340),l=a.i(54066),m=a.i(42337),n=a.i(63740),o=a.i(52656),p=a.i(70663),q=a.i(77605),r=a.i(71081),s=a.i(93663);function t({open:a,onOpenChange:d,onSuccess:e,editingFolder:g}){let{user:h}=(0,s.useAuth)(),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,t]=(0,c.useState)(!1);(0,c.useEffect)(()=>{g?(j(g.title),l(g.description||"")):(j(""),l(""))},[g,a]);let u=async a=>{if(a.preventDefault(),i.trim()&&h){t(!0);try{g?await n.driveService.updateFolder(g.id,{title:i,description:k}):await n.driveService.createFolder({title:i,description:k,createdBy:h.id}),e(),d(!1),j(""),l("")}catch(a){console.error("Failed to save folder:",a)}finally{t(!1)}}};return(0,b.jsx)(o.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(o.DialogContent,{className:"sm:max-w-[550px]",children:[(0,b.jsx)(o.DialogHeader,{children:(0,b.jsx)(o.DialogTitle,{className:"text-[#013A65] text-xl",children:g?"Edit Databox":"Create New Databox"})}),(0,b.jsxs)("form",{onSubmit:u,className:"space-y-5 pt-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(q.Label,{htmlFor:"title",className:"text-sm font-medium",children:["Databox Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(p.Input,{id:"title",value:i,onChange:a=>j(a.target.value),placeholder:"e.g., Project Documents",required:!0,className:"h-11"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),(0,b.jsx)(r.Textarea,{id:"description",value:k,onChange:a=>l(a.target.value),placeholder:"Brief description of this databox",rows:4,className:"resize-none"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Provide a clear description to help users understand the databox's purpose"})]}),(0,b.jsxs)(o.DialogFooter,{className:"gap-2 pt-4",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:m,className:"h-10",children:"Cancel"}),(0,b.jsx)(f.Button,{type:"submit",disabled:m||!i.trim(),className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 hover:from-[#013A65]/90 hover:to-[#013A65] text-white h-10 px-6",children:m?"Saving...":g?"Update Databox":"Create Databox"})]})]})]})})}var u=a.i(22313);function v({open:a,onOpenChange:d,onSuccess:e,databox:g,parentFolder:h,editingFolder:i}){let{user:j}=(0,s.useAuth)(),{toast:k}=(0,u.useToast)(),[l,m]=(0,c.useState)(!1),[r,t]=(0,c.useState)("");(0,c.useEffect)(()=>{i?t(i.name):t("")},[i,a]);let v=async a=>{if(a.preventDefault(),g&&j){m(!0);try{i?(await n.driveService.updateNestedFolder(i.id,{name:r}),k({title:"Success",description:"Folder updated successfully"})):(await n.driveService.createNestedFolder({name:r,folderId:g.id,parentFolderId:h?.id,createdBy:j.id}),k({title:"Success",description:"Folder created successfully"})),e(),d(!1),t("")}catch(a){k({title:"Error",description:"Failed to save folder",variant:"destructive"})}finally{m(!1)}}};return(0,b.jsx)(o.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(o.DialogContent,{className:"max-w-md",children:[(0,b.jsx)(o.DialogHeader,{children:(0,b.jsx)(o.DialogTitle,{className:"text-[#013A65] text-xl",children:i?"Edit Folder":"Create New Folder"})}),(0,b.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(q.Label,{htmlFor:"name",className:"text-[#013A65] font-medium",children:["Folder Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(p.Input,{id:"name",value:r,onChange:a=>t(a.target.value),placeholder:"Enter folder name",required:!0,className:"mt-1.5 h-11 border-[#013A65]/20 focus:border-[#013A65]"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:l,children:"Cancel"}),(0,b.jsx)(f.Button,{type:"submit",disabled:l,className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 hover:from-[#013A65]/90 hover:to-[#013A65]/80 text-white",children:l?"Saving...":i?"Update Folder":"Create Folder"})]})]})]})})}var w=a.i(24224),x=a.i(70488);let y=[{value:"pdf",label:"PDF (.pdf)"},{value:"doc",label:"Word (.doc, .docx)"},{value:"xls",label:"Excel (.xls, .xlsx)"},{value:"ppt",label:"PowerPoint (.ppt, .pptx)"},{value:"txt",label:"Text (.txt)"},{value:"jpg",label:"JPEG (.jpg, .jpeg)"},{value:"png",label:"PNG (.png)"},{value:"gif",label:"GIF (.gif)"},{value:"mp4",label:"Video (.mp4, .avi, .mov)"},{value:"mp3",label:"Audio (.mp3, .wav)"},{value:"zip",label:"Archive (.zip, .rar)"}],z=["Zone 1","Zone 2","Zone 3","Zone 4"],A={"Zone 1":["District 1A","District 1B","District 1C"],"Zone 2":["District 2A","District 2B"],"Zone 3":["District 3A","District 3B","District 3C"],"Zone 4":["District 4A","District 4B"]},B={"District 1A":["TP 1A1","TP 1A2","TP 1A3"],"District 1B":["TP 1B1","TP 1B2"],"District 1C":["TP 1C1","TP 1C2","TP 1C3"],"District 2A":["TP 2A1","TP 2A2"],"District 2B":["TP 2B1","TP 2B2","TP 2B3"],"District 3A":["TP 3A1","TP 3A2"],"District 3B":["TP 3B1","TP 3B2"],"District 3C":["TP 3C1","TP 3C2","TP 3C3"],"District 4A":["TP 4A1","TP 4A2"],"District 4B":["TP 4B1","TP 4B2","TP 4B3"]};function C({open:a,onOpenChange:d,onSuccess:e,folder:g,parentFolder:h,parentShare:i,editingSubfolder:j}){let{user:l}=(0,s.useAuth)(),[m,r]=(0,c.useState)([]),[t,u]=(0,c.useState)("1"),[v,C]=(0,c.useState)("10"),[D,E]=(0,c.useState)("all"),[F,G]=(0,c.useState)("zone"),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(!1);(0,c.useEffect)(()=>{g?.shareConfig&&!h?(r(g.shareConfig.allowedFileTypes),u(g.shareConfig.minFileSize?.toString()||"1"),C(g.shareConfig.maxFileSize.toString()),E("all"===g.shareConfig.accessType?"all":"location")):h?.shareConfig?(r(h.shareConfig.allowedFileTypes),u(h.shareConfig.minFileSize?.toString()||"1"),C(h.shareConfig.maxFileSize.toString()),E("all"===h.shareConfig.accessType?"all":"location")):j?(r(j.allowedFileTypes),u(j.minFileSize?.toString()||"1"),C(j.maxFileSize.toString()),E("all"===j.accessType?"all":"location")):(r([]),u("1"),C("10"),E("all"),G("zone"),I(""),K(""),M(""))},[j,h,g,a]);let R=a=>{r(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},S=async a=>{if(a.preventDefault(),g&&l&&0!==m.length){Q(!0);try{let a={allowedFileTypes:m,minFileSize:Number.parseInt(t),maxFileSize:Number.parseInt(v),accessType:D,..."location"===D&&{locationLevel:F,zone:H||void 0,district:J||void 0,townPanchayat:L||void 0}};if(!h&&g)await n.driveService.updateFolder(g.id,{shareConfig:a});else if(h&&!h.shareConfig)await n.driveService.updateNestedFolder(h.id,{shareConfig:a});else{let b={folderId:g.id,parentSubfolderId:i?.id,...a,createdBy:l.id};j?await n.driveService.updateSubfolder(j.id,b):await n.driveService.createSubfolder(b)}e(),d(!1)}catch(a){console.error("Failed to save share:",a)}finally{Q(!1)}}},T=H&&A[H]||[],U=J&&B[J]||[];return(0,b.jsx)(o.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(o.DialogContent,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsx)(o.DialogTitle,{className:"text-[#013A65] text-xl",children:!h&&g?`Share Databox: ${g.title}`:h&&!h.shareConfig?`Share Folder: ${h.name}`:j?"Edit Share":"Create New Share"}),g&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:!h&&g?"Configure sharing settings for this databox. All folders and subfolders will inherit these settings.":h&&!h.shareConfig?"Configure sharing settings for this folder. All subfolders will inherit these settings.":(0,b.jsxs)(b.Fragment,{children:["Creating share in: ",(0,b.jsx)("span",{className:"font-medium text-foreground",children:g?.title}),i&&(0,b.jsx)("span",{className:"text-[#F3B335]",children:" → Nested under Share"})]})})]}),(0,b.jsxs)("form",{onSubmit:S,className:"space-y-6 pt-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(q.Label,{className:"text-sm font-medium",children:["Allowed File Types ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>O(!N),className:"w-full h-11 px-3 py-2 text-left border rounded-md bg-background hover:bg-muted/50 transition-colors flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm",children:0===m.length?"Select file types...":`${m.length} file type(s) selected`}),(0,b.jsx)(k.ChevronDown,{className:"h-4 w-4 opacity-50"})]}),N&&(0,b.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-background border rounded-md shadow-lg max-h-64 overflow-y-auto",children:(0,b.jsx)("div",{className:"p-2 space-y-1",children:y.map(a=>(0,b.jsxs)("div",{className:"flex items-center space-x-2 p-2 hover:bg-muted rounded cursor-pointer",onClick:()=>R(a.value),children:[(0,b.jsx)(x.Checkbox,{checked:m.includes(a.value)}),(0,b.jsx)("label",{className:"text-sm cursor-pointer flex-1",children:a.label})]},a.value))})})]}),m.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:m.map(a=>{let c=y.find(b=>b.value===a);return(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[#F3B335]/10 text-[#013A65] rounded text-xs font-medium",children:[c?.label,(0,b.jsx)("button",{type:"button",onClick:()=>R(a),className:"hover:text-red-600 ml-1",children:"×"})]},a)})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(q.Label,{htmlFor:"minFileSize",className:"text-sm font-medium",children:["Min File Size (MB) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(p.Input,{id:"minFileSize",type:"number",min:"0.1",max:"1000",step:"0.1",value:t,onChange:a=>u(a.target.value),required:!0,className:"h-11"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(q.Label,{htmlFor:"maxFileSize",className:"text-sm font-medium",children:["Max File Size (MB) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(p.Input,{id:"maxFileSize",type:"number",min:"1",max:"1000",value:v,onChange:a=>C(a.target.value),required:!0,className:"h-11"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-[#013A65]",children:"Access Permissions"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(q.Label,{htmlFor:"accessType",className:"text-sm font-medium",children:["Who Can Access ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)(w.Select,{value:D,onValueChange:a=>E(a),children:[(0,b.jsx)(w.SelectTrigger,{className:"h-11",children:(0,b.jsx)(w.SelectValue,{})}),(0,b.jsxs)(w.SelectContent,{children:[(0,b.jsx)(w.SelectItem,{value:"all",children:"All Users"}),(0,b.jsx)(w.SelectItem,{value:"location",children:"Specific Users (by Location)"})]})]})]}),"location"===D&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(q.Label,{htmlFor:"locationLevel",className:"text-sm font-medium",children:["Filter By ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)(w.Select,{value:F,onValueChange:a=>G(a),children:[(0,b.jsx)(w.SelectTrigger,{className:"h-11",children:(0,b.jsx)(w.SelectValue,{})}),(0,b.jsxs)(w.SelectContent,{children:[(0,b.jsx)(w.SelectItem,{value:"zone",children:"Zone"}),(0,b.jsx)(w.SelectItem,{value:"district",children:"District"}),(0,b.jsx)(w.SelectItem,{value:"townpanchayat",children:"Town Panchayat"})]})]})]})]}),"location"===D&&(0,b.jsxs)("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(q.Label,{htmlFor:"zone",className:"text-sm font-medium",children:["Zone ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)(w.Select,{value:H,onValueChange:a=>{I(a),K(""),M("")},children:[(0,b.jsx)(w.SelectTrigger,{className:"h-11",children:(0,b.jsx)(w.SelectValue,{placeholder:"Select..."})}),(0,b.jsx)(w.SelectContent,{children:z.map(a=>(0,b.jsx)(w.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(q.Label,{htmlFor:"district",className:"text-sm font-medium",children:["District"," ",("district"===F||"townpanchayat"===F)&&(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)(w.Select,{value:J,onValueChange:a=>{K(a),M("")},disabled:!H||"zone"===F,children:[(0,b.jsx)(w.SelectTrigger,{className:"h-11",children:(0,b.jsx)(w.SelectValue,{placeholder:H?"Select...":"Zone first"})}),(0,b.jsx)(w.SelectContent,{children:T.map(a=>(0,b.jsx)(w.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(q.Label,{htmlFor:"townpanchayat",className:"text-sm font-medium",children:["Town Panchayat ","townpanchayat"===F&&(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)(w.Select,{value:L,onValueChange:M,disabled:!J||"townpanchayat"!==F,children:[(0,b.jsx)(w.SelectTrigger,{className:"h-11",children:(0,b.jsx)(w.SelectValue,{placeholder:J?"Select...":"District first"})}),(0,b.jsx)(w.SelectContent,{children:U.map(a=>(0,b.jsx)(w.SelectItem,{value:a,children:a},a))})]})]})]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground bg-blue-50 dark:bg-blue-950/20 p-3 rounded border border-blue-200 dark:border-blue-800",children:[(0,b.jsx)("p",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Access will be granted to:"}),(0,b.jsxs)("p",{className:"text-blue-800 dark:text-blue-200",children:["zone"===F&&H&&`All users in ${H}`,"district"===F&&H&&J&&`All users in ${J}, ${H}`,"townpanchayat"===F&&H&&J&&L&&`All users in ${L}, ${J}, ${H}`,!H&&"Please select location filters"]})]})]})]}),(0,b.jsxs)(o.DialogFooter,{className:"gap-2 pt-4",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:P,className:"h-10",children:"Cancel"}),(0,b.jsx)(f.Button,{type:"submit",disabled:P||0===m.length||"location"===D&&!H||"location"===D&&("district"===F||"townpanchayat"===F)&&!J||"location"===D&&"townpanchayat"===F&&!L,className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 hover:from-[#013A65]/90 hover:to-[#013A65] text-white h-10 px-6",children:P?"Saving...":!h&&g?"Share Databox":h&&!h.shareConfig?"Share Folder":j?"Update Share":"Create Share"})]})]})]})})}var D=a.i(92349);function E(){let{user:a}=(0,s.useAuth)(),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[u,w]=(0,c.useState)(new Set),[x,y]=(0,c.useState)(new Set),[z,A]=(0,c.useState)(!1),[B,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(null);(0,c.useEffect)(()=>{P()},[]);let P=async()=>{r(!0);try{let a=await n.driveService.getFolders();p(a)}catch(a){console.error("Failed to load folders:",a)}finally{r(!1)}},Q=async a=>{if(confirm("Are you sure you want to delete this folder and all its contents?"))try{await n.driveService.deleteFolder(a),await P()}catch(a){console.error("Failed to delete folder:",a)}},R=async a=>{if(confirm("Are you sure you want to delete this folder and all its contents?"))try{await n.driveService.deleteNestedFolder(a),await P()}catch(a){console.error("Failed to delete folder:",a)}},S=(a,b)=>{I(a),K(b||null),O(null),E(!0)},T=async(a,b)=>{if(b.shareConfig){if(confirm("Are you sure you want to unshare this folder? This will remove all sharing permissions."))try{await n.driveService.updateNestedFolder(b.id,{shareConfig:void 0}),await P()}catch(a){console.error("Failed to unshare folder:",a)}}else U(a,b)},U=(a,b)=>{I(a),O(b),G(!0)},V=async a=>{if(a.shareConfig){if(confirm("Are you sure you want to unshare this databox? This will remove sharing from all folders and subfolders within it."))try{await n.driveService.updateFolder(a.id,{shareConfig:void 0}),await P()}catch(a){console.error("Failed to unshare databox:",a)}}else W(a)},W=a=>{I(a),O(null),G(!0)},X=(a,c,d=0)=>{let e=c.folders&&c.folders.length>0,g=x.has(c.id),o=Y(a.folders),p=n.driveService.isFolderShared(c.id,o,[a]),q=p.isShared,r=p.isInherited,s=p.inheritedFrom;return(0,b.jsxs)("div",{style:{marginLeft:`${24*d}px`},children:[(0,b.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow mb-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[e&&(0,b.jsx)("button",{onClick:()=>{var a;let b;return a=c.id,void((b=new Set(x)).has(a)?b.delete(a):b.add(a),y(b))},className:"text-[#013A65] hover:bg-[#013A65]/10 p-1 rounded",children:g?(0,b.jsx)(k.ChevronDown,{className:"h-4 w-4"}):(0,b.jsx)(l.ChevronRight,{className:"h-4 w-4"})}),(0,b.jsx)(m.Folder,{className:"h-4 w-4 text-[#013A65]"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-semibold text-[#013A65]",children:c.name}),q&&(0,b.jsxs)("span",{className:(0,D.cn)("text-xs font-medium",r?"text-blue-600":"text-green-600"),children:["●"," ",r?`Shared (Inherited from ${"databox"===s?"Databox":"Parent"})`:"Shared"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>S(a,c),className:"text-green-600 border-green-600/20 hover:bg-green-600/10",children:[(0,b.jsx)(h,{className:"h-3 w-3 mr-1"}),"Folder"]}),!r&&(0,b.jsx)(f.Button,{variant:"outline",size:"sm",onClick:()=>T(a,c),className:q?"text-red-600 border-red-600/20 hover:bg-red-600/10":"text-[#F3B335] border-[#F3B335]/20 hover:bg-[#F3B335]/10",children:q?"Unshare":"Share"}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{I(a),O(c),E(!0)},children:(0,b.jsx)(i.Edit,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>R(c.id),children:(0,b.jsx)(j.Trash2,{className:"h-4 w-4 text-destructive"})})]})]})}),g&&e&&(0,b.jsx)("div",{className:"ml-6 space-y-2",children:c.folders?.map(b=>X(a,b,d+1))})]},c.id)},Y=a=>{let b=[],c=a=>{for(let d of a)b.push(d),d.folders&&d.folders.length>0&&c(d.folders)};return c(a),b};return(0,b.jsx)(d.ProtectedRoute,{allowedRoles:["admin","manager"],children:(0,b.jsxs)(e.DashboardLayout,{children:[(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 text-white p-6 rounded-lg mb-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Databox Management"}),(0,b.jsx)("p",{className:"text-white/80",children:"Create and manage databox, shares, and access permissions"})]}),(0,b.jsxs)(f.Button,{onClick:()=>{M(null),A(!0)},className:"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 hover:from-[#F3B335]/90 hover:to-[#F3B335]/80 text-[#013A65] font-semibold shadow-lg hover:shadow-xl transition-all",children:[(0,b.jsx)(g.Plus,{className:"h-4 w-4 mr-2"}),"Create Databox"]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-auto",children:q?(0,b.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading databox..."}):0===o.length?(0,b.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,b.jsx)(h,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"No databox yet. Create your first databox to get started."})]}):(0,b.jsx)("div",{className:"space-y-4",children:o.map(a=>(0,b.jsxs)("div",{className:"bg-white border-l-4 border-[#F3B335] rounded-lg shadow-sm",children:[(0,b.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("button",{onClick:()=>{var b;let c;return b=a.id,void((c=new Set(u)).has(b)?c.delete(b):c.add(b),w(c))},className:"text-[#013A65] hover:bg-[#013A65]/10 p-1 rounded",children:u.has(a.id)?(0,b.jsx)(k.ChevronDown,{className:"h-5 w-5"}):(0,b.jsx)(l.ChevronRight,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-[#013A65] text-lg",children:a.title}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.folders?.length||0," folder",a.folders?.length!==1?"s":""]}),a.shareConfig&&(0,b.jsx)("span",{className:"text-xs font-medium text-green-600",children:"● Shared"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>S(a),className:"text-green-600 border-green-600/20 hover:bg-green-600/10",children:[(0,b.jsx)(h,{className:"h-4 w-4 mr-1"}),"Add Folder"]}),(0,b.jsx)(f.Button,{variant:"outline",size:"sm",onClick:()=>V(a),className:a.shareConfig?"text-red-600 border-red-600/20 hover:bg-red-600/10":"text-[#F3B335] border-[#F3B335]/20 hover:bg-[#F3B335]/10",children:a.shareConfig?"Unshare":"Share"}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{M(a),A(!0)},children:(0,b.jsx)(i.Edit,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>Q(a.id),children:(0,b.jsx)(j.Trash2,{className:"h-4 w-4 text-destructive"})})]})]}),u.has(a.id)&&a.folders?.length>0&&(0,b.jsx)("div",{className:"border-t bg-gray-50 p-4",children:(0,b.jsx)("div",{className:"space-y-3",children:a.folders?.map(b=>X(a,b,0))})})]},a.id))})})]}),(0,b.jsx)(t,{open:z,onOpenChange:A,onSuccess:P,editingFolder:L}),(0,b.jsx)(v,{open:B,onOpenChange:E,onSuccess:P,databox:H,parentFolder:J,editingFolder:N}),(0,b.jsx)(C,{open:F,onOpenChange:G,onSuccess:P,folder:H,parentFolder:N})]})})}a.s(["default",()=>E],91542)}];

//# sourceMappingURL=projects_TITTAM_tittam_fe_app_dashboard_drive_manage_page_tsx_e06b17de._.js.map