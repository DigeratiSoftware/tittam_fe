module.exports=[47360,a=>{"use strict";var b=a.i(23413),c=a.i(39766),d=a.i(11800),e=a.i(32496),f=a.i(6765),g=a.i(46592),h=a.i(32684),i=a.i(52656),j=a.i(70663),k=a.i(77605),l=a.i(24224),m=a.i(76314),n=a.i(9522),o=a.i(97400),p=a.i(6538),q=a.i(9316),r=a.i(52050),s=a.i(83231);let t=new class{storageKey="contractors";generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getContractorsFromStorage(){return[]}saveContractorsToStorage(a){}getMockContractors(){return[{id:"contractor-1",name:"ABC Construction Ltd",email:"contact@abcconstruction.com",phone:"+91 9876543210",address:"123 Industrial Area, Chennai, Tamil Nadu 600001",gstNumber:"33AABCA1234C1Z5",panNumber:"AABCA1234C",specialization:"Road Construction",experience:15,status:"active",createdBy:"Admin",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"contractor-2",name:"XYZ Infrastructure Pvt Ltd",email:"info@xyzinfra.com",phone:"+91 9876543211",address:"456 Business Park, Coimbatore, Tamil Nadu 641001",gstNumber:"33XYZIN5678D2A6",panNumber:"XYZIN5678D",specialization:"Bridge Construction",experience:12,status:"active",createdBy:"Admin",createdAt:"2024-01-16T14:20:00Z",updatedAt:"2024-01-16T14:20:00Z"},{id:"contractor-3",name:"PQR Engineering Works",email:"pqr@engineering.com",phone:"+91 9876543212",address:"789 Tech City, Madurai, Tamil Nadu 625001",gstNumber:"33PQREN9012E3B7",panNumber:"PQREN9012E",specialization:"Water Supply Systems",experience:8,status:"inactive",createdBy:"Admin",createdAt:"2024-01-17T09:15:00Z",updatedAt:"2024-01-17T09:15:00Z"},{id:"contractor-4",name:"DEF Builders & Contractors",email:"def@builders.com",phone:"+91 9876543213",address:"321 Construction Hub, Salem, Tamil Nadu 636001",gstNumber:"33DEFBU3456F4C8",panNumber:"DEFBU3456F",specialization:"Building Construction",experience:20,status:"active",createdBy:"Admin",createdAt:"2024-01-18T16:45:00Z",updatedAt:"2024-01-18T16:45:00Z"},{id:"contractor-5",name:"GHI Electrical Solutions",email:"ghi@electrical.com",phone:"+91 9876543214",address:"654 Power Street, Trichy, Tamil Nadu 620001",gstNumber:"33GHIEL7890G5D9",panNumber:"GHIEL7890G",specialization:"Electrical Works",experience:10,status:"active",createdBy:"Admin",createdAt:"2024-01-19T11:30:00Z",updatedAt:"2024-01-19T11:30:00Z"}]}async getContractors(){return await new Promise(a=>setTimeout(a,500)),this.getContractorsFromStorage()}async getContractor(a){return await new Promise(a=>setTimeout(a,200)),this.getContractorsFromStorage().find(b=>b.id===a)||null}async createContractor(a){await new Promise(a=>setTimeout(a,300));let b=this.getContractorsFromStorage(),c={id:this.generateId(),...a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return b.push(c),this.saveContractorsToStorage(b),c}async updateContractor(a,b){await new Promise(a=>setTimeout(a,300));let c=this.getContractorsFromStorage(),d=c.findIndex(b=>b.id===a);return -1===d?null:(c[d]={...c[d],...b,updatedAt:new Date().toISOString()},this.saveContractorsToStorage(c),c[d])}async deleteContractor(a){await new Promise(a=>setTimeout(a,200));let b=this.getContractorsFromStorage(),c=b.filter(b=>b.id!==a);return c.length!==b.length&&(this.saveContractorsToStorage(c),!0)}};var u=a.i(93663);function v(){let{user:a}=(0,u.useAuth)(),[c,d]=(0,e.useState)([]),[v,w]=(0,e.useState)([]),[x,y]=(0,e.useState)(""),[z,A]=(0,e.useState)("all"),[B,C]=(0,e.useState)(!0),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),[H,I]=(0,e.useState)(!1),[J,K]=(0,e.useState)(null),[L,M]=(0,e.useState)({name:"",email:"",phone:"",address:"",gstNumber:"",panNumber:"",specialization:"",experience:"",status:"active"});(0,e.useEffect)(()=>{N()},[]),(0,e.useEffect)(()=>{let a=c;x&&(a=a.filter(a=>a.name.toLowerCase().includes(x.toLowerCase())||a.email.toLowerCase().includes(x.toLowerCase())||a.phone.includes(x)||a.specialization.toLowerCase().includes(x.toLowerCase()))),"all"!==z&&(a=a.filter(a=>a.status===z)),w(a)},[x,z,c]);let N=async()=>{try{C(!0);let a=await t.getContractors();d(a),w(a)}catch(a){console.error("Failed to load contractors:",a)}finally{C(!1)}},O=async a=>{if(confirm("Are you sure you want to delete this contractor?"))try{await t.deleteContractor(a),await N()}catch(a){console.error("Failed to delete contractor:",a),alert("Failed to delete contractor. Please try again.")}},P=async()=>{try{await t.createContractor({...L,experience:Number.parseInt(L.experience)||0,createdBy:a?.name||"Admin"}),I(!1),R(),await N(),alert("Contractor created successfully!")}catch(a){console.error("Failed to create contractor:",a),alert("Failed to create contractor. Please try again.")}},Q=async()=>{if(J)try{await t.updateContractor(J.id,{...L,experience:Number.parseInt(L.experience)||0}),G(!1),await N(),alert("Contractor updated successfully!")}catch(a){console.error("Failed to update contractor:",a),alert("Failed to update contractor. Please try again.")}},R=()=>{M({name:"",email:"",phone:"",address:"",gstNumber:"",panNumber:"",specialization:"",experience:"",status:"active"})},S=()=>{R(),I(!0)};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 rounded-lg py-3 px-6 text-white shadow-lg",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-semibold",children:"Contractor Management"}),(0,b.jsx)("p",{className:"text-white/80 text-sm mt-1",children:"Manage contractor details, view profiles, and track contractor information"})]}),(0,b.jsxs)(f.Button,{size:"sm",className:"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 hover:from-[#F3B335]/90 hover:to-[#F3B335]/80 text-[#013A65] border-0 shadow-lg hover:shadow-xl transition-all duration-300 h-9 px-4 text-sm font-medium",onClick:S,children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4 mr-1.5"}),"Add Contractor"]})]})}),(0,b.jsxs)("div",{className:"flex flex-col h-full bg-white rounded-lg border border-[#EDEEF0] shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"flex-shrink-0 p-4 border-b border-[#EDEEF0] bg-gradient-to-r from-[#F8F8F8] to-[#EDEEF0]",children:(0,b.jsx)("div",{className:"flex items-center justify-between gap-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(r.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#013A65]/60 h-4 w-4"}),(0,b.jsx)(j.Input,{placeholder:"Search contractors...",value:x,onChange:a=>y(a.target.value),className:"pl-10 h-9 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white"})]}),(0,b.jsxs)(l.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(l.SelectTrigger,{className:"w-40 h-9 bg-white",children:(0,b.jsx)(l.SelectValue,{placeholder:"All Status"})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"all",children:"All Status"}),(0,b.jsx)(l.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(l.SelectItem,{value:"inactive",children:"Inactive"})]})]})]})})}),(0,b.jsx)("div",{className:"flex-1 overflow-auto",children:B?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-[#013A65]/70",children:[(0,b.jsx)(s.Loader2,{className:"h-5 w-5 animate-spin"}),(0,b.jsx)("span",{children:"Loading contractors..."})]})}):0===v.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-[#013A65]/10 to-[#F3B335]/10 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(n.Users,{className:"h-8 w-8 text-[#013A65]/60"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-[#013A65] mb-2",children:"No contractors found"}),(0,b.jsx)("p",{className:"text-[#013A65]/70 mb-4",children:x||"all"!==z?"No contractors match your search criteria.":"Get started by adding your first contractor."}),!x&&"all"===z&&(0,b.jsxs)(f.Button,{className:"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 hover:from-[#F3B335]/90 hover:to-[#F3B335] text-[#013A65] font-medium",onClick:S,children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Add Contractor"]})]}):(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{className:"bg-[#F3B335] hover:bg-[#F3B335]",children:[(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Name"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Email"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Phone"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Specialization"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Experience"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Status"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Created Date"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold w-32",children:"Actions"})]})}),(0,b.jsx)(h.TableBody,{children:v.map(a=>(0,b.jsxs)(h.TableRow,{className:"hover:bg-[#F8F8F8]/50",children:[(0,b.jsx)(h.TableCell,{className:"font-medium text-[#013A65] max-w-xs truncate",title:a.name,children:a.name}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/80 max-w-xs truncate",title:a.email,children:a.email}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/80",children:a.phone}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/80 max-w-xs truncate",title:a.specialization,children:a.specialization}),(0,b.jsxs)(h.TableCell,{className:"text-[#013A65]/80",children:[a.experience," years"]}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"active"===a.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.status})}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/70",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(f.Button,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-[#EDEEF0] hover:bg-[#F3B335]/10 hover:border-[#F3B335]/30 bg-transparent",onClick:()=>{K(a),E(!0)},title:"View Details",children:(0,b.jsx)(o.Eye,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-[#EDEEF0] hover:bg-[#F3B335]/10 hover:border-[#F3B335]/30 bg-transparent",onClick:()=>{K(a),M({name:a.name,email:a.email,phone:a.phone,address:a.address,gstNumber:a.gstNumber,panNumber:a.panNumber,specialization:a.specialization,experience:a.experience.toString(),status:a.status}),G(!0)},title:"Edit Contractor",children:(0,b.jsx)(p.Edit,{className:"h-3 w-3"})}),(0,b.jsx)(f.Button,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 border-[#EDEEF0] hover:bg-red-50 hover:border-red-200 text-red-500 bg-transparent",onClick:()=>O(a.id),title:"Delete Contractor",children:(0,b.jsx)(q.Trash2,{className:"h-3 w-3"})})]})})]},a.id))})]})})]}),(0,b.jsx)(i.Dialog,{open:D,onOpenChange:E,children:(0,b.jsxs)(i.DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-y-auto border-0 shadow-2xl bg-[#F8F8F8] backdrop-blur-sm",children:[(0,b.jsxs)(i.DialogHeader,{children:[(0,b.jsxs)(i.DialogTitle,{className:"flex items-center gap-2 text-[#013A65]",children:[(0,b.jsx)(o.Eye,{className:"h-5 w-5 text-[#013A65]"}),"Contractor Details"]}),(0,b.jsxs)(i.DialogDescription,{className:"text-[#013A65]/70",children:["Complete details for ",J?.name]})]}),J&&(0,b.jsxs)(g.Card,{className:"border-[#EDEEF0] bg-white",children:[(0,b.jsx)(g.CardHeader,{className:"bg-gradient-to-r from-[#F8F8F8] to-[#EDEEF0] border-b border-[#EDEEF0]",children:(0,b.jsx)(g.CardTitle,{className:"text-base font-semibold text-[#013A65]",children:"Contractor Information"})}),(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Name"}),(0,b.jsx)("p",{className:"text-sm text-[#013A65] font-medium",children:J.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Email"}),(0,b.jsx)("p",{className:"text-sm text-[#013A65]",children:J.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Phone"}),(0,b.jsx)("p",{className:"text-sm text-[#013A65]",children:J.phone})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Status"}),(0,b.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${"active"===J.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:J.status})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Address"}),(0,b.jsx)("p",{className:"text-sm text-[#013A65]",children:J.address})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"GST Number"}),(0,b.jsx)("p",{className:"text-sm text-[#013A65]",children:J.gstNumber})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"PAN Number"}),(0,b.jsx)("p",{className:"text-sm text-[#013A65]",children:J.panNumber})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Specialization"}),(0,b.jsx)("p",{className:"text-sm text-[#013A65]",children:J.specialization})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Experience"}),(0,b.jsxs)("p",{className:"text-sm text-[#013A65]",children:[J.experience," years"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Created By"}),(0,b.jsx)("span",{className:"bg-gradient-to-r from-[#F3B335]/20 to-[#F3B335]/30 text-[#013A65] px-2 py-1 rounded text-xs font-medium",children:J.createdBy})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]/70",children:"Created Date"}),(0,b.jsx)("p",{className:"text-sm text-[#013A65]",children:new Date(J.createdAt).toLocaleString()})]})]})})]})]})}),(0,b.jsx)(i.Dialog,{open:H||F,onOpenChange:a=>{a||(I(!1),G(!1))},children:(0,b.jsxs)(i.DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-y-auto border-0 shadow-2xl bg-[#F8F8F8] backdrop-blur-sm",children:[(0,b.jsxs)(i.DialogHeader,{children:[(0,b.jsxs)(i.DialogTitle,{className:"flex items-center gap-2 text-[#013A65]",children:[H?(0,b.jsx)(m.Plus,{className:"h-5 w-5"}):(0,b.jsx)(p.Edit,{className:"h-5 w-5"}),H?"Add New Contractor":"Edit Contractor"]}),(0,b.jsx)(i.DialogDescription,{className:"text-[#013A65]/70",children:H?"Enter contractor details to add them to the system":"Update contractor information"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]",children:"Name *"}),(0,b.jsx)(j.Input,{value:L.name,onChange:a=>M(b=>({...b,name:a.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white",placeholder:"Enter contractor name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]",children:"Email *"}),(0,b.jsx)(j.Input,{type:"email",value:L.email,onChange:a=>M(b=>({...b,email:a.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white",placeholder:"Enter email address"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]",children:"Phone *"}),(0,b.jsx)(j.Input,{value:L.phone,onChange:a=>M(b=>({...b,phone:a.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white",placeholder:"Enter phone number"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]",children:"Status"}),(0,b.jsxs)(l.Select,{value:L.status,onValueChange:a=>M(b=>({...b,status:a})),children:[(0,b.jsx)(l.SelectTrigger,{className:"h-10 bg-white",children:(0,b.jsx)(l.SelectValue,{})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(l.SelectItem,{value:"inactive",children:"Inactive"})]})]})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]",children:"Address"}),(0,b.jsx)(j.Input,{value:L.address,onChange:a=>M(b=>({...b,address:a.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white",placeholder:"Enter address"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]",children:"GST Number"}),(0,b.jsx)(j.Input,{value:L.gstNumber,onChange:a=>M(b=>({...b,gstNumber:a.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white",placeholder:"Enter GST number"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]",children:"PAN Number"}),(0,b.jsx)(j.Input,{value:L.panNumber,onChange:a=>M(b=>({...b,panNumber:a.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white",placeholder:"Enter PAN number"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]",children:"Specialization"}),(0,b.jsx)(j.Input,{value:L.specialization,onChange:a=>M(b=>({...b,specialization:a.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white",placeholder:"Enter specialization"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-medium text-[#013A65]",children:"Experience (Years)"}),(0,b.jsx)(j.Input,{type:"number",value:L.experience,onChange:a=>M(b=>({...b,experience:a.target.value})),className:"h-10 border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20 bg-white",placeholder:"Enter years of experience"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>{I(!1),G(!1)},className:"border-[#EDEEF0] hover:bg-[#F8F8F8]",children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:H?P:Q,className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 hover:from-[#013A65]/90 hover:to-[#013A65] text-white",children:H?"Create Contractor":"Update Contractor"})]})]})]})})]})}function w(){return(0,b.jsx)(d.ProtectedRoute,{children:(0,b.jsx)(c.DashboardLayout,{children:(0,b.jsx)(v,{})})})}a.s(["default",()=>w],47360)}];

//# sourceMappingURL=projects_TITTAM_tittam_fe_app_dashboard_contractors_page_tsx_0e1980e2._.js.map