module.exports=[64020,a=>{"use strict";var b=a.i(23413),c=a.i(32496),d=a.i(6765),e=a.i(46592),f=a.i(24224),g=a.i(5052),h=a.i(76314),i=a.i(32967),j=a.i(1388),k=a.i(32340),l=a.i(54066),m=a.i(45521),n=a.i(32219),o=a.i(53577);let p=new class{defaultFields=[{id:"zone",englishName:"Zone",tamilName:"மண்டலம்",englishDescription:"Administrative zone selection",tamilDescription:"நிர்வாக மண்டல தேர்வு",dataType:"dropdown",validation:"Dropdown from M1",isRequired:!0,groupHeading:"Scheme Details",displayOrder:1,category:"default",componentType:"Infrastructure"},{id:"districtName",englishName:"District Name",tamilName:"மாவட்ட பெயர்",englishDescription:"District selection",tamilDescription:"மாவட்ட தேர்வு",dataType:"dropdown",validation:"Dropdown from M2",isRequired:!0,groupHeading:"Scheme Details",displayOrder:2,category:"default",componentType:"Infrastructure"},{id:"townPanchayatName",englishName:"Town Panchayat Name",tamilName:"நகர பஞ்சாயத்து பெயர்",englishDescription:"Town panchayat selection",tamilDescription:"நகர பஞ்சாயத்து தேர்வு",dataType:"dropdown",validation:"Dropdown from M3",isRequired:!0,groupHeading:"Scheme Details",displayOrder:3,category:"default",componentType:"Infrastructure"},{id:"schemeName",englishName:"Scheme Name",tamilName:"திட்ட பெயர்",englishDescription:"Scheme selection",tamilDescription:"திட்ட தேர்வு",dataType:"dropdown",validation:"Dropdown from M4",isRequired:!0,groupHeading:"Scheme Details",displayOrder:4,category:"default",componentType:"Infrastructure"},{id:"schemeAbbreviation",englishName:"Scheme Abbreviation",tamilName:"திட்ட சுருக்கம்",englishDescription:"Auto-generated scheme code",tamilDescription:"தானாக உருவாக்கப்பட்ட திட்ட குறியீடு",dataType:"byCode",validation:"By Code",isRequired:!0,groupHeading:"Scheme Details",displayOrder:5,category:"default",componentType:"Infrastructure"},{id:"year",englishName:"Year",tamilName:"ஆண்டு",englishDescription:"Implementation year",tamilDescription:"செயல்படுத்தும் ஆண்டு",dataType:"dropdown",validation:"Dropdown from M9",isRequired:!0,groupHeading:"Scheme Details",displayOrder:6,category:"default",componentType:"Infrastructure"},{id:"component",englishName:"Component",tamilName:"கூறு",englishDescription:"Component selection",tamilDescription:"கூறு தேர்வு",dataType:"dropdown",validation:"Dropdown from M7",isRequired:!0,groupHeading:"Scheme Details",displayOrder:7,category:"default",componentType:"Infrastructure"},{id:"implementationAgency",englishName:"Implementation Agency",tamilName:"செயல்படுத்தும் நிறுவனம்",englishDescription:"Agency code generation",tamilDescription:"நிறுவன குறியீடு உருவாக்கம்",dataType:"byCode",validation:"By Code",isRequired:!0,groupHeading:"Scheme Details",displayOrder:8,category:"default",componentType:"Infrastructure"},{id:"schemeFundingTamil",englishName:"Scheme Funding Tamil",tamilName:"திட்ட நிதி தமிழ்",englishDescription:"Funding source in Tamil",tamilDescription:"தமிழில் நிதி ஆதாரம்",dataType:"dropdown",validation:"Dropdown from M7",isRequired:!0,groupHeading:"Scheme Details",displayOrder:9,category:"default",componentType:"Infrastructure"},{id:"announcementScheme",englishName:"Announcement Scheme",tamilName:"அறிவிப்பு திட்டம்",englishDescription:"Is this an announcement scheme?",tamilDescription:"இது அறிவிப்பு திட்டமா?",dataType:"optionButton",validation:"Yes/No",isRequired:!0,options:["Yes","No"],groupHeading:"Scheme Details",displayOrder:10,category:"default",componentType:"Infrastructure"},{id:"flagshipScheme",englishName:"Flagship Scheme",tamilName:"முக்கிய திட்டம்",englishDescription:"Is this a flagship scheme?",tamilDescription:"இது முக்கிய திட்டமா?",dataType:"optionButton",validation:"Yes/No",isRequired:!0,options:["Yes","No"],groupHeading:"Scheme Details",displayOrder:11,category:"default",componentType:"Infrastructure"},{id:"wardNo",englishName:"Ward No",tamilName:"வார்டு எண்",englishDescription:"Ward number selection",tamilDescription:"வார்டு எண் தேர்வு",dataType:"dropdown",validation:"Dropdown from M3",isRequired:!0,groupHeading:"Work Details",displayOrder:12,category:"default",componentType:"Infrastructure"},{id:"roadTypeEnglish",englishName:"Road Type English",tamilName:"சாலை வகை ஆங்கிலம்",englishDescription:"Type of road in English",tamilDescription:"ஆங்கிலத்தில் சாலை வகை",dataType:"dropdown",validation:"Dropdown",isRequired:!0,groupHeading:"Work Details",displayOrder:13,category:"default",componentType:"Infrastructure"},{id:"roadTypeTamil",englishName:"Road Type Tamil",tamilName:"சாலை வகை தமிழ்",englishDescription:"Type of road in Tamil",tamilDescription:"தமிழில் சாலை வகை",dataType:"dropdown",validation:"Dropdown",isRequired:!0,groupHeading:"Work Details",displayOrder:14,category:"default",componentType:"Infrastructure"},{id:"workNameEnglish",englishName:"Work Name English",tamilName:"வேலை பெயர் ஆங்கிலம்",englishDescription:"Name of the work in English",tamilDescription:"ஆங்கிலத்தில் வேலையின் பெயர்",dataType:"textbox",validation:"Minimum length 10, Maximum 700",isRequired:!0,groupHeading:"Work Details",displayOrder:15,category:"default",componentType:"Infrastructure"},{id:"workNameTamil",englishName:"Work Name Tamil",tamilName:"வேலை பெயர் தமிழ்",englishDescription:"Name of the work in Tamil",tamilDescription:"தமிழில் வேலையின் பெயர்",dataType:"textbox",validation:"Minimum length 10, Maximum 700",isRequired:!0,groupHeading:"Work Details",displayOrder:16,category:"default",componentType:"Infrastructure"},{id:"noOfRoadsPackage",englishName:"No of Roads Package",tamilName:"சாலைகள் தொகுப்பு எண்ணிக்கை",englishDescription:"Number of roads in package",tamilDescription:"தொகுப்பில் உள்ள சாலைகளின் எண்ணிக்கை",dataType:"numeric",validation:"1 to 100; if >1 then open subform (enter road names, length)",isRequired:!0,groupHeading:"Work Details",displayOrder:17,category:"default",componentType:"Infrastructure"},{id:"lengthKm",englishName:"Length KM",tamilName:"நீளம் கி.மீ",englishDescription:"Length in kilometers",tamilDescription:"கிலோமீட்டரில் நீளம்",dataType:"numeric",validation:"0 to 90, up to 3 decimal places; sum auto from subform",isRequired:!0,groupHeading:"Work Details",displayOrder:18,category:"default",componentType:"Infrastructure"},{id:"estimateRupees",englishName:"Estimate Rupees",tamilName:"மதிப்பீடு ரூபாய்",englishDescription:"Estimated cost in rupees",tamilDescription:"ரூபாயில் மதிப்பிடப்பட்ட செலவு",dataType:"numeric",validation:"Min 10000, no max limit",isRequired:!0,groupHeading:"Work Details",displayOrder:19,category:"default",componentType:"Infrastructure"},{id:"administrativeSanctionNo",englishName:"Administrative Sanction No",tamilName:"நிர்வாக அனுமதி எண்",englishDescription:"Administrative sanction number",tamilDescription:"நிர்வாக அனுமதி எண்",dataType:"textbox",validation:"Minimum length 6, Maximum 100",isRequired:!0,groupHeading:"A.S. Details",displayOrder:20,category:"default",componentType:"Infrastructure"},{id:"administrativeSanctionDate",englishName:"Administrative Sanction Date",tamilName:"நிர்வாக அனுமதி தேதி",englishDescription:"Administrative sanction date",tamilDescription:"நிர்வாக அனுமதி தேதி",dataType:"datePicker",validation:"Future dates not allowed",isRequired:!0,groupHeading:"A.S. Details",displayOrder:21,category:"default",componentType:"Infrastructure"},{id:"technicalSanctionNo",englishName:"Technical Sanction No",tamilName:"தொழில்நுட்ப அனுமதி எண்",englishDescription:"Technical sanction number",tamilDescription:"தொழில்நுட்ப அனுமதி எண்",dataType:"textbox",validation:"Minimum length 6, Maximum 100",isRequired:!0,groupHeading:"T.S. Details",displayOrder:22,category:"default",componentType:"Infrastructure"},{id:"technicalSanctionDate",englishName:"Technical Sanction Date",tamilName:"தொழில்நுட்ப அனுமதி தேதி",englishDescription:"Technical sanction date",tamilDescription:"தொழில்நுட்ப அனுமதி தேதி",dataType:"datePicker",validation:"Future dates not allowed",isRequired:!0,groupHeading:"T.S. Details",displayOrder:23,category:"default",componentType:"Infrastructure"},{id:"tenderDate",englishName:"Tender Date",tamilName:"டெண்டர் தேதி",englishDescription:"Tender submission date",tamilDescription:"டெண்டர் சமர்ப்பிப்பு தேதி",dataType:"datePicker",validation:"Future dates allowed",isRequired:!0,groupHeading:"Tender Details",displayOrder:24,category:"default",componentType:"Infrastructure"},{id:"contractorGstNo",englishName:"Contractor GST No",tamilName:"ஒப்பந்ததாரர் ஜிஎஸ்டி எண்",englishDescription:"Contractor GST number search",tamilDescription:"ஒப்பந்ததாரர் ஜிஎஸ்டி எண் தேடல்",dataType:"searchBox",validation:"Auto show from Contractor module",isRequired:!0,groupHeading:"Tender Details",displayOrder:25,category:"default",componentType:"Infrastructure"},{id:"contractorName",englishName:"Contractor Name",tamilName:"ஒப்பந்ததாரர் பெயர்",englishDescription:"Contractor name lookup",tamilDescription:"ஒப்பந்ததாரர் பெயர் தேடல்",dataType:"vlookup",validation:"Based on GST No",isRequired:!0,groupHeading:"Tender Details",displayOrder:26,category:"default",componentType:"Infrastructure"},{id:"agreementDate",englishName:"Agreement Date",tamilName:"ஒப்பந்த தேதி",englishDescription:"Agreement signing date",tamilDescription:"ஒப்பந்த கையெழுத்து தேதி",dataType:"datePicker",validation:"Future dates not allowed",isRequired:!0,groupHeading:"Tender Details",displayOrder:27,category:"default",componentType:"Infrastructure"},{id:"agreementDurationValue",englishName:"Agreement Duration Value",tamilName:"ஒப்பந்த கால அளவு மதிப்பு",englishDescription:"Duration value for agreement",tamilDescription:"ஒப்பந்தத்திற்கான கால அளவு மதிப்பு",dataType:"numeric",validation:"Min 1, Max 100",isRequired:!0,groupHeading:"Tender Details",displayOrder:28,category:"default",componentType:"Infrastructure"},{id:"agreementDurationUnit",englishName:"Agreement Duration Unit",tamilName:"ஒப்பந்த கால அளவு அலகு",englishDescription:"Duration unit for agreement",tamilDescription:"ஒப்பந்தத்திற்கான கால அளவு அலகு",dataType:"dropdown",validation:"Months, Days, Years",isRequired:!0,options:["Months","Days","Years"],groupHeading:"Tender Details",displayOrder:29,category:"default",componentType:"Infrastructure"},{id:"workOrderDate",englishName:"Work Order Date",tamilName:"வேலை ஆர்டர் தேதி",englishDescription:"Work order issue date",tamilDescription:"வேலை ஆர்டர் வழங்கிய தேதி",dataType:"datePicker",validation:"Future dates not allowed",isRequired:!0,groupHeading:"Tender Details",displayOrder:30,category:"default",componentType:"Infrastructure"},{id:"stage",englishName:"Stage",tamilName:"நிலை",englishDescription:"Current work stage",tamilDescription:"தற்போதைய வேலை நிலை",dataType:"dropdown",validation:"Dropdown from M8",isRequired:!0,groupHeading:"Work Progress",displayOrder:31,category:"default",componentType:"Infrastructure"},{id:"progressPercent",englishName:"Progress Percent",tamilName:"முன்னேற்ற சதவீதம்",englishDescription:"Work progress percentage",tamilDescription:"வேலை முன்னேற்ற சதவீதம்",dataType:"dropdown",validation:"Based on M8",isRequired:!0,groupHeading:"Work Progress",displayOrder:32,category:"default",componentType:"Infrastructure"},{id:"presentStatus",englishName:"Present Status",tamilName:"தற்போதைய நிலை",englishDescription:"Current status description",tamilDescription:"தற்போதைய நிலை விளக்கம்",dataType:"textbox",validation:"Min length 6, Max length 200",isRequired:!0,groupHeading:"Work Progress",displayOrder:33,category:"default",componentType:"Infrastructure"},{id:"probableCompletionDate",englishName:"Probable Completion Date",tamilName:"சாத்தியமான முடிவு தேதி",englishDescription:"Expected completion date",tamilDescription:"எதிர்பார்க்கப்படும் முடிவு தேதி",dataType:"datePicker",validation:"Only future dates allowed",isRequired:!0,groupHeading:"Work Progress",displayOrder:34,category:"default",componentType:"Infrastructure"},{id:"fundReleasedRupees",englishName:"Fund Released Rupees",tamilName:"வெளியிடப்பட்ட நிதி ரூபாய்",englishDescription:"Fund released amount",tamilDescription:"வெளியிடப்பட்ட நிதி தொகை",dataType:"subForm",validation:"Separate master",isRequired:!0,groupHeading:"Fund Details",displayOrder:35,category:"default",componentType:"Infrastructure"},{id:"expenditureRupees",englishName:"Expenditure Rupees",tamilName:"செலவு ரூபாய்",englishDescription:"Total expenditure amount",tamilDescription:"மொத்த செலவு தொகை",dataType:"subForm",validation:"Separate master",isRequired:!0,groupHeading:"Fund Details",displayOrder:36,category:"default",componentType:"Infrastructure"},{id:"balanceOnFundReleased",englishName:"Balance On Fund Released",tamilName:"வெளியிடப்பட்ட நிதியில் இருப்பு",englishDescription:"Balance from released funds",tamilDescription:"வெளியிடப்பட்ட நிதியிலிருந்து இருப்பு",dataType:"autoCalculation",validation:"Col 30 - Col 31",isRequired:!1,groupHeading:"Fund Details",displayOrder:37,category:"default",componentType:"Infrastructure"},{id:"balanceOnEstimate",englishName:"Balance On Estimate",tamilName:"மதிப்பீட்டில் இருப்பு",englishDescription:"Balance from estimate",tamilDescription:"மதிப்பீட்டிலிருந்து இருப்பு",dataType:"autoCalculation",validation:"Col 14 - Col 31",isRequired:!1,groupHeading:"Fund Details",displayOrder:38,category:"default",componentType:"Infrastructure"},{id:"expenditurePercent",englishName:"Expenditure Percent",tamilName:"செலவு சதவீதம்",englishDescription:"Expenditure percentage",tamilDescription:"செலவு சதவீதம்",dataType:"autoCalculation",validation:"Col 31 / Col 14 * 100",isRequired:!1,groupHeading:"Fund Details",displayOrder:39,category:"default",componentType:"Infrastructure"},{id:"completionReport",englishName:"Completion Report",tamilName:"முடிவு அறிக்கை",englishDescription:"Work completion report",tamilDescription:"வேலை முடிவு அறிக்கை",dataType:"subFormYesNo",validation:"Separate master",isRequired:!0,groupHeading:"Completion Details",displayOrder:40,category:"default",componentType:"Infrastructure"},{id:"uccrDetails",englishName:"UCCR Details",tamilName:"யுசிசிஆர் விவரங்கள்",englishDescription:"UCCR submission details",tamilDescription:"யுசிசிஆர் சமர்ப்பிப்பு விவரங்கள்",dataType:"subForm",validation:"Separate master",isRequired:!0,groupHeading:"Completion Details",displayOrder:41,category:"default",componentType:"Infrastructure"},{id:"workPhotosUrl",englishName:"Work Photos URL",tamilName:"வேலை புகைப்படங்கள் யூஆர்எல்",englishDescription:"Work progress photos",tamilDescription:"வேலை முன்னேற்ற புகைப்படங்கள்",dataType:"cameraWithGps",validation:"Up to 4 photos, 15MB each, GPS & date tag",isRequired:!0,groupHeading:"Completion Details",displayOrder:42,category:"default",componentType:"Infrastructure"},{id:"geoLocation",englishName:"Geo Location",tamilName:"புவியியல் இடம்",englishDescription:"Geographic location coordinates",tamilDescription:"புவியியல் இட ஆயத்தொலைவுகள்",dataType:"map",validation:"Select from map or paste",isRequired:!0,groupHeading:"Completion Details",displayOrder:43,category:"default",componentType:"Infrastructure"},{id:"pendingReason",englishName:"Pending Reason",tamilName:"நிலுவை காரணம்",englishDescription:"Reason for pending status",tamilDescription:"நிலுவை நிலைக்கான காரணம்",dataType:"textbox",validation:"Min length 6, Max 200",isRequired:!1,groupHeading:"Completion Details",displayOrder:44,category:"default",componentType:"Infrastructure"},{id:"workCreatedBy",englishName:"Work Created By",tamilName:"வேலையை உருவாக்கியவர்",englishDescription:"User who created the work",tamilDescription:"வேலையை உருவாக்கிய பயனர்",dataType:"textbox",validation:"Future reference",isRequired:!1,groupHeading:"Meta",displayOrder:45,category:"default",componentType:"Infrastructure"}];simpleFields=[{group:"Scheme Details",name:"zone",type:"dropdown",validation:"Dropdown from M1"},{group:"Scheme Details",name:"districtName",type:"dropdown",validation:"Dropdown from M2"},{group:"Scheme Details",name:"townPanchayatName",type:"dropdown",validation:"Dropdown from M3"},{group:"Scheme Details",name:"schemeName",type:"dropdown",validation:"Dropdown from M4"},{group:"Scheme Details",name:"schemeAbbreviation",type:"byCode",validation:"By Code"},{group:"Scheme Details",name:"year",type:"dropdown",validation:"Dropdown from M9"},{group:"Scheme Details",name:"component",type:"dropdown",validation:"Dropdown from M7"},{group:"Scheme Details",name:"implementationAgency",type:"byCode",validation:"By Code"},{group:"Scheme Details",name:"schemeFundingTamil",type:"dropdown",validation:"Dropdown from M7"},{group:"Scheme Details",name:"announcementScheme",type:"optionButton",validation:"Yes/No"},{group:"Scheme Details",name:"flagshipScheme",type:"optionButton",validation:"Yes/No"},{group:"Work Details",name:"wardNo",type:"dropdown",validation:"Dropdown from M3"},{group:"Work Details",name:"roadTypeEnglish",type:"dropdown",validation:"Dropdown"},{group:"Work Details",name:"roadTypeTamil",type:"dropdown",validation:"Dropdown"},{group:"Work Details",name:"workNameEnglish",type:"textbox",validation:"Minimum length 10, Maximum 700"},{group:"Work Details",name:"workNameTamil",type:"textbox",validation:"Minimum length 10, Maximum 700"},{group:"Work Details",name:"noOfRoadsPackage",type:"numeric",validation:"1 to 100; if >1 then open subform (enter road names, length)"},{group:"Work Details",name:"lengthKm",type:"numeric",validation:"0 to 90, up to 3 decimal places; sum auto from subform"},{group:"Work Details",name:"estimateRupees",type:"numeric",validation:"Min 10000, no max limit"},{group:"A.S. Details",name:"administrativeSanctionNo",type:"textbox",validation:"Minimum length 6, Maximum 100"},{group:"A.S. Details",name:"administrativeSanctionDate",type:"datePicker",validation:"Future dates not allowed"},{group:"T.S. Details",name:"technicalSanctionNo",type:"textbox",validation:"Minimum length 6, Maximum 100"},{group:"T.S. Details",name:"technicalSanctionDate",type:"datePicker",validation:"Future dates not allowed"},{group:"Tender Details",name:"tenderDate",type:"datePicker",validation:"Future dates allowed"},{group:"Tender Details",name:"contractorGstNo",type:"searchBox",validation:"Auto show from Contractor module"},{group:"Tender Details",name:"contractorName",type:"vlookup",validation:"Based on GST No"},{group:"Tender Details",name:"agreementDate",type:"datePicker",validation:"Future dates not allowed"},{group:"Tender Details",name:"agreementDurationValue",type:"numeric",validation:"Min 1, Max 100"},{group:"Tender Details",name:"agreementDurationUnit",type:"dropdown",validation:"Months, Days, Years"},{group:"Tender Details",name:"workOrderDate",type:"datePicker",validation:"Future dates not allowed"},{group:"Work Progress",name:"stage",type:"dropdown",validation:"Dropdown from M8"},{group:"Work Progress",name:"progressPercent",type:"dropdown",validation:"Based on M8"},{group:"Work Progress",name:"presentStatus",type:"textbox",validation:"Min length 6, Max length 200"},{group:"Work Progress",name:"probableCompletionDate",type:"datePicker",validation:"Only future dates allowed"},{group:"Fund Details",name:"fundReleasedRupees",type:"subForm",validation:"Separate master"},{group:"Fund Details",name:"expenditureRupees",type:"subForm",validation:"Separate master"},{group:"Fund Details",name:"balanceOnFundReleased",type:"autoCalculation",validation:"Col 30 - Col 31"},{group:"Fund Details",name:"balanceOnEstimate",type:"autoCalculation",validation:"Col 14 - Col 31"},{group:"Fund Details",name:"expenditurePercent",type:"autoCalculation",validation:"Col 31 / Col 14 * 100"},{group:"Completion Details",name:"completionReport",type:"subFormYesNo",validation:"Separate master"},{group:"Completion Details",name:"uccrDetails",type:"subForm",validation:"Separate master"},{group:"Completion Details",name:"workPhotosUrl",type:"cameraWithGps",validation:"Up to 4 photos, 15MB each, GPS & date tag"},{group:"Completion Details",name:"geoLocation",type:"map",validation:"Select from map or paste"},{group:"Completion Details",name:"pendingReason",type:"textbox",validation:"Min length 6, Max 200"},{group:"Meta",name:"workCreatedBy",type:"textbox",validation:"Future reference"}];async getDefaultFieldsByComponent(a,b="default"){return await new Promise(a=>setTimeout(a,500)),Object.entries(this.defaultFields.filter(c=>c.componentType===a&&c.category===b).reduce((a,b)=>(a[b.groupHeading]||(a[b.groupHeading]=[]),a[b.groupHeading].push(b),a),{})).map(([a,b])=>({heading:a,fields:b.sort((a,b)=>a.displayOrder-b.displayOrder)}))}async addCustomField(a){await new Promise(a=>setTimeout(a,300));let b={...a,id:`custom_${Date.now()}`,category:"custom"};return this.defaultFields.push(b),b}validateField(a,b){let c=[];if(a.isRequired&&(!b||""===b.toString().trim())&&c.push(`${a.englishName} is required`),a.validation&&b){for(let d of a.validation.split("|"))if("required"!==d){if(d.startsWith("min:")){let e=Number.parseInt(d.split(":")[1]);"string"===a.dataType&&b.toString().length<e?c.push(`${a.englishName} must be at least ${e} characters`):"number"===a.dataType&&Number.parseFloat(b)<e&&c.push(`${a.englishName} must be at least ${e}`)}if(d.startsWith("max:")){let e=Number.parseInt(d.split(":")[1]);"string"===a.dataType&&b.toString().length>e?c.push(`${a.englishName} must not exceed ${e} characters`):"number"===a.dataType&&Number.parseFloat(b)>e&&c.push(`${a.englishName} must not exceed ${e}`)}"email"!==d||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)||c.push(`${a.englishName} must be a valid email address`),"numeric"===d&&isNaN(Number.parseFloat(b))&&c.push(`${a.englishName} must be a number`),"date"===d&&isNaN(Date.parse(b))&&c.push(`${a.englishName} must be a valid date`)}}return{isValid:0===c.length,errors:c}}async getSimpleFieldsByComponent(a){return(await new Promise(a=>setTimeout(a,500)),"Infrastructure"===a)?this.simpleFields:[]}};var q=a.i(52656),r=a.i(70663),s=a.i(77605),t=a.i(71081),u=a.i(70488),v=a.i(83231),w=a.i(1398),x=a.i(10982),y=a.i(38969),z=a.i(82763),A=a.i(87324),B=a.i(93663);let C=[{value:"string",label:"Text (String)",icon:y.Type},{value:"number",label:"Number",icon:w.Hash},{value:"email",label:"Email",icon:y.Type},{value:"phone",label:"Phone Number",icon:y.Type},{value:"date",label:"Date",icon:x.Calendar},{value:"boolean",label:"Boolean (Yes/No)",icon:y.Type},{value:"textarea",label:"Long Text (Textarea)",icon:i.FileText},{value:"attachment",label:"File Attachment",icon:z.Paperclip}],D=[{value:"pdf",label:"PDF Documents (.pdf)"},{value:"doc",label:"Word Documents (.doc, .docx)"},{value:"xls",label:"Excel Files (.xls, .xlsx)"},{value:"ppt",label:"PowerPoint (.ppt, .pptx)"},{value:"jpg",label:"JPEG Images (.jpg, .jpeg)"},{value:"png",label:"PNG Images (.png)"},{value:"gif",label:"GIF Images (.gif)"},{value:"txt",label:"Text Files (.txt)"},{value:"zip",label:"ZIP Archives (.zip)"},{value:"mp4",label:"MP4 Videos (.mp4)"},{value:"mp3",label:"MP3 Audio (.mp3)"},{value:"csv",label:"CSV Files (.csv)"}];function E({open:a,onOpenChange:e,onFieldCreated:g,componentId:h,componentName:i}){let{user:j}=(0,B.useAuth)(),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)({componentId:h,englishName:"",englishDescription:"",tamilName:"",tamilDescription:"",dataType:"",validation:"",isRequired:!1,createdBy:j?.name||"Super Admin"}),[p,w]=(0,c.useState)([]);c.default.useEffect(()=>{n(a=>({...a,componentId:h}))},[h]);let x=async a=>{a.preventDefault(),l(!0);try{let a="attachment"===m.dataType&&p.length>0?`allowedTypes:${p.join(",")}`:"",b={...m,validation:a||m.validation};await o.fieldService.createField(b),g(),n({componentId:h,englishName:"",englishDescription:"",tamilName:"",tamilDescription:"",dataType:"",validation:"",isRequired:!1,createdBy:j?.name||"Super Admin"}),w([])}catch(a){console.error("Failed to create field:",a)}finally{l(!1)}},y=(a,b)=>{n(c=>({...c,[a]:b}))};return(0,b.jsx)(q.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(q.DialogContent,{className:"sm:max-w-[900px] max-h-[95vh] overflow-y-auto bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 border-0 shadow-2xl backdrop-blur-sm",onPointerDownOutside:a=>a.preventDefault(),onEscapeKeyDown:a=>a.preventDefault(),children:[(0,b.jsxs)(q.DialogHeader,{className:"pb-4 border-b border-slate-200/50 dark:border-slate-700/50",children:[(0,b.jsx)(q.DialogTitle,{className:"text-xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-100 dark:to-slate-300 bg-clip-text text-transparent",children:"Create New Field"}),(0,b.jsxs)(q.DialogDescription,{className:"text-sm text-slate-600 dark:text-slate-400",children:["Add a new field to ",(0,b.jsx)("strong",{className:"text-slate-800 dark:text-slate-200",children:i})," with data type and validation rules"]})]}),(0,b.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-4 p-4 bg-gradient-to-br from-white/80 to-slate-50/80 dark:from-slate-800/80 dark:to-slate-900/80 rounded-lg border border-slate-200/50 dark:border-slate-700/50 backdrop-blur-sm shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"English Details"]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"englishName",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Field Name *"}),(0,b.jsx)(r.Input,{id:"englishName",value:m.englishName,onChange:a=>y("englishName",a.target.value),placeholder:"Enter English field name",className:"h-8 text-sm",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"englishDescription",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Description *"}),(0,b.jsx)(t.Textarea,{id:"englishDescription",value:m.englishDescription,onChange:a=>y("englishDescription",a.target.value),placeholder:"Enter English description",rows:3,className:"resize-none text-sm",required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-4 p-4 bg-gradient-to-br from-white/80 to-slate-50/80 dark:from-slate-800/80 dark:to-slate-900/80 rounded-lg border border-slate-200/50 dark:border-slate-700/50 backdrop-blur-sm shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Tamil Details"]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"tamilName",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Field Name *"}),(0,b.jsx)(r.Input,{id:"tamilName",value:m.tamilName,onChange:a=>y("tamilName",a.target.value),placeholder:"Enter Tamil field name",className:"h-8 text-sm",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"tamilDescription",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Description *"}),(0,b.jsx)(t.Textarea,{id:"tamilDescription",value:m.tamilDescription,onChange:a=>y("tamilDescription",a.target.value),placeholder:"Enter Tamil description",rows:3,className:"resize-none text-sm",required:!0})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4 p-4 bg-gradient-to-br from-white/80 to-slate-50/80 dark:from-slate-800/80 dark:to-slate-900/80 rounded-lg border border-slate-200/50 dark:border-slate-700/50 backdrop-blur-sm shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),"Field Configuration"]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"dataType",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Data Type *"}),(0,b.jsxs)(f.Select,{value:m.dataType,onValueChange:a=>y("dataType",a),children:[(0,b.jsx)(f.SelectTrigger,{className:"h-8 text-sm",children:(0,b.jsx)(f.SelectValue,{placeholder:"Select data type"})}),(0,b.jsx)(f.SelectContent,{children:C.map(a=>{let c=a.icon;return(0,b.jsx)(f.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"text-sm",children:a.label})]})},a.value)})})]})]}),"attachment"===m.dataType?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Allowed File Types *"}),(0,b.jsxs)(f.Select,{onValueChange:a=>{p.includes(a)||w([...p,a])},children:[(0,b.jsx)(f.SelectTrigger,{className:"h-8 text-sm",children:(0,b.jsx)(f.SelectValue,{placeholder:"Select allowed file types"})}),(0,b.jsx)(f.SelectContent,{children:D.filter(a=>!p.includes(a.value)).map(a=>(0,b.jsx)(f.SelectItem,{value:a.value,children:(0,b.jsx)("span",{className:"text-sm",children:a.label})},a.value))})]})]}),p.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Selected File Types"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:p.map(a=>{let c=D.find(b=>b.value===a);return(0,b.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded-md text-xs",children:[(0,b.jsx)("span",{children:c?.label}),(0,b.jsx)("button",{type:"button",onClick:()=>{w(p.filter(b=>b!==a))},className:"hover:bg-blue-200 dark:hover:bg-blue-800/50 rounded-full p-0.5",children:(0,b.jsx)(A.X,{className:"h-3 w-3"})})]},a)})})]})]}):null,(0,b.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-white/60 dark:bg-slate-800/60 rounded-md border border-slate-200/50 dark:border-slate-700/50",children:[(0,b.jsx)(u.Checkbox,{id:"isRequired",checked:m.isRequired,onCheckedChange:a=>y("isRequired",!!a)}),(0,b.jsx)(s.Label,{htmlFor:"isRequired",className:"text-xs font-medium cursor-pointer text-slate-700 dark:text-slate-300",children:"This field is required"})]})]}),(0,b.jsxs)(q.DialogFooter,{className:"pt-4 border-t border-slate-200/50 dark:border-slate-700/50",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:k,size:"sm",className:"text-sm",children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",disabled:k,size:"sm",className:"text-sm",children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Loader2,{className:"mr-1.5 h-3 w-3 animate-spin"}),"Creating..."]}):"Create Field"})]})]})]})})}var F=a.i(22313);let G=[{value:"string",label:"Text (String)",icon:y.Type},{value:"number",label:"Number",icon:w.Hash},{value:"email",label:"Email",icon:y.Type},{value:"phone",label:"Phone Number",icon:y.Type},{value:"date",label:"Date",icon:x.Calendar},{value:"boolean",label:"Boolean (Yes/No)",icon:y.Type},{value:"textarea",label:"Long Text (Textarea)",icon:i.FileText},{value:"attachment",label:"File Attachment",icon:z.Paperclip}],H=[{value:"pdf",label:"PDF Documents (.pdf)"},{value:"doc",label:"Word Documents (.doc, .docx)"},{value:"xls",label:"Excel Files (.xls, .xlsx)"},{value:"ppt",label:"PowerPoint (.ppt, .pptx)"},{value:"jpg",label:"JPEG Images (.jpg, .jpeg)"},{value:"png",label:"PNG Images (.png)"},{value:"gif",label:"GIF Images (.gif)"},{value:"txt",label:"Text Files (.txt)"},{value:"zip",label:"ZIP Archives (.zip)"},{value:"mp4",label:"MP4 Videos (.mp4)"},{value:"mp3",label:"MP3 Audio (.mp3)"},{value:"csv",label:"CSV Files (.csv)"}];function I({open:a,onOpenChange:e,onFieldUpdated:g,field:h}){let[i,j]=(0,c.useState)({englishName:"",tamilName:"",englishDescription:"",tamilDescription:"",dataType:"",validation:"",isRequired:!1}),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)([]),{toast:p}=(0,F.useToast)();(0,c.useEffect)(()=>{if(h&&(j({englishName:h.englishName,tamilName:h.tamilName,englishDescription:h.englishDescription,tamilDescription:h.tamilDescription,dataType:h.dataType,validation:h.validation||"",isRequired:h.isRequired}),"attachment"===h.dataType&&h.validation)){let a=h.validation.match(/allowedTypes:([^,]+)/);a&&n(a[1].split(","))}},[h]);let w=async a=>{if(a.preventDefault(),h){l(!0);try{let a="attachment"===i.dataType&&m.length>0?`allowedTypes:${m.join(",")}`:"";await o.fieldService.updateField(h.id,{...i,validation:a||i.validation||void 0}),g()}catch(a){p({title:"Error",description:"Failed to update field",variant:"destructive"})}finally{l(!1)}}},x=(a,b)=>{j(c=>({...c,[a]:b}))};return(0,b.jsx)(q.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(q.DialogContent,{className:"sm:max-w-[900px] max-h-[95vh] overflow-y-auto bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 border-0 shadow-2xl backdrop-blur-sm",children:[(0,b.jsxs)(q.DialogHeader,{className:"pb-4 border-b border-slate-200/50 dark:border-slate-700/50",children:[(0,b.jsx)(q.DialogTitle,{className:"text-xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 dark:from-slate-100 dark:to-slate-300 bg-clip-text text-transparent",children:"Edit Field"}),(0,b.jsx)(q.DialogDescription,{className:"text-sm text-slate-600 dark:text-slate-400",children:"Update field information and validation rules"})]}),(0,b.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-4 p-4 bg-gradient-to-br from-white/80 to-slate-50/80 dark:from-slate-800/80 dark:to-slate-900/80 rounded-lg border border-slate-200/50 dark:border-slate-700/50 backdrop-blur-sm shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"English Details"]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"englishName",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Field Name *"}),(0,b.jsx)(r.Input,{id:"englishName",value:i.englishName,onChange:a=>x("englishName",a.target.value),className:"h-8 text-sm",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"englishDescription",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Description *"}),(0,b.jsx)(t.Textarea,{id:"englishDescription",value:i.englishDescription,onChange:a=>x("englishDescription",a.target.value),rows:3,className:"resize-none text-sm",required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-4 p-4 bg-gradient-to-br from-white/80 to-slate-50/80 dark:from-slate-800/80 dark:to-slate-900/80 rounded-lg border border-slate-200/50 dark:border-slate-700/50 backdrop-blur-sm shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Tamil Details"]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"tamilName",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Field Name *"}),(0,b.jsx)(r.Input,{id:"tamilName",value:i.tamilName,onChange:a=>x("tamilName",a.target.value),className:"h-8 text-sm",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"tamilDescription",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Description *"}),(0,b.jsx)(t.Textarea,{id:"tamilDescription",value:i.tamilDescription,onChange:a=>x("tamilDescription",a.target.value),rows:3,className:"resize-none text-sm",required:!0})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4 p-4 bg-gradient-to-br from-white/80 to-slate-50/80 dark:from-slate-800/80 dark:to-slate-900/80 rounded-lg border border-slate-200/50 dark:border-slate-700/50 backdrop-blur-sm shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold flex items-center gap-2 text-slate-800 dark:text-slate-200",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),"Field Configuration"]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(s.Label,{htmlFor:"dataType",className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Data Type *"}),(0,b.jsxs)(f.Select,{value:i.dataType,onValueChange:a=>{x("dataType",a),n([])},children:[(0,b.jsx)(f.SelectTrigger,{className:"h-8 text-sm",children:(0,b.jsx)(f.SelectValue,{placeholder:"Select data type"})}),(0,b.jsx)(f.SelectContent,{children:G.map(a=>{let c=a.icon;return(0,b.jsx)(f.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"text-sm",children:a.label})]})},a.value)})})]})]}),"attachment"===i.dataType?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Allowed File Types *"}),(0,b.jsxs)(f.Select,{onValueChange:a=>{m.includes(a)||n([...m,a])},children:[(0,b.jsx)(f.SelectTrigger,{className:"h-8 text-sm",children:(0,b.jsx)(f.SelectValue,{placeholder:"Select allowed file types"})}),(0,b.jsx)(f.SelectContent,{children:H.filter(a=>!m.includes(a.value)).map(a=>(0,b.jsx)(f.SelectItem,{value:a.value,children:(0,b.jsx)("span",{className:"text-sm",children:a.label})},a.value))})]})]}),m.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(s.Label,{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:"Selected File Types"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(a=>{let c=H.find(b=>b.value===a);return(0,b.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded-md text-xs",children:[(0,b.jsx)("span",{children:c?.label}),(0,b.jsx)("button",{type:"button",onClick:()=>{n(m.filter(b=>b!==a))},className:"hover:bg-blue-200 dark:hover:bg-blue-800/50 rounded-full p-0.5",children:(0,b.jsx)(A.X,{className:"h-3 w-3"})})]},a)})})]})]}):null,(0,b.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-white/60 dark:bg-slate-800/60 rounded-md border border-slate-200/50 dark:border-slate-700/50",children:[(0,b.jsx)(u.Checkbox,{id:"isRequired",checked:i.isRequired,onCheckedChange:a=>x("isRequired",!!a)}),(0,b.jsx)(s.Label,{htmlFor:"isRequired",className:"text-xs font-medium cursor-pointer text-slate-700 dark:text-slate-300",children:"This field is required"})]})]}),(0,b.jsxs)(q.DialogFooter,{className:"pt-4 border-t border-slate-200/50 dark:border-slate-700/50",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:k,size:"sm",className:"text-sm",children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",disabled:k,size:"sm",className:"text-sm",children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Loader2,{className:"mr-1.5 h-3 w-3 animate-spin"}),"Updating..."]}):"Update Field"})]})]})]})})}var J=a.i(24697),K=a.i(97531),L=a.i(25092),M=a.i(23939),N=a.i(19080),O=a.i(45197),P=a.i(2831),Q=a.i(19189),R=a.i(88219),S="Collapsible",[T,U]=(0,L.createContextScope)(S),[V,W]=T(S),X=c.forwardRef((a,d)=>{let{__scopeCollapsible:e,open:f,defaultOpen:g,disabled:h,onOpenChange:i,...j}=a,[k=!1,l]=(0,M.useControllableState)({prop:f,defaultProp:g,onChange:i});return(0,b.jsx)(V,{scope:e,disabled:h,contentId:(0,R.useId)(),open:k,onOpenToggle:c.useCallback(()=>l(a=>!a),[l]),children:(0,b.jsx)(P.Primitive.div,{"data-state":ab(k),"data-disabled":h?"":void 0,...j,ref:d})})});X.displayName=S;var Y="CollapsibleTrigger",Z=c.forwardRef((a,c)=>{let{__scopeCollapsible:d,...e}=a,f=W(Y,d);return(0,b.jsx)(P.Primitive.button,{type:"button","aria-controls":f.contentId,"aria-expanded":f.open||!1,"data-state":ab(f.open),"data-disabled":f.disabled?"":void 0,disabled:f.disabled,...e,ref:c,onClick:(0,K.composeEventHandlers)(a.onClick,f.onOpenToggle)})});Z.displayName=Y;var $="CollapsibleContent",_=c.forwardRef((a,c)=>{let{forceMount:d,...e}=a,f=W($,a.__scopeCollapsible);return(0,b.jsx)(Q.Presence,{present:d||f.open,children:({present:a})=>(0,b.jsx)(aa,{...e,ref:c,present:a})})});_.displayName=$;var aa=c.forwardRef((a,d)=>{let{__scopeCollapsible:e,present:f,children:g,...h}=a,i=W($,e),[j,k]=c.useState(f),l=c.useRef(null),m=(0,O.useComposedRefs)(d,l),n=c.useRef(0),o=n.current,p=c.useRef(0),q=p.current,r=i.open||j,s=c.useRef(r),t=c.useRef(void 0);return c.useEffect(()=>{let a=requestAnimationFrame(()=>s.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,N.useLayoutEffect)(()=>{let a=l.current;if(a){t.current=t.current||{transitionDuration:a.style.transitionDuration,animationName:a.style.animationName},a.style.transitionDuration="0s",a.style.animationName="none";let b=a.getBoundingClientRect();n.current=b.height,p.current=b.width,s.current||(a.style.transitionDuration=t.current.transitionDuration,a.style.animationName=t.current.animationName),k(f)}},[i.open,f]),(0,b.jsx)(P.Primitive.div,{"data-state":ab(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!r,...h,ref:m,style:{"--radix-collapsible-content-height":o?`${o}px`:void 0,"--radix-collapsible-content-width":q?`${q}px`:void 0,...a.style},children:r&&g})});function ab(a){return a?"open":"closed"}function ac({...a}){return(0,b.jsx)(X,{"data-slot":"collapsible",...a})}function ad({...a}){return(0,b.jsx)(Z,{"data-slot":"collapsible-trigger",...a})}function ae({...a}){return(0,b.jsx)(_,{"data-slot":"collapsible-content",...a})}function af(){let[a,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,G]=(0,c.useState)(!1),[H,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)(new Set),{toast:V}=(0,F.useToast)(),W=async()=>{try{let a=await m.schemeService.getAllSchemes();q(a)}catch(a){V({title:"Error",description:"Failed to load schemes",variant:"destructive"})}},X=async a=>{try{let b=await n.componentService.getComponentsByScheme(a);s(b),C(""),u([]),w([]),y([])}catch(a){V({title:"Error",description:"Failed to load components",variant:"destructive"})}},Y=async a=>{try{G(!0);let b=await o.fieldService.getFieldsByComponent(a);u(b)}catch(a){V({title:"Error",description:"Failed to load fields",variant:"destructive"})}finally{G(!1)}},Z=async a=>{try{K(!0);let b=await p.getDefaultFieldsByComponent(a,"default");w(b),U(new Set(b.map(a=>a.heading)));let c=await p.getSimpleFieldsByComponent(a);console.log("[v0] Loaded simple fields:",c),console.log("[v0] Simple fields count:",c.length),y(c)}catch(a){V({title:"Error",description:"Failed to load default fields",variant:"destructive"})}finally{K(!1)}},$=async a=>{try{let b={englishName:a.englishName,tamilName:a.tamilName,englishDescription:a.englishDescription,tamilDescription:a.tamilDescription,dataType:a.dataType,validation:a.validation||"",isRequired:a.isRequired,componentId:B};await o.fieldService.createField(b),Y(B),V({title:"Success",description:`${a.englishName} added to template`})}catch(a){V({title:"Error",description:"Failed to add field to template",variant:"destructive"})}},_=async a=>{try{await o.fieldService.deleteField(a),Y(B),V({title:"Success",description:"Field deleted successfully"})}catch(a){V({title:"Error",description:"Failed to delete field",variant:"destructive"})}S(null)};(0,c.useEffect)(()=>{W()},[]),(0,c.useEffect)(()=>{z?X(z):(s([]),C(""),u([]),w([]),y([]))},[z]),(0,c.useEffect)(()=>{if(B){Y(B);let a=r.find(a=>a.id===B);a?.componentType&&Z(a.componentType)}else u([]),w([]),y([])},[B]);let aa=a.find(a=>a.id===z),ab=r.find(a=>a.id===B);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-[#013A65] to-[#F3B335] rounded-lg py-3 px-6 text-white shadow-lg",children:(0,b.jsx)("div",{className:"flex justify-between items-center",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-semibold",children:"Template Management"}),(0,b.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"Manage default fields and create custom templates based on component types"})]})})}),(0,b.jsxs)(e.Card,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[(0,b.jsxs)(e.CardHeader,{className:"pb-4",children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2 text-base font-medium",children:[(0,b.jsx)("div",{className:"p-1.5 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg",children:(0,b.jsx)(j.Database,{className:"h-4 w-4 text-blue-600"})}),"Select Scheme & Component"]}),(0,b.jsx)(e.CardDescription,{className:"text-sm",children:"Choose a scheme and component to manage its fields"})]}),(0,b.jsxs)(e.CardContent,{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Scheme"}),(0,b.jsxs)(f.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(f.SelectTrigger,{className:"h-9 w-full min-w-0 bg-white",children:(0,b.jsx)(f.SelectValue,{placeholder:"Select a scheme"})}),(0,b.jsx)(f.SelectContent,{children:a.map(a=>(0,b.jsx)(f.SelectItem,{value:a.id,children:(0,b.jsxs)("div",{className:"flex flex-col py-1 min-w-0",children:[(0,b.jsx)("span",{className:"font-medium truncate text-sm",children:a.englishName}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground truncate",children:a.tamilName})]})},a.id))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Component"}),(0,b.jsxs)(f.Select,{value:B,onValueChange:C,disabled:!z||0===r.length,children:[(0,b.jsx)(f.SelectTrigger,{className:"h-9 w-full min-w-0 bg-white",children:(0,b.jsx)(f.SelectValue,{placeholder:"Select a component"})}),(0,b.jsx)(f.SelectContent,{children:r.map(a=>(0,b.jsx)(f.SelectItem,{value:a.id,children:(0,b.jsxs)("div",{className:"flex flex-col py-1 min-w-0",children:[(0,b.jsx)("span",{className:"font-medium truncate text-sm",children:a.englishName}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground truncate",children:a.tamilName})]})},a.id))})]})]})]}),aa&&ab&&(0,b.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50/80 to-purple-50/80 rounded-xl border border-blue-200/50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-base text-slate-800",children:aa.englishName}),(0,b.jsx)("p",{className:"text-purple-600 font-medium text-sm",children:aa.tamilName})]}),(0,b.jsx)(g.Badge,{className:"bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 border-0 font-medium text-xs",children:aa.englishAbbreviation})]}),(0,b.jsx)("div",{className:"border-t border-blue-200/50 pt-3",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm text-slate-800",children:ab.englishName}),(0,b.jsx)("p",{className:"text-xs text-purple-600 font-medium",children:ab.tamilName})]}),(0,b.jsxs)(g.Badge,{variant:"outline",className:"px-3 py-1 bg-white/80 backdrop-blur-sm border-blue-200 text-xs",children:[t.length," fields"]})]})})]})})]})]}),B&&(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-lg font-medium text-slate-800",children:"Default Fields"}),(0,b.jsxs)(g.Badge,{variant:"outline",className:"px-3 py-1 bg-white/80 backdrop-blur-sm border-[#F3B335] text-xs",children:[v.reduce((a,b)=>a+b.fields.length,0)," fields"]})]}),H?(0,b.jsx)("div",{className:"space-y-4",children:[1,2,3].map(a=>(0,b.jsx)(e.Card,{className:"animate-pulse border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:(0,b.jsx)(e.CardHeader,{className:"pb-4",children:(0,b.jsx)("div",{className:"h-5 bg-gradient-to-r from-slate-200 to-slate-300 rounded-lg w-3/4"})})},a))}):0===v.length?(0,b.jsx)(e.Card,{className:"text-center py-8 border-0 shadow-xl bg-white/95 backdrop-blur-sm",children:(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"mx-auto w-12 h-12 bg-gradient-to-br from-[#013A65]/10 to-[#F3B335]/10 rounded-xl flex items-center justify-center mb-4",children:(0,b.jsx)(j.Database,{className:"h-6 w-6 text-[#013A65]"})}),(0,b.jsx)("h3",{className:"text-lg font-bold mb-2 text-slate-800",children:"No default fields available"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Select a component to view available default fields"})]})}):(0,b.jsx)("div",{className:"space-y-3",children:v.map(a=>(0,b.jsx)(ac,{open:T.has(a.heading),onOpenChange:()=>{var b;let c;return b=a.heading,void((c=new Set(T)).has(b)?c.delete(b):c.add(b),U(c))},children:(0,b.jsxs)(e.Card,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm overflow-hidden",children:[(0,b.jsx)(ad,{asChild:!0,children:(0,b.jsx)(e.CardHeader,{className:"pb-3 cursor-pointer hover:bg-[#F3B335]/5 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[T.has(a.heading)?(0,b.jsx)(k.ChevronDown,{className:"h-4 w-4 text-[#013A65]"}):(0,b.jsx)(l.ChevronRight,{className:"h-4 w-4 text-[#013A65]"}),(0,b.jsx)(e.CardTitle,{className:"text-base font-medium text-[#013A65]",children:a.heading})]}),(0,b.jsxs)(g.Badge,{className:"bg-[#F3B335]/20 text-[#013A65] border-[#F3B335]/30 text-xs",children:[a.fields.length," fields"]})]})})}),(0,b.jsx)(ae,{children:(0,b.jsx)(e.CardContent,{className:"pt-0 space-y-2",children:a.fields.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50/80 rounded-lg border border-slate-200/50 hover:bg-slate-100/80 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h4",{className:"font-medium text-sm text-slate-800 truncate",children:a.englishName}),(0,b.jsx)(g.Badge,{className:`${{string:"bg-blue-100 text-blue-800",number:"bg-green-100 text-green-800",email:"bg-purple-100 text-purple-800",phone:"bg-orange-100 text-orange-800",date:"bg-pink-100 text-pink-800",boolean:"bg-gray-100 text-gray-800",textarea:"bg-indigo-100 text-indigo-800",attachment:"bg-teal-100 text-teal-800",select:"bg-yellow-100 text-yellow-800"}[a.dataType]||"bg-gray-100 text-gray-800"} text-xs px-2 py-0.5`,children:a.dataType}),a.isRequired&&(0,b.jsx)(g.Badge,{className:"bg-red-100 text-red-700 text-xs px-2 py-0.5",children:"Required"})]}),(0,b.jsx)("p",{className:"text-xs text-slate-600 truncate",children:a.tamilName}),a.validation&&(0,b.jsx)("p",{className:"text-xs text-blue-600 font-mono mt-1",children:a.validation})]}),(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",className:"ml-3 h-8 px-3 text-xs bg-[#013A65] text-white border-[#013A65] hover:bg-[#013A65]/90",onClick:()=>$(a),children:[(0,b.jsx)(h.Plus,{className:"h-3 w-3 mr-1"}),"Add"]})]},a.id))})})]})},a.heading))})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-lg font-medium text-slate-800",children:"Template Fields"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(g.Badge,{variant:"outline",className:"px-3 py-1 bg-white/80 backdrop-blur-sm border-[#F3B335] text-xs",children:[x.length," fields"]}),B&&(0,b.jsxs)(d.Button,{onClick:()=>M(!0),size:"sm",className:"bg-gradient-to-r from-[#013A65] to-[#F3B335] hover:from-[#013A65]/90 hover:to-[#F3B335]/90 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 h-8 px-3 text-xs",children:[(0,b.jsx)(h.Plus,{className:"h-3 w-3 mr-1"}),"Custom Field"]})]})]}),D?(0,b.jsx)("div",{className:"space-y-4",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:"animate-pulse bg-slate-200 h-16 rounded-lg"},a))}):(console.log("[v0] Rendering table with simpleFields:",x),console.log("[v0] Table will show",x.length,"rows"),0===x.length)?(0,b.jsx)(e.Card,{className:"text-center py-16 border-0 shadow-xl bg-white/95 backdrop-blur-sm",children:(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center mb-6",children:(0,b.jsx)(i.FileText,{className:"h-8 w-8 text-blue-600"})}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-3 text-slate-800",children:"No fields found"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Select a component to view available fields"})]})}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-[#F3B335] text-[#013A65]",children:[(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm border-b border-[#F3B335]/30",children:"Group"}),(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm border-b border-[#F3B335]/30",children:"Field Name"}),(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm border-b border-[#F3B335]/30",children:"Type"}),(0,b.jsx)("th",{className:"text-left p-3 font-semibold text-sm border-b border-[#F3B335]/30",children:"Validations"})]})}),(0,b.jsx)("tbody",{children:x.map((a,c)=>(console.log("[v0] Rendering field:",a),(0,b.jsxs)("tr",{className:"hover:bg-slate-50/80 transition-colors border-b border-slate-200/50",children:[(0,b.jsx)("td",{className:"p-3 text-sm text-slate-700 font-medium",children:a.group}),(0,b.jsx)("td",{className:"p-3 text-sm text-slate-800 font-medium",children:a.name}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsx)(g.Badge,{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1",children:a.type})}),(0,b.jsx)("td",{className:"p-3 text-sm text-blue-600 font-mono max-w-xs",children:(0,b.jsx)("div",{className:"truncate",title:a.validation,children:a.validation})})]},c)))})]})})]})]}),(0,b.jsx)(E,{open:L,onOpenChange:M,onFieldCreated:()=>{Y(B),M(!1),V({title:"Success",description:"Field created successfully"})},componentId:B,componentName:ab?.englishName||""}),(0,b.jsx)(I,{open:N,onOpenChange:O,onFieldUpdated:()=>{Y(B),O(!1),Q(null),V({title:"Success",description:"Field updated successfully"})},field:P}),(0,b.jsx)(J.AlertDialog,{open:!!R,onOpenChange:()=>S(null),children:(0,b.jsxs)(J.AlertDialogContent,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm",children:[(0,b.jsxs)(J.AlertDialogHeader,{children:[(0,b.jsx)(J.AlertDialogTitle,{className:"text-xl font-bold text-slate-800",children:"Delete Field"}),(0,b.jsx)(J.AlertDialogDescription,{className:"text-slate-600 leading-relaxed",children:"Are you sure you want to delete this field? This action cannot be undone."})]}),(0,b.jsxs)(J.AlertDialogFooter,{children:[(0,b.jsx)(J.AlertDialogCancel,{className:"border-slate-300 hover:bg-slate-50",children:"Cancel"}),(0,b.jsx)(J.AlertDialogAction,{onClick:()=>R&&_(R),className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white border-0 shadow-lg",children:"Delete"})]})]})})]})}a.s(["default",()=>af],64020)}];

//# sourceMappingURL=projects_TITTAM_tittam_fe_components_dashboard_fields-management_tsx_86f5c531._.js.map