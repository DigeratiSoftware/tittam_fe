module.exports=[43819,a=>{"use strict";var b=a.i(23413),c=a.i(32496),d=a.i(6765),e=a.i(24224),f=a.i(70488),g=a.i(75142),h=a.i(32684),i=a.i(5052),j=a.i(15481),k=a.i(53109),l=a.i(32704),m=a.i(83231),n=a.i(1519),o=a.i(54066),p=a.i(39766),q=a.i(11800),r=a.i(86863),s=a.i(33700);function t(){let[a,t]=(0,c.useState)("overall"),[u,v]=(0,c.useState)(["zone"]),[w,x]=(0,c.useState)("all"),[y,z]=(0,c.useState)("all"),[A,B]=(0,c.useState)("all"),[C,D]=(0,c.useState)("all"),[E,F]=(0,c.useState)("all"),[G,H]=(0,c.useState)("all"),[I,J]=(0,c.useState)(!0),[K,L]=(0,c.useState)(!0),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(1),[S]=(0,c.useState)(10),[T,U]=(0,c.useState)([]),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)([]),[Z,$]=(0,c.useState)([]),[_,aa]=(0,c.useState)([]),[ab,ac]=(0,c.useState)([]);(0,c.useEffect)(()=>{ad(),ag()},[]),(0,c.useEffect)(()=>{ag(),R(1)},[a,u,w,y,A,C,E,G,I,K]),(0,c.useEffect)(()=>{"all"!==C?ae(C):(aa([]),F("all"),ac([]),H("all"))},[C]),(0,c.useEffect)(()=>{"all"!==E?af(E):(ac([]),H("all"))},[E]);let ad=async()=>{let a=await s.reportService.getFilterOptions();U(a.schemes),W(a.components),Y(a.years),$(a.zones)},ae=async a=>{aa(await s.reportService.getDistricts(a)),F("all"),ac([]),H("all")},af=async a=>{ac(await s.reportService.getTownPanchayats(a)),H("all")},ag=async()=>{P(!0);let b="all";I&&!K?b="Announcement":!I&&K&&(b="Flagship");let c={reportCategory:"dashboard",reportType:a,viewType:"overall"===a?"zone":void 0,scheme:w,component:y,year:A,zone:C,district:E,townPanchayat:G,schemeType:b,schemeWiseView:"scheme"===a?"both":void 0,componentWiseView:"component"===a?"both":void 0,yearWiseView:"year"===a?"both":void 0};N(await s.reportService.generateReport(c)),P(!1)},ah=Math.ceil(M.length/S),ai=(Q-1)*S,aj=ai+S,ak=M.slice(ai,aj);return(0,b.jsx)(q.ProtectedRoute,{children:(0,b.jsx)(p.DashboardLayout,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 rounded-lg py-3 px-6 text-white shadow-lg",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-semibold",children:"Dashboard Reports"}),(0,b.jsx)("p",{className:"text-white/80 text-sm mt-1",children:"Generate comprehensive dashboard reports with advanced hierarchical filtering"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(l.FileBarChart,{className:"h-8 w-8 text-[#F3B335]"})})]})}),(0,b.jsxs)("div",{className:"flex flex-col h-full bg-white rounded-lg border border-[#EDEEF0] shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex-shrink-0 p-4 border-b border-[#EDEEF0] bg-gradient-to-r from-[#F8F8F8] to-[#EDEEF0]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Filter,{className:"h-5 w-5 text-[#013A65]"}),(0,b.jsx)("h3",{className:"text-base font-semibold text-[#013A65]",children:"Report Filters"})]}),M.length>0&&(0,b.jsxs)(d.Button,{onClick:()=>{let b=r.utils.json_to_sheet(M.map(a=>({"Scheme Name":a.schemeName,Component:a.componentName,Stage:a.stage,Zone:a.zone,District:a.district,"Town Panchayat":a.townPanchayat,"Financial Year":a.financialYear,Status:a.status,"Amount (â‚¹)":a.amount,Beneficiaries:a.beneficiaries,"Completion Date":a.completionDate,"Scheme Type":a.schemeType}))),c=r.utils.book_new();r.utils.book_append_sheet(c,b,"Dashboard Report");let d=new Blob([r.write(c,{bookType:"xlsx",type:"array"})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),e=URL.createObjectURL(d),f=document.createElement("a");f.href=e,f.download=`Dashboard_Report_${a}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(e)},size:"sm",className:"bg-gradient-to-r from-[#F3B335] to-[#F3B335]/90 hover:from-[#F3B335]/90 hover:to-[#F3B335]/80 text-[#013A65] border-0 shadow-lg hover:shadow-xl transition-all duration-300 h-9 px-4 text-sm font-medium",children:[(0,b.jsx)(j.Download,{className:"h-4 w-4 mr-1.5"}),"Download Excel"]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-[#013A65] mb-2 block",children:"Report Type"}),(0,b.jsx)(g.Tabs,{value:a,onValueChange:a=>{t(a),"overall"===a?v(["zone"]):v(["both"])},className:"w-full",children:(0,b.jsxs)(g.TabsList,{className:"grid w-full grid-cols-4 h-11 bg-white border border-[#EDEEF0]",children:[(0,b.jsx)(g.TabsTrigger,{value:"overall",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#013A65] data-[state=active]:to-[#013A65]/90 data-[state=active]:text-white",children:"Overall Wise"}),(0,b.jsx)(g.TabsTrigger,{value:"scheme",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#013A65] data-[state=active]:to-[#013A65]/90 data-[state=active]:text-white",children:"Scheme Wise"}),(0,b.jsx)(g.TabsTrigger,{value:"component",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#013A65] data-[state=active]:to-[#013A65]/90 data-[state=active]:text-white",children:"Component Wise"}),(0,b.jsx)(g.TabsTrigger,{value:"year",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#013A65] data-[state=active]:to-[#013A65]/90 data-[state=active]:text-white",children:"Year Wise"})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[#013A65]",children:"Zone"}),(0,b.jsxs)(e.Select,{value:C,onValueChange:D,children:[(0,b.jsx)(e.SelectTrigger,{className:"h-11 w-full bg-white border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20",children:(0,b.jsx)(e.SelectValue,{placeholder:"All zones"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All zones"}),Z.map(a=>(0,b.jsx)(e.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[#013A65]",children:"District"}),(0,b.jsxs)(e.Select,{value:E,onValueChange:F,disabled:"all"===C,children:[(0,b.jsx)(e.SelectTrigger,{className:"h-11 w-full bg-white border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20",children:(0,b.jsx)(e.SelectValue,{placeholder:"All districts"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All districts"}),_.map(a=>(0,b.jsx)(e.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[#013A65]",children:"Town Panchayat"}),(0,b.jsxs)(e.Select,{value:G,onValueChange:H,disabled:"all"===E,children:[(0,b.jsx)(e.SelectTrigger,{className:"h-11 w-full bg-white border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20",children:(0,b.jsx)(e.SelectValue,{placeholder:"All town panchayats"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All town panchayats"}),ab.map(a=>(0,b.jsx)(e.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[#013A65]",children:"Scheme"}),(0,b.jsxs)(e.Select,{value:w,onValueChange:x,children:[(0,b.jsx)(e.SelectTrigger,{className:"h-11 w-full bg-white border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20",children:(0,b.jsx)(e.SelectValue,{placeholder:"All schemes"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All schemes"}),T.map(a=>(0,b.jsx)(e.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[#013A65]",children:"Component"}),(0,b.jsxs)(e.Select,{value:y,onValueChange:z,children:[(0,b.jsx)(e.SelectTrigger,{className:"h-11 w-full bg-white border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20",children:(0,b.jsx)(e.SelectValue,{placeholder:"All components"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All components"}),V.map(a=>(0,b.jsx)(e.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[#013A65]",children:"Financial Year"}),(0,b.jsxs)(e.Select,{value:A,onValueChange:B,children:[(0,b.jsx)(e.SelectTrigger,{className:"h-11 w-full bg-white border-[#EDEEF0] focus:border-[#013A65] focus:ring-[#013A65]/20",children:(0,b.jsx)(e.SelectValue,{placeholder:"All years"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All years"}),X.map(a=>(0,b.jsx)(e.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-[#013A65]",children:"Scheme Type"}),(0,b.jsxs)("div",{className:"flex gap-6 h-11 items-center px-3 bg-white rounded-md border border-[#EDEEF0]",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(f.Checkbox,{id:"announcement",checked:I,onCheckedChange:a=>J(a)}),(0,b.jsx)("label",{htmlFor:"announcement",className:"text-sm font-medium text-[#013A65] cursor-pointer select-none",children:"Announcement"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(f.Checkbox,{id:"flagship",checked:K,onCheckedChange:a=>L(a)}),(0,b.jsx)("label",{htmlFor:"flagship",className:"text-sm font-medium text-[#013A65] cursor-pointer select-none",children:"Flagship"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-[#013A65]",children:"View Options"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 p-3 bg-white rounded-lg border border-[#EDEEF0]",children:(()=>{switch(a){case"overall":return[{value:"zone",label:"Zone Wise"},{value:"district",label:"District Wise"},{value:"townpanchayat",label:"Town Panchayat Wise"},{value:"scheme",label:"Scheme Wise"},{value:"component",label:"Component Wise"},{value:"year",label:"Year Wise"}];case"scheme":return[{value:"component",label:"Component Wise"},{value:"year",label:"Year Wise"}];case"component":return[{value:"scheme",label:"Scheme Wise"},{value:"year",label:"Year Wise"}];case"year":return[{value:"scheme",label:"Scheme Wise"},{value:"component",label:"Component Wise"}];default:return[]}})().map(a=>(0,b.jsx)("button",{onClick:()=>{var b;return b=a.value,void v(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${u.includes(a.value)?"bg-gradient-to-r from-[#013A65] to-[#013A65]/90 text-white shadow-md":"bg-white border border-[#EDEEF0] text-[#013A65] hover:bg-[#F8F8F8]"}`,children:a.label},a.value))})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto",children:O?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-[#013A65]/70",children:[(0,b.jsx)(m.Loader2,{className:"h-5 w-5 animate-spin"}),(0,b.jsx)("span",{children:"Loading report data..."})]})}):0===M.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-[#013A65]/10 to-[#F3B335]/10 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(l.FileBarChart,{className:"h-8 w-8 text-[#013A65]/60"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-[#013A65] mb-2",children:"No report data found"}),(0,b.jsx)("p",{className:"text-[#013A65]/70 mb-4",children:"No data matches your current filter criteria. Try adjusting the filters."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{className:"bg-[#F3B335] hover:bg-[#F3B335]",children:[(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Scheme Name"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Component"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Stage"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Zone"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"District"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Town Panchayat"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Financial Year"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Status"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold text-right",children:"Amount"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold text-right",children:"Beneficiaries"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Completion Date"}),(0,b.jsx)(h.TableHead,{className:"text-[#013A65] font-semibold",children:"Scheme Type"})]})}),(0,b.jsx)(h.TableBody,{children:ak.map(a=>{let c;return(0,b.jsxs)(h.TableRow,{className:"hover:bg-[#F8F8F8]/50",children:[(0,b.jsx)(h.TableCell,{className:"font-medium text-[#013A65] max-w-xs truncate",title:a.schemeName,children:a.schemeName}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/80 max-w-xs truncate",title:a.componentName,children:a.componentName}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/80",children:a.stage}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/80",children:a.zone}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/80",children:a.district}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/80",children:a.townPanchayat}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/80",children:a.financialYear}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)(i.Badge,{variant:(a=>{switch(a.toLowerCase()){case"active":return"default";case"completed":default:return"secondary";case"pending":return"destructive";case"approved":return"outline"}})(a.status),className:"bg-gradient-to-r from-[#F3B335]/20 to-[#F3B335]/30 text-[#013A65] border-[#F3B335]/40",children:a.status})}),(0,b.jsx)(h.TableCell,{className:"text-right font-mono text-[#013A65]",children:(c=a.amount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(c))}),(0,b.jsx)(h.TableCell,{className:"text-right text-[#013A65]",children:a.beneficiaries.toLocaleString()}),(0,b.jsx)(h.TableCell,{className:"text-[#013A65]/70",children:new Date(a.completionDate).toLocaleDateString()}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)(i.Badge,{className:"Flagship"===a.schemeType?"bg-gradient-to-r from-[#013A65]/20 to-[#013A65]/30 text-[#013A65] border-[#013A65]/40":"bg-gradient-to-r from-[#F3B335]/20 to-[#F3B335]/30 text-[#013A65] border-[#F3B335]/40",children:a.schemeType})})]},a.id)})})]}),ah>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-[#EDEEF0] bg-[#F8F8F8]",children:[(0,b.jsxs)("div",{className:"text-sm text-[#013A65]/70",children:["Showing ",ai+1," to ",Math.min(aj,M.length)," of ",M.length," ","results"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{Q>1&&R(Q-1)},disabled:1===Q,className:"h-8 px-3 bg-white border-[#EDEEF0] hover:bg-[#F3B335]/10 disabled:opacity-50",children:[(0,b.jsx)(n.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,b.jsxs)("div",{className:"text-sm text-[#013A65] font-medium px-3",children:["Page ",Q," of ",ah]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{Q<ah&&R(Q+1)},disabled:Q===ah,className:"h-8 px-3 bg-white border-[#EDEEF0] hover:bg-[#F3B335]/10 disabled:opacity-50",children:["Next",(0,b.jsx)(o.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]})})]})]})})})}a.s(["default",()=>t])}];

//# sourceMappingURL=projects_TITTAM_tittam_fe_app_dashboard_reports_dashboard_page_tsx_125f81ac._.js.map